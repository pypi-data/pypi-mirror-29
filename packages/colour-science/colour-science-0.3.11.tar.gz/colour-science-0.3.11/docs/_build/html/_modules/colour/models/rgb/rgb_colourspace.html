

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>colour.models.rgb.rgb_colourspace &mdash; Colour 0.3.11 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../../search.html"/>
    <link rel="top" title="Colour 0.3.11 documentation" href="../../../../index.html"/>
        <link rel="up" title="Module code" href="../../../index.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> Colour
          

          
            
            <img src="../../../../_static/Logo_Small_001.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../manual.html">Colour Manual</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Colour</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
      <li>colour.models.rgb.rgb_colourspace</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for colour.models.rgb.rgb_colourspace</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">RGB Colourspace and Transformations</span>
<span class="sd">===================================</span>

<span class="sd">Defines the :class:`colour.RGB_Colourspace` class for the *RGB* colourspaces</span>
<span class="sd">dataset from :mod:`colour.models.dataset.aces_rgb`, etc... and the following</span>
<span class="sd">*RGB* colourspace transformations or helper definitions:</span>

<span class="sd">-   :func:`colour.XYZ_to_RGB`</span>
<span class="sd">-   :func:`colour.RGB_to_XYZ`</span>
<span class="sd">-   :func:`colour.RGB_to_RGB_matrix`</span>
<span class="sd">-   :func:`colour.RGB_to_RGB`</span>

<span class="sd">See Also</span>
<span class="sd">--------</span>
<span class="sd">`RGB Colourspaces Jupyter Notebook</span>
<span class="sd">&lt;http://nbviewer.jupyter.org/github/colour-science/colour-notebooks/blob/\</span>
<span class="sd">master/notebooks/models/rgb.ipynb&gt;`_</span>
<span class="sd">References</span>
<span class="sd">----------</span>
<span class="sd">-   :cite:`InternationalElectrotechnicalCommission1999a` : International</span>
<span class="sd">    Electrotechnical Commission. (1999). IEC 61966-2-1:1999 - Multimedia</span>
<span class="sd">    systems and equipment - Colour measurement and management - Part 2-1:</span>
<span class="sd">    Colour management - Default RGB colour space - sRGB. Retrieved from</span>
<span class="sd">    https://webstore.iec.ch/publication/6169</span>
<span class="sd">-   :cite:`Panasonic2014a` : Panasonic. (2014). VARICAM V-Log/V-Gamut.</span>
<span class="sd">    Retrieved from http://pro-av.panasonic.net/en/varicam/common/pdf/\</span>
<span class="sd">VARICAM_V-Log_V-Gamut.pdf</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">division</span><span class="p">,</span> <span class="n">unicode_literals</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">colour.models</span> <span class="k">import</span> <span class="p">(</span><span class="n">xy_to_XYZ</span><span class="p">,</span> <span class="n">xy_to_xyY</span><span class="p">,</span> <span class="n">xyY_to_XYZ</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">colour.models.rgb</span> <span class="k">import</span> <span class="n">normalised_primary_matrix</span>
<span class="kn">from</span> <span class="nn">colour.adaptation</span> <span class="k">import</span> <span class="n">chromatic_adaptation_matrix_VonKries</span>
<span class="kn">from</span> <span class="nn">colour.utilities</span> <span class="k">import</span> <span class="n">dot_matrix</span><span class="p">,</span> <span class="n">dot_vector</span><span class="p">,</span> <span class="n">is_string</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s1">&#39;Colour Developers&#39;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s1">&#39;Copyright (C) 2013-2018 - Colour Developers&#39;</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s1">&#39;New BSD License - http://opensource.org/licenses/BSD-3-Clause&#39;</span>
<span class="n">__maintainer__</span> <span class="o">=</span> <span class="s1">&#39;Colour Developers&#39;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s1">&#39;colour-science@googlegroups.com&#39;</span>
<span class="n">__status__</span> <span class="o">=</span> <span class="s1">&#39;Production&#39;</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;RGB_Colourspace&#39;</span><span class="p">,</span> <span class="s1">&#39;XYZ_to_RGB&#39;</span><span class="p">,</span> <span class="s1">&#39;RGB_to_XYZ&#39;</span><span class="p">,</span> <span class="s1">&#39;RGB_to_RGB_matrix&#39;</span><span class="p">,</span>
    <span class="s1">&#39;RGB_to_RGB&#39;</span>
<span class="p">]</span>


<div class="viewcode-block" id="RGB_Colourspace"><a class="viewcode-back" href="../../../../generated/colour.RGB_Colourspace.html#colour.RGB_Colourspace">[docs]</a><span class="k">class</span> <span class="nc">RGB_Colourspace</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Implements support for the *RGB* colourspaces dataset from</span>
<span class="sd">    :mod:`colour.models.dataset.aces_rgb`, etc....</span>

<span class="sd">    Colour science literature related to *RGB* colourspaces and encodings</span>
<span class="sd">    defines their dataset using different degree of precision or rounding.</span>
<span class="sd">    While instances where a whitepoint is being defined with a value</span>
<span class="sd">    different than its canonical agreed one are rare, it is however very</span>
<span class="sd">    common to have normalised primary matrices rounded at different</span>
<span class="sd">    decimals. This can yield large discrepancies in computations.</span>

<span class="sd">    Such an occurrence is the *V-Gamut* colourspace white paper, that defines</span>
<span class="sd">    the *V-Gamut* to *ITU-R BT.709* conversion matrix as follows::</span>

<span class="sd">        [[ 1.806576 -0.695697 -0.110879]</span>
<span class="sd">         [-0.170090  1.305955 -0.135865]</span>
<span class="sd">         [-0.025206 -0.154468  1.179674]]</span>

<span class="sd">    Computing this matrix using *ITU-R BT.709* colourspace derived normalised</span>
<span class="sd">    primary matrix yields::</span>

<span class="sd">        [[ 1.8065736 -0.6956981 -0.1108786]</span>
<span class="sd">         [-0.1700890  1.3059548 -0.1358648]</span>
<span class="sd">         [-0.0252057 -0.1544678  1.1796737]]</span>

<span class="sd">    The latter matrix is almost equals with the former, however performing the</span>
<span class="sd">    same computation using *IEC 61966-2-1:1999* *sRGB* colourspace normalised</span>
<span class="sd">    primary matrix introduces severe disparities::</span>

<span class="sd">        [[ 1.8063853 -0.6956147 -0.1109453]</span>
<span class="sd">         [-0.1699311  1.3058387 -0.1358616]</span>
<span class="sd">         [-0.0251630 -0.1544899  1.1797117]]</span>

<span class="sd">    In order to provide support for both literature defined dataset and</span>
<span class="sd">    accurate computations enabling transformations without loss of precision,</span>
<span class="sd">    the :class:`colour.RGB_Colourspace` class provides two sets of</span>
<span class="sd">    transformation matrices:</span>

<span class="sd">        -   Instantiation transformation matrices</span>
<span class="sd">        -   Derived transformation matrices</span>

<span class="sd">    Upon instantiation, the :class:`colour.RGB_Colourspace` class stores the</span>
<span class="sd">    given ``RGB_to_XYZ_matrix`` and ``XYZ_to_RGB_matrix`` arguments and also</span>
<span class="sd">    computes their derived counterpart using the ``primaries`` and</span>
<span class="sd">    ``whitepoint`` arguments.</span>

<span class="sd">    Whether the initialisation or derived matrices are used in subsequent</span>
<span class="sd">    computations is dependent on the</span>
<span class="sd">    :attr:`colour.RGB_Colourspace.use_derived_RGB_to_XYZ_matrix` and</span>
<span class="sd">    :attr:`colour.RGB_Colourspace.use_derived_XYZ_to_RGB_matrix` attributes</span>
<span class="sd">    values.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : unicode</span>
<span class="sd">        *RGB* colourspace name.</span>
<span class="sd">    primaries : array_like</span>
<span class="sd">        *RGB* colourspace primaries.</span>
<span class="sd">    whitepoint : array_like</span>
<span class="sd">        *RGB* colourspace whitepoint.</span>
<span class="sd">    illuminant : unicode, optional</span>
<span class="sd">        *RGB* colourspace whitepoint name as illuminant.</span>
<span class="sd">    RGB_to_XYZ_matrix : array_like, optional</span>
<span class="sd">        Transformation matrix from colourspace to *CIE XYZ* tristimulus values.</span>
<span class="sd">    XYZ_to_RGB_matrix : array_like, optional</span>
<span class="sd">        Transformation matrix from *CIE XYZ* tristimulus values to colourspace.</span>
<span class="sd">    encoding_cctf : object, optional</span>
<span class="sd">        Encoding colour component transfer function (Encoding CCTF) /</span>
<span class="sd">        opto-electronic transfer function (OETF / OECF) that maps estimated</span>
<span class="sd">        tristimulus values in a scene to :math:`R&#39;G&#39;B&#39;` video component signal</span>
<span class="sd">        value.</span>
<span class="sd">    decoding_cctf : object, optional</span>
<span class="sd">        Decoding colour component transfer function (Decoding CCTF) /</span>
<span class="sd">        electro-optical transfer function (EOTF / EOCF) that maps an</span>
<span class="sd">        :math:`R&#39;G&#39;B&#39;` video component signal value to tristimulus values at</span>
<span class="sd">        the display.</span>
<span class="sd">    use_derived_RGB_to_XYZ_matrix : bool, optional</span>
<span class="sd">        Whether to use the instantiation time normalised primary matrix or to</span>
<span class="sd">        use a computed derived normalised primary matrix.</span>
<span class="sd">    use_derived_XYZ_to_RGB_matrix : bool, optional</span>
<span class="sd">        Whether to use the instantiation time inverse normalised primary</span>
<span class="sd">        matrix or to use a computed derived inverse normalised primary matrix.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    name</span>
<span class="sd">    primaries</span>
<span class="sd">    whitepoint</span>
<span class="sd">    illuminant</span>
<span class="sd">    RGB_to_XYZ_matrix</span>
<span class="sd">    XYZ_to_RGB_matrix</span>
<span class="sd">    encoding_cctf</span>
<span class="sd">    decoding_cctf</span>
<span class="sd">    use_derived_RGB_to_XYZ_matrix</span>
<span class="sd">    use_derived_XYZ_to_RGB_matrix</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    __str__</span>
<span class="sd">    __repr__</span>
<span class="sd">    use_derived_transformation_matrices</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    -   The normalised primary matrix defined by</span>
<span class="sd">        :attr:`colour.RGB_Colourspace.RGB_to_XYZ_matrix` attribute is treated</span>
<span class="sd">        as the prime matrix from which the inverse will be calculated as</span>
<span class="sd">        required by the internal derivation mechanism. This behaviour has been</span>
<span class="sd">        chosen in accordance with literature where commonly a *RGB* colourspace</span>
<span class="sd">        is defined by its normalised primary matrix as it is directly computed</span>
<span class="sd">        from the chosen primaries and whitepoint.</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>
<span class="sd">    -   :cite:`InternationalElectrotechnicalCommission1999a`</span>
<span class="sd">    -   :cite:`Panasonic2014a`</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; p = np.array([0.73470, 0.26530, 0.00000, 1.00000, 0.00010, -0.07700])</span>
<span class="sd">    &gt;&gt;&gt; whitepoint = np.array([0.32168, 0.33767])</span>
<span class="sd">    &gt;&gt;&gt; RGB_to_XYZ_matrix = np.identity(3)</span>
<span class="sd">    &gt;&gt;&gt; XYZ_to_RGB_matrix = np.identity(3)</span>
<span class="sd">    &gt;&gt;&gt; colourspace = RGB_Colourspace(&#39;RGB Colourspace&#39;, p, whitepoint, &#39;D60&#39;,</span>
<span class="sd">    ...                               RGB_to_XYZ_matrix, XYZ_to_RGB_matrix)</span>
<span class="sd">    &gt;&gt;&gt; colourspace.RGB_to_XYZ_matrix</span>
<span class="sd">    array([[ 1.,  0.,  0.],</span>
<span class="sd">           [ 0.,  1.,  0.],</span>
<span class="sd">           [ 0.,  0.,  1.]])</span>
<span class="sd">    &gt;&gt;&gt; colourspace.XYZ_to_RGB_matrix</span>
<span class="sd">    array([[ 1.,  0.,  0.],</span>
<span class="sd">           [ 0.,  1.,  0.],</span>
<span class="sd">           [ 0.,  0.,  1.]])</span>
<span class="sd">    &gt;&gt;&gt; colourspace.use_derived_transformation_matrices(True)</span>
<span class="sd">    True</span>
<span class="sd">    &gt;&gt;&gt; colourspace.RGB_to_XYZ_matrix  # doctest: +ELLIPSIS</span>
<span class="sd">    array([[  9.5255239...e-01,   0.0000000...e+00,   9.3678631...e-05],</span>
<span class="sd">           [  3.4396645...e-01,   7.2816609...e-01,  -7.2132546...e-02],</span>
<span class="sd">           [  0.0000000...e+00,   0.0000000...e+00,   1.0088251...e+00]])</span>
<span class="sd">    &gt;&gt;&gt; colourspace.XYZ_to_RGB_matrix  # doctest: +ELLIPSIS</span>
<span class="sd">    array([[  1.0498110...e+00,   0.0000000...e+00,  -9.7484540...e-05],</span>
<span class="sd">           [ -4.9590302...e-01,   1.3733130...e+00,   9.8240036...e-02],</span>
<span class="sd">           [  0.0000000...e+00,   0.0000000...e+00,   9.9125201...e-01]])</span>
<span class="sd">    &gt;&gt;&gt; colourspace.use_derived_RGB_to_XYZ_matrix = False</span>
<span class="sd">    &gt;&gt;&gt; colourspace.RGB_to_XYZ_matrix</span>
<span class="sd">    array([[ 1.,  0.,  0.],</span>
<span class="sd">           [ 0.,  1.,  0.],</span>
<span class="sd">           [ 0.,  0.,  1.]])</span>
<span class="sd">    &gt;&gt;&gt; colourspace.use_derived_XYZ_to_RGB_matrix = False</span>
<span class="sd">    &gt;&gt;&gt; colourspace.XYZ_to_RGB_matrix</span>
<span class="sd">    array([[ 1.,  0.,  0.],</span>
<span class="sd">           [ 0.,  1.,  0.],</span>
<span class="sd">           [ 0.,  0.,  1.]])</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="RGB_Colourspace.__init__"><a class="viewcode-back" href="../../../../generated/colour.RGB_Colourspace.html#colour.RGB_Colourspace.__init__">[docs]</a>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">name</span><span class="p">,</span>
                 <span class="n">primaries</span><span class="p">,</span>
                 <span class="n">whitepoint</span><span class="p">,</span>
                 <span class="n">illuminant</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">RGB_to_XYZ_matrix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">XYZ_to_RGB_matrix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">encoding_cctf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">decoding_cctf</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">use_derived_RGB_to_XYZ_matrix</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">use_derived_XYZ_to_RGB_matrix</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_derived_RGB_to_XYZ_matrix</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_derived_XYZ_to_RGB_matrix</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_primaries</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">primaries</span> <span class="o">=</span> <span class="n">primaries</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_whitepoint</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">whitepoint</span> <span class="o">=</span> <span class="n">whitepoint</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_illuminant</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">illuminant</span> <span class="o">=</span> <span class="n">illuminant</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_RGB_to_XYZ_matrix</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">RGB_to_XYZ_matrix</span> <span class="o">=</span> <span class="n">RGB_to_XYZ_matrix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_XYZ_to_RGB_matrix</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">XYZ_to_RGB_matrix</span> <span class="o">=</span> <span class="n">XYZ_to_RGB_matrix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_encoding_cctf</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">encoding_cctf</span> <span class="o">=</span> <span class="n">encoding_cctf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_decoding_cctf</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">decoding_cctf</span> <span class="o">=</span> <span class="n">decoding_cctf</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_use_derived_RGB_to_XYZ_matrix</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_derived_RGB_to_XYZ_matrix</span> <span class="o">=</span> <span class="n">use_derived_RGB_to_XYZ_matrix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_use_derived_XYZ_to_RGB_matrix</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_derived_XYZ_to_RGB_matrix</span> <span class="o">=</span> <span class="n">use_derived_XYZ_to_RGB_matrix</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for the name.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : unicode</span>
<span class="sd">            Value to set the name with.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        unicode</span>
<span class="sd">            Name.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@name</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.name** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">is_string</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="p">(</span>
                <span class="s1">&#39;&quot;</span><span class="si">{0}</span><span class="s1">&quot; attribute: &quot;</span><span class="si">{1}</span><span class="s1">&quot; is not a &quot;string&quot; like object!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">primaries</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for the primaries.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : array_like</span>
<span class="sd">            Value to set the primaries with.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        array_like</span>
<span class="sd">            Primaries.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_primaries</span>

    <span class="nd">@primaries</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">primaries</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.primaries** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_primaries</span> <span class="o">=</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_derive_transformation_matrices</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">whitepoint</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for the whitepoint.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : array_like</span>
<span class="sd">            Value to set the whitepoint with.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        array_like</span>
<span class="sd">            Whitepoint.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_whitepoint</span>

    <span class="nd">@whitepoint</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">whitepoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.whitepoint** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">)),</span> <span class="p">(</span>
                <span class="s1">&#39;&quot;</span><span class="si">{0}</span><span class="s1">&quot; attribute: &quot;</span><span class="si">{1}</span><span class="s1">&quot; is not a &quot;tuple&quot;, &quot;list&quot;, &quot;ndarray&quot; &#39;</span>
                <span class="s1">&#39;or &quot;matrix&quot; instance!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;whitepoint&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_whitepoint</span> <span class="o">=</span> <span class="n">value</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_derive_transformation_matrices</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">illuminant</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for the illuminant.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : unicode</span>
<span class="sd">            Value to set the illuminant with.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        unicode</span>
<span class="sd">            Illuminant.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_illuminant</span>

    <span class="nd">@illuminant</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">illuminant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.whitepoint** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="n">is_string</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="p">(</span>
                <span class="s1">&#39;&quot;</span><span class="si">{0}</span><span class="s1">&quot; attribute: &quot;</span><span class="si">{1}</span><span class="s1">&quot; is not a &quot;string&quot; like object!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s1">&#39;illuminant&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_illuminant</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">RGB_to_XYZ_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for the transformation matrix from</span>
<span class="sd">        colourspace to *CIE XYZ* tristimulus values.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : array_like</span>
<span class="sd">            Transformation matrix from colourspace to *CIE XYZ* tristimulus</span>
<span class="sd">            values.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        array_like</span>
<span class="sd">            Transformation matrix from colourspace to *CIE XYZ* tristimulus</span>
<span class="sd">            values.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_derived_RGB_to_XYZ_matrix</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_RGB_to_XYZ_matrix</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_derived_RGB_to_XYZ_matrix</span>

    <span class="nd">@RGB_to_XYZ_matrix</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">RGB_to_XYZ_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.RGB_to_XYZ_matrix** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_RGB_to_XYZ_matrix</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">XYZ_to_RGB_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for the transformation matrix from *CIE XYZ*</span>
<span class="sd">        tristimulus values to colourspace.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : array_like</span>
<span class="sd">            Transformation matrix from *CIE XYZ* tristimulus values to</span>
<span class="sd">            colourspace.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        array_like</span>
<span class="sd">            Transformation matrix from *CIE XYZ* tristimulus values to</span>
<span class="sd">            colourspace.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_derived_XYZ_to_RGB_matrix</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_XYZ_to_RGB_matrix</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_derived_XYZ_to_RGB_matrix</span>

    <span class="nd">@XYZ_to_RGB_matrix</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">XYZ_to_RGB_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.XYZ_to_RGB_matrix** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_XYZ_to_RGB_matrix</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">encoding_cctf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for the encoding colour component transfer</span>
<span class="sd">        function (Encoding CCTF) / opto-electronic transfer function</span>
<span class="sd">        (OETF / OECF).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : callable</span>
<span class="sd">            Encoding colour component transfer function (Encoding CCTF) /</span>
<span class="sd">            opto-electronic transfer function (OETF / OECF).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        callable</span>
<span class="sd">            Encoding colour component transfer function (Encoding CCTF) /</span>
<span class="sd">            opto-electronic transfer function (OETF / OECF).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_encoding_cctf</span>

    <span class="nd">@encoding_cctf</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">encoding_cctf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.encoding_cctf** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span>
                <span class="n">value</span><span class="p">,</span>
                <span class="s1">&#39;__call__&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;&quot;</span><span class="si">{0}</span><span class="s1">&quot; attribute: &quot;</span><span class="si">{1}</span><span class="s1">&quot; is not callable!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s1">&#39;encoding_cctf&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_encoding_cctf</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">decoding_cctf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for the decoding colour component transfer</span>
<span class="sd">        function (Decoding CCTF) / electro-optical transfer function</span>
<span class="sd">        (EOTF / EOCF).</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : callable</span>
<span class="sd">            Decoding colour component transfer function (Decoding CCTF) /</span>
<span class="sd">            electro-optical transfer function (EOTF / EOCF).</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        callable</span>
<span class="sd">            Decoding colour component transfer function (Decoding CCTF) /</span>
<span class="sd">            electro-optical transfer function (EOTF / EOCF).</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_decoding_cctf</span>

    <span class="nd">@decoding_cctf</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">decoding_cctf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.decoding_cctf** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span>
                <span class="n">value</span><span class="p">,</span>
                <span class="s1">&#39;__call__&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;&quot;</span><span class="si">{0}</span><span class="s1">&quot; attribute: &quot;</span><span class="si">{1}</span><span class="s1">&quot; is not callable!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="s1">&#39;decoding_cctf&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_decoding_cctf</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">use_derived_RGB_to_XYZ_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for whether to use the instantiation time</span>
<span class="sd">        normalised primary matrix or to use a computed derived normalised</span>
<span class="sd">        primary matrix.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bool</span>
<span class="sd">            Whether to use the instantiation time normalised primary matrix or</span>
<span class="sd">            to use a computed derived normalised primary matrix.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Whether to use the instantiation time normalised primary matrix or</span>
<span class="sd">            to use a computed derived normalised primary matrix.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_derived_RGB_to_XYZ_matrix</span>

    <span class="nd">@use_derived_RGB_to_XYZ_matrix</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">use_derived_RGB_to_XYZ_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.use_derived_RGB_to_XYZ_matrix** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># TODO: Revisit for potential behaviour / type checking.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_use_derived_RGB_to_XYZ_matrix</span> <span class="o">=</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">use_derived_XYZ_to_RGB_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Getter and setter property for Whether to use the instantiation time</span>
<span class="sd">        inverse normalised primary matrix or to use a computed derived inverse</span>
<span class="sd">        normalised primary matrix.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        value : bool</span>
<span class="sd">            Whether to use the instantiation time inverse normalised primary</span>
<span class="sd">            matrix or to use a computed derived inverse normalised primary</span>
<span class="sd">            matrix.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Whether to use the instantiation time inverse normalised primary</span>
<span class="sd">            matrix or to use a computed derived inverse normalised primary</span>
<span class="sd">            matrix.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_use_derived_XYZ_to_RGB_matrix</span>

    <span class="nd">@use_derived_XYZ_to_RGB_matrix</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">use_derived_XYZ_to_RGB_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Setter for the **self.use_derived_XYZ_to_RGB_matrix** property.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># TODO: Revisit for potential behaviour / type checking.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_use_derived_XYZ_to_RGB_matrix</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="RGB_Colourspace.__str__"><a class="viewcode-back" href="../../../../generated/colour.RGB_Colourspace.html#colour.RGB_Colourspace.__str__">[docs]</a>    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a formatted string representation of the *RGB* colourspace.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        unicode</span>
<span class="sd">            Formatted string representation.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; p = np.array(</span>
<span class="sd">        ...     [0.73470, 0.26530, 0.00000, 1.00000, 0.00010, -0.07700])</span>
<span class="sd">        &gt;&gt;&gt; whitepoint = np.array([0.32168, 0.33767])</span>
<span class="sd">        &gt;&gt;&gt; RGB_to_XYZ_matrix = np.identity(3)</span>
<span class="sd">        &gt;&gt;&gt; XYZ_to_RGB_matrix = np.identity(3)</span>
<span class="sd">        &gt;&gt;&gt; encoding_cctf = lambda x: x</span>
<span class="sd">        &gt;&gt;&gt; decoding_cctf = lambda x: x</span>
<span class="sd">        &gt;&gt;&gt; print(RGB_Colourspace(&#39;RGB Colourspace&#39;, p, whitepoint, &#39;D60&#39;,</span>
<span class="sd">        ...                       RGB_to_XYZ_matrix, XYZ_to_RGB_matrix,</span>
<span class="sd">        ...                       encoding_cctf, decoding_cctf))</span>
<span class="sd">        ... # doctest: +ELLIPSIS</span>
<span class="sd">        RGB Colourspace</span>
<span class="sd">        ---------------</span>
<span class="sd">        &lt;BLANKLINE&gt;</span>
<span class="sd">        Primaries          : [[  7.34700000e-01   2.65300000e-01]</span>
<span class="sd">                              [  0.00000000e+00   1.00000000e+00]</span>
<span class="sd">                              [  1.00000000e-04  -7.70000000e-02]]</span>
<span class="sd">        Whitepoint         : [ 0.32168  0.33767]</span>
<span class="sd">        Whitepoint Name    : D60</span>
<span class="sd">        Encoding CCTF      : &lt;function &lt;lambda&gt; at 0x...&gt;</span>
<span class="sd">        Decoding CCTF      : &lt;function &lt;lambda&gt; at 0x...&gt;</span>
<span class="sd">        NPM                : [[ 1.  0.  0.]</span>
<span class="sd">                              [ 0.  1.  0.]</span>
<span class="sd">                              [ 0.  0.  1.]]</span>
<span class="sd">        NPM -1             : [[ 1.  0.  0.]</span>
<span class="sd">                              [ 0.  1.  0.]</span>
<span class="sd">                              [ 0.  0.  1.]]</span>
<span class="sd">        Derived NPM        : \</span>
<span class="sd">[[  9.5255239...e-01   0.0000000...e+00   9.3678631...e-05]</span>
<span class="sd">                             \</span>
<span class="sd"> [  3.4396645...e-01   7.2816609...e-01  -7.2132546...e-02]</span>
<span class="sd">                             \</span>
<span class="sd"> [  0.0000000...e+00   0.0000000...e+00   1.0088251...e+00]]</span>
<span class="sd">        Derived NPM -1     : \</span>
<span class="sd">[[  1.0498110...e+00   0.0000000...e+00  -9.7484540...e-05]</span>
<span class="sd">                             \</span>
<span class="sd"> [ -4.9590302...e-01   1.3733130...e+00   9.8240036...e-02]</span>
<span class="sd">                             \</span>
<span class="sd"> [  0.0000000...e+00   0.0000000...e+00   9.9125201...e-01]]</span>
<span class="sd">        Use Derived NPM    : False</span>
<span class="sd">        Use Derived NPM -1 : False</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_indent_array</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Indents given array string representation.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; [&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="mi">22</span> <span class="o">+</span> <span class="s1">&#39;[&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">{0}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{1}</span><span class="se">\n\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Primaries          : </span><span class="si">{2}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Whitepoint         : </span><span class="si">{3}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Whitepoint Name    : </span><span class="si">{4}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Encoding CCTF      : </span><span class="si">{5}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Decoding CCTF      : </span><span class="si">{6}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;NPM                : </span><span class="si">{7}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;NPM -1             : </span><span class="si">{8}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Derived NPM        : </span><span class="si">{9}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Derived NPM -1     : </span><span class="si">{10}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Use Derived NPM    : </span><span class="si">{11}</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;Use Derived NPM -1 : </span><span class="si">{12}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">),</span>
                    <span class="n">_indent_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">primaries</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">whitepoint</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">illuminant</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding_cctf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">decoding_cctf</span><span class="p">,</span>
                    <span class="n">_indent_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_RGB_to_XYZ_matrix</span><span class="p">),</span>
                    <span class="n">_indent_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_XYZ_to_RGB_matrix</span><span class="p">),</span>
                    <span class="n">_indent_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_derived_RGB_to_XYZ_matrix</span><span class="p">),</span>
                    <span class="n">_indent_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_derived_XYZ_to_RGB_matrix</span><span class="p">),</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">use_derived_RGB_to_XYZ_matrix</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">use_derived_XYZ_to_RGB_matrix</span><span class="p">)</span></div>

<div class="viewcode-block" id="RGB_Colourspace.__repr__"><a class="viewcode-back" href="../../../../generated/colour.RGB_Colourspace.html#colour.RGB_Colourspace.__repr__">[docs]</a>    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an (almost) evaluable string representation of the *RGB*</span>
<span class="sd">        colourspace.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        unicode</span>
<span class="sd">            (Almost) evaluable string representation.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; p = np.array(</span>
<span class="sd">        ...     [0.73470, 0.26530, 0.00000, 1.00000, 0.00010, -0.07700])</span>
<span class="sd">        &gt;&gt;&gt; whitepoint = np.array([0.32168, 0.33767])</span>
<span class="sd">        &gt;&gt;&gt; RGB_to_XYZ_matrix = np.identity(3)</span>
<span class="sd">        &gt;&gt;&gt; XYZ_to_RGB_matrix = np.identity(3)</span>
<span class="sd">        &gt;&gt;&gt; encoding_cctf = lambda x: x</span>
<span class="sd">        &gt;&gt;&gt; decoding_cctf = lambda x: x</span>
<span class="sd">        &gt;&gt;&gt; RGB_Colourspace(&#39;RGB Colourspace&#39;, p, whitepoint, &#39;D60&#39;,</span>
<span class="sd">        ...                 RGB_to_XYZ_matrix, XYZ_to_RGB_matrix,</span>
<span class="sd">        ...                 encoding_cctf, decoding_cctf)</span>
<span class="sd">        ... # doctest: +ELLIPSIS</span>
<span class="sd">        RGB_Colourspace(RGB Colourspace,</span>
<span class="sd">                        [[  7.34700000e-01,   2.65300000e-01],</span>
<span class="sd">                         [  0.00000000e+00,   1.00000000e+00],</span>
<span class="sd">                         [  1.00000000e-04,  -7.70000000e-02]],</span>
<span class="sd">                        [ 0.32168,  0.33767],</span>
<span class="sd">                        D60,</span>
<span class="sd">                        [[ 1.,  0.,  0.],</span>
<span class="sd">                         [ 0.,  1.,  0.],</span>
<span class="sd">                         [ 0.,  0.,  1.]],</span>
<span class="sd">                        [[ 1.,  0.,  0.],</span>
<span class="sd">                         [ 0.,  1.,  0.],</span>
<span class="sd">                         [ 0.,  0.,  1.]],</span>
<span class="sd">                        &lt;function &lt;lambda&gt; at 0x...&gt;,</span>
<span class="sd">                        &lt;function &lt;lambda&gt; at 0x...&gt;,</span>
<span class="sd">                        False,</span>
<span class="sd">                        False)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">_indent_array</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Indents given array evaluable string representation.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="n">representation</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; [&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{0}</span><span class="s1">[&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="mi">11</span><span class="p">))</span>
            <span class="n">representation</span> <span class="o">=</span> <span class="n">representation</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;array(&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="mi">16</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">representation</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="s1">&#39;RGB_Colourspace(</span><span class="si">{0}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{2}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{3}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{1}{4}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{5}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{6}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{1}{7}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{1}{8}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{1}{9}</span><span class="s1">,</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="s1">&#39;</span><span class="si">{1}{10}</span><span class="s1">)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="mi">16</span><span class="p">,</span>
                    <span class="n">_indent_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">primaries</span><span class="p">),</span>
                    <span class="n">_indent_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">whitepoint</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">illuminant</span><span class="p">,</span>
                    <span class="n">_indent_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">RGB_to_XYZ_matrix</span><span class="p">),</span>
                    <span class="n">_indent_array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">XYZ_to_RGB_matrix</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">encoding_cctf</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">decoding_cctf</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">use_derived_RGB_to_XYZ_matrix</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">use_derived_XYZ_to_RGB_matrix</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_derive_transformation_matrices</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Computes the derived transformations matrices, the normalised primary</span>
<span class="sd">        matrix and its inverse.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_primaries&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_whitepoint&#39;</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_primaries</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_whitepoint</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">npm</span> <span class="o">=</span> <span class="n">normalised_primary_matrix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_primaries</span><span class="p">,</span>
                                                <span class="bp">self</span><span class="o">.</span><span class="n">_whitepoint</span><span class="p">)</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">_derived_RGB_to_XYZ_matrix</span> <span class="o">=</span> <span class="n">npm</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_derived_XYZ_to_RGB_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">inv</span><span class="p">(</span><span class="n">npm</span><span class="p">)</span>

<div class="viewcode-block" id="RGB_Colourspace.use_derived_transformation_matrices"><a class="viewcode-back" href="../../../../generated/colour.RGB_Colourspace.html#colour.RGB_Colourspace.use_derived_transformation_matrices">[docs]</a>    <span class="k">def</span> <span class="nf">use_derived_transformation_matrices</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">usage</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enables or disables usage of both derived transformations matrices,</span>
<span class="sd">        the normalised primary matrix and its inverse in subsequent</span>
<span class="sd">        computations.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        usage : bool, optional</span>
<span class="sd">            Whether to use the derived transformations matrices.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bool</span>
<span class="sd">            Definition success.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">use_derived_RGB_to_XYZ_matrix</span> <span class="o">=</span> <span class="n">usage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">use_derived_XYZ_to_RGB_matrix</span> <span class="o">=</span> <span class="n">usage</span>

        <span class="k">return</span> <span class="kc">True</span></div></div>


<div class="viewcode-block" id="XYZ_to_RGB"><a class="viewcode-back" href="../../../../generated/colour.XYZ_to_RGB.html#colour.XYZ_to_RGB">[docs]</a><span class="k">def</span> <span class="nf">XYZ_to_RGB</span><span class="p">(</span><span class="n">XYZ</span><span class="p">,</span>
               <span class="n">illuminant_XYZ</span><span class="p">,</span>
               <span class="n">illuminant_RGB</span><span class="p">,</span>
               <span class="n">XYZ_to_RGB_matrix</span><span class="p">,</span>
               <span class="n">chromatic_adaptation_transform</span><span class="o">=</span><span class="s1">&#39;CAT02&#39;</span><span class="p">,</span>
               <span class="n">encoding_cctf</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts from *CIE XYZ* tristimulus values to given *RGB* colourspace.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    XYZ : array_like</span>
<span class="sd">        *CIE XYZ* tristimulus values.</span>
<span class="sd">    illuminant_XYZ : array_like</span>
<span class="sd">        *CIE XYZ* tristimulus values *illuminant* *xy* chromaticity coordinates</span>
<span class="sd">        or *CIE xyY* colourspace array.</span>
<span class="sd">    illuminant_RGB : array_like</span>
<span class="sd">        *RGB* colourspace *illuminant* *xy* chromaticity coordinates or</span>
<span class="sd">        *CIE xyY* colourspace array.</span>
<span class="sd">    XYZ_to_RGB_matrix : array_like</span>
<span class="sd">        *Normalised primary matrix*.</span>
<span class="sd">    chromatic_adaptation_transform : unicode, optional</span>
<span class="sd">        **{&#39;CAT02&#39;, &#39;XYZ Scaling&#39;, &#39;Von Kries&#39;, &#39;Bradford&#39;, &#39;Sharp&#39;,</span>
<span class="sd">        &#39;Fairchild&#39;, &#39;CMCCAT97&#39;, &#39;CMCCAT2000&#39;, &#39;CAT02_BRILL_CAT&#39;, &#39;Bianco&#39;,</span>
<span class="sd">        &#39;Bianco PC&#39;}**,</span>
<span class="sd">        *Chromatic adaptation* transform.</span>
<span class="sd">    encoding_cctf : object, optional</span>
<span class="sd">        Encoding colour component transfer function (Encoding CCTF) or</span>
<span class="sd">        opto-electronic transfer function (OETF / OECF).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    ndarray</span>
<span class="sd">        *RGB* colourspace array.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    -   Input *CIE XYZ* tristimulus values are in domain [0, 1].</span>
<span class="sd">    -   Input *illuminant_XYZ* *xy* chromaticity coordinates or *CIE xyY*</span>
<span class="sd">        colourspace array are in domain [0, :math:`\infty`].</span>
<span class="sd">    -   Input *illuminant_RGB* *xy* chromaticity coordinates or *CIE xyY*</span>
<span class="sd">        colourspace array are in domain [0, :math:`\infty`].</span>
<span class="sd">    -   Output *RGB* colourspace array is in range [0, 1].</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; XYZ = np.array([0.07049534, 0.10080000, 0.09558313])</span>
<span class="sd">    &gt;&gt;&gt; illuminant_XYZ = np.array([0.34570, 0.35850])</span>
<span class="sd">    &gt;&gt;&gt; illuminant_RGB = np.array([0.31270, 0.32900])</span>
<span class="sd">    &gt;&gt;&gt; chromatic_adaptation_transform = &#39;Bradford&#39;</span>
<span class="sd">    &gt;&gt;&gt; XYZ_to_RGB_matrix = np.array(</span>
<span class="sd">    ...     [[3.24062548, -1.53720797, -0.49862860],</span>
<span class="sd">    ...      [-0.96893071, 1.87575606, 0.04151752],</span>
<span class="sd">    ...      [0.05571012, -0.20402105, 1.05699594]]</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; XYZ_to_RGB(XYZ, illuminant_XYZ, illuminant_RGB, XYZ_to_RGB_matrix,</span>
<span class="sd">    ...            chromatic_adaptation_transform)  # doctest: +ELLIPSIS</span>
<span class="sd">    array([ 0.0110015...,  0.1273504...,  0.1163271...])</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">M</span> <span class="o">=</span> <span class="n">chromatic_adaptation_matrix_VonKries</span><span class="p">(</span>
        <span class="n">xyY_to_XYZ</span><span class="p">(</span><span class="n">xy_to_xyY</span><span class="p">(</span><span class="n">illuminant_XYZ</span><span class="p">)),</span>
        <span class="n">xyY_to_XYZ</span><span class="p">(</span><span class="n">xy_to_xyY</span><span class="p">(</span><span class="n">illuminant_RGB</span><span class="p">)),</span>
        <span class="n">transform</span><span class="o">=</span><span class="n">chromatic_adaptation_transform</span><span class="p">)</span>

    <span class="n">XYZ_a</span> <span class="o">=</span> <span class="n">dot_vector</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">XYZ</span><span class="p">)</span>

    <span class="n">RGB</span> <span class="o">=</span> <span class="n">dot_vector</span><span class="p">(</span><span class="n">XYZ_to_RGB_matrix</span><span class="p">,</span> <span class="n">XYZ_a</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">encoding_cctf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">RGB</span> <span class="o">=</span> <span class="n">encoding_cctf</span><span class="p">(</span><span class="n">RGB</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">RGB</span></div>


<div class="viewcode-block" id="RGB_to_XYZ"><a class="viewcode-back" href="../../../../generated/colour.RGB_to_XYZ.html#colour.RGB_to_XYZ">[docs]</a><span class="k">def</span> <span class="nf">RGB_to_XYZ</span><span class="p">(</span><span class="n">RGB</span><span class="p">,</span>
               <span class="n">illuminant_RGB</span><span class="p">,</span>
               <span class="n">illuminant_XYZ</span><span class="p">,</span>
               <span class="n">RGB_to_XYZ_matrix</span><span class="p">,</span>
               <span class="n">chromatic_adaptation_transform</span><span class="o">=</span><span class="s1">&#39;CAT02&#39;</span><span class="p">,</span>
               <span class="n">decoding_cctf</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts from given *RGB* colourspace to *CIE XYZ* tristimulus values.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    RGB : array_like</span>
<span class="sd">        *RGB* colourspace array.</span>
<span class="sd">    illuminant_RGB : array_like</span>
<span class="sd">        *RGB* colourspace *illuminant* chromaticity coordinates or *CIE xyY*</span>
<span class="sd">        colourspace array.</span>
<span class="sd">    illuminant_XYZ : array_like</span>
<span class="sd">        *CIE XYZ* tristimulus values *illuminant* chromaticity coordinates or</span>
<span class="sd">        *CIE xyY* colourspace array.</span>
<span class="sd">    RGB_to_XYZ_matrix : array_like</span>
<span class="sd">        *Normalised primary matrix*.</span>
<span class="sd">    chromatic_adaptation_transform : unicode, optional</span>
<span class="sd">        **{&#39;CAT02&#39;, &#39;XYZ Scaling&#39;, &#39;Von Kries&#39;, &#39;Bradford&#39;, &#39;Sharp&#39;,</span>
<span class="sd">        &#39;Fairchild&#39;, &#39;CMCCAT97&#39;, &#39;CMCCAT2000&#39;, &#39;CAT02_BRILL_CAT&#39;, &#39;Bianco&#39;,</span>
<span class="sd">        &#39;Bianco PC&#39;}**,</span>
<span class="sd">        *Chromatic adaptation* transform.</span>
<span class="sd">    decoding_cctf : object, optional</span>
<span class="sd">        Decoding colour component transfer function (Decoding CCTF) or</span>
<span class="sd">        electro-optical transfer function (EOTF / EOCF).</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    ndarray</span>
<span class="sd">        *CIE XYZ* tristimulus values.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    -   Input *RGB* colourspace array is in domain [0, 1].</span>
<span class="sd">    -   Input *illuminant_RGB* *xy* chromaticity coordinates or *CIE xyY*</span>
<span class="sd">        colourspace array are in domain [0, :math:`\infty`].</span>
<span class="sd">    -   Input *illuminant_XYZ* *xy* chromaticity coordinates or *CIE xyY*</span>
<span class="sd">        colourspace array are in domain [0, :math:`\infty`].</span>
<span class="sd">    -   Output *CIE XYZ* tristimulus values are in range [0, 1].</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; RGB = np.array([0.01100154,  0.12735048,  0.11632713])</span>
<span class="sd">    &gt;&gt;&gt; illuminant_RGB = np.array([0.31270, 0.32900])</span>
<span class="sd">    &gt;&gt;&gt; illuminant_XYZ = np.array([0.34570, 0.35850])</span>
<span class="sd">    &gt;&gt;&gt; chromatic_adaptation_transform = &#39;Bradford&#39;</span>
<span class="sd">    &gt;&gt;&gt; RGB_to_XYZ_matrix = np.array(</span>
<span class="sd">    ...     [[0.41240000, 0.35760000, 0.18050000],</span>
<span class="sd">    ...      [0.21260000, 0.71520000, 0.07220000],</span>
<span class="sd">    ...      [0.01930000, 0.11920000, 0.95050000]]</span>
<span class="sd">    ... )</span>
<span class="sd">    &gt;&gt;&gt; RGB_to_XYZ(RGB, illuminant_RGB, illuminant_XYZ, RGB_to_XYZ_matrix,</span>
<span class="sd">    ...            chromatic_adaptation_transform)  # doctest: +ELLIPSIS</span>
<span class="sd">    array([ 0.0704953...,  0.1008    ,  0.0955831...])</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">decoding_cctf</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">RGB</span> <span class="o">=</span> <span class="n">decoding_cctf</span><span class="p">(</span><span class="n">RGB</span><span class="p">)</span>

    <span class="n">M</span> <span class="o">=</span> <span class="n">chromatic_adaptation_matrix_VonKries</span><span class="p">(</span>
        <span class="n">xyY_to_XYZ</span><span class="p">(</span><span class="n">xy_to_xyY</span><span class="p">(</span><span class="n">illuminant_RGB</span><span class="p">)),</span>
        <span class="n">xyY_to_XYZ</span><span class="p">(</span><span class="n">xy_to_xyY</span><span class="p">(</span><span class="n">illuminant_XYZ</span><span class="p">)),</span>
        <span class="n">transform</span><span class="o">=</span><span class="n">chromatic_adaptation_transform</span><span class="p">)</span>

    <span class="n">XYZ</span> <span class="o">=</span> <span class="n">dot_vector</span><span class="p">(</span><span class="n">RGB_to_XYZ_matrix</span><span class="p">,</span> <span class="n">RGB</span><span class="p">)</span>

    <span class="n">XYZ_a</span> <span class="o">=</span> <span class="n">dot_vector</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">XYZ</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">XYZ_a</span></div>


<div class="viewcode-block" id="RGB_to_RGB_matrix"><a class="viewcode-back" href="../../../../generated/colour.RGB_to_RGB_matrix.html#colour.RGB_to_RGB_matrix">[docs]</a><span class="k">def</span> <span class="nf">RGB_to_RGB_matrix</span><span class="p">(</span><span class="n">input_colourspace</span><span class="p">,</span>
                      <span class="n">output_colourspace</span><span class="p">,</span>
                      <span class="n">chromatic_adaptation_transform</span><span class="o">=</span><span class="s1">&#39;CAT02&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the matrix :math:`M` converting from given input *RGB*</span>
<span class="sd">    colourspace to output *RGB* colourspace using given *chromatic</span>
<span class="sd">    adaptation* method.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    input_colourspace : RGB_Colourspace</span>
<span class="sd">        *RGB* input colourspace.</span>
<span class="sd">    output_colourspace : RGB_Colourspace</span>
<span class="sd">        *RGB* output colourspace.</span>
<span class="sd">    chromatic_adaptation_transform : unicode, optional</span>
<span class="sd">        **{&#39;CAT02&#39;, &#39;XYZ Scaling&#39;, &#39;Von Kries&#39;, &#39;Bradford&#39;, &#39;Sharp&#39;,</span>
<span class="sd">        &#39;Fairchild&#39;, &#39;CMCCAT97&#39;, &#39;CMCCAT2000&#39;, &#39;CAT02_BRILL_CAT&#39;, &#39;Bianco&#39;,</span>
<span class="sd">        &#39;Bianco PC&#39;}**,</span>
<span class="sd">        *Chromatic adaptation* transform.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    ndarray</span>
<span class="sd">        Conversion matrix :math:`M`.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from colour.models import sRGB_COLOURSPACE, PROPHOTO_RGB_COLOURSPACE</span>
<span class="sd">    &gt;&gt;&gt; RGB_to_RGB_matrix(sRGB_COLOURSPACE, PROPHOTO_RGB_COLOURSPACE)</span>
<span class="sd">    ... # doctest: +ELLIPSIS</span>
<span class="sd">    array([[ 0.5288241...,  0.3340609...,  0.1373616...],</span>
<span class="sd">           [ 0.0975294...,  0.8790074...,  0.0233981...],</span>
<span class="sd">           [ 0.0163599...,  0.1066124...,  0.8772485...]])</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">cat</span> <span class="o">=</span> <span class="n">chromatic_adaptation_matrix_VonKries</span><span class="p">(</span>
        <span class="n">xy_to_XYZ</span><span class="p">(</span><span class="n">input_colourspace</span><span class="o">.</span><span class="n">whitepoint</span><span class="p">),</span>
        <span class="n">xy_to_XYZ</span><span class="p">(</span><span class="n">output_colourspace</span><span class="o">.</span><span class="n">whitepoint</span><span class="p">),</span>
        <span class="n">chromatic_adaptation_transform</span><span class="p">)</span>

    <span class="n">M</span> <span class="o">=</span> <span class="n">dot_matrix</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="n">input_colourspace</span><span class="o">.</span><span class="n">RGB_to_XYZ_matrix</span><span class="p">)</span>
    <span class="n">M</span> <span class="o">=</span> <span class="n">dot_matrix</span><span class="p">(</span><span class="n">output_colourspace</span><span class="o">.</span><span class="n">XYZ_to_RGB_matrix</span><span class="p">,</span> <span class="n">M</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">M</span></div>


<div class="viewcode-block" id="RGB_to_RGB"><a class="viewcode-back" href="../../../../generated/colour.RGB_to_RGB.html#colour.RGB_to_RGB">[docs]</a><span class="k">def</span> <span class="nf">RGB_to_RGB</span><span class="p">(</span><span class="n">RGB</span><span class="p">,</span>
               <span class="n">input_colourspace</span><span class="p">,</span>
               <span class="n">output_colourspace</span><span class="p">,</span>
               <span class="n">chromatic_adaptation_transform</span><span class="o">=</span><span class="s1">&#39;CAT02&#39;</span><span class="p">,</span>
               <span class="n">apply_decoding_cctf</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
               <span class="n">apply_encoding_cctf</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts from given input *RGB* colourspace to output *RGB* colourspace</span>
<span class="sd">    using given *chromatic adaptation* method.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    RGB : array_like</span>
<span class="sd">        *RGB* colourspace array.</span>
<span class="sd">    input_colourspace : RGB_Colourspace</span>
<span class="sd">        *RGB* input colourspace.</span>
<span class="sd">    output_colourspace : RGB_Colourspace</span>
<span class="sd">        *RGB* output colourspace.</span>
<span class="sd">    chromatic_adaptation_transform : unicode, optional</span>
<span class="sd">        **{&#39;CAT02&#39;, &#39;XYZ Scaling&#39;, &#39;Von Kries&#39;, &#39;Bradford&#39;, &#39;Sharp&#39;,</span>
<span class="sd">        &#39;Fairchild&#39;, &#39;CMCCAT97&#39;, &#39;CMCCAT2000&#39;, &#39;CAT02_BRILL_CAT&#39;, &#39;Bianco&#39;,</span>
<span class="sd">        &#39;Bianco PC&#39;}**,</span>
<span class="sd">        *Chromatic adaptation* transform.</span>
<span class="sd">    apply_decoding_cctf : bool, optional</span>
<span class="sd">        Apply input colourspace decoding colour component transfer function /</span>
<span class="sd">        electro-optical transfer function.</span>
<span class="sd">    apply_encoding_cctf : bool, optional</span>
<span class="sd">        Apply output colourspace encoding colour component transfer function /</span>
<span class="sd">        opto-electronic transfer function.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    ndarray</span>
<span class="sd">        *RGB* colourspace array.</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    -   Input / output *RGB* colourspace arrays are in domain / range [0, 1].</span>
<span class="sd">    -   Input / output *RGB* colourspace arrays are assumed to be representing</span>
<span class="sd">        linear light values.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; from colour.models import sRGB_COLOURSPACE, PROPHOTO_RGB_COLOURSPACE</span>
<span class="sd">    &gt;&gt;&gt; RGB = np.array([0.01103742, 0.12734226, 0.11632971])</span>
<span class="sd">    &gt;&gt;&gt; RGB_to_RGB(RGB, sRGB_COLOURSPACE, PROPHOTO_RGB_COLOURSPACE)</span>
<span class="sd">    ... # doctest: +ELLIPSIS</span>
<span class="sd">    array([ 0.0643561...,  0.1157331...,  0.1158069...])</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">apply_decoding_cctf</span><span class="p">:</span>
        <span class="n">RGB</span> <span class="o">=</span> <span class="n">input_colourspace</span><span class="o">.</span><span class="n">decoding_cctf</span><span class="p">(</span><span class="n">RGB</span><span class="p">)</span>

    <span class="n">M</span> <span class="o">=</span> <span class="n">RGB_to_RGB_matrix</span><span class="p">(</span><span class="n">input_colourspace</span><span class="p">,</span> <span class="n">output_colourspace</span><span class="p">,</span>
                          <span class="n">chromatic_adaptation_transform</span><span class="p">)</span>

    <span class="n">RGB</span> <span class="o">=</span> <span class="n">dot_vector</span><span class="p">(</span><span class="n">M</span><span class="p">,</span> <span class="n">RGB</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">apply_encoding_cctf</span><span class="p">:</span>
        <span class="n">RGB</span> <span class="o">=</span> <span class="n">output_colourspace</span><span class="o">.</span><span class="n">encoding_cctf</span><span class="p">(</span><span class="n">RGB</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">RGB</span></div>
</pre></div>

           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright  2013-2018 - Colour Developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'0.3.11',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>