Changelog
=========

.. include:: includes/all.rst

**debops.core**

This project adheres to `Semantic Versioning <http://semver.org/spec/v2.0.0.html>`__
and `human-readable changelog <http://keepachangelog.com/en/0.3.0/>`__.

The current role maintainer_ is drybjed.


`debops.core master`_ - unreleased
----------------------------------

.. _debops.core master: https://github.com/debops/ansible-core/compare/v0.2.7...master

Changed
~~~~~~~

- Update documentation for the global ``unsafe_writes`` parameter. [ypid_]


`debops.core v0.2.7`_ - 2017-03-21
----------------------------------

.. _debops.core v0.2.7: https://github.com/debops/ansible-core/compare/v0.2.6...v0.2.7

Added
~~~~~

- Add support for global ``unsafe_writes`` parameter. [drybjed_]

Fixed
~~~~~

- Fix an issue with the :file:`core.fact` Ansible facts breaking with multiple
  admin accounts. [drybjed_]


`debops.core v0.2.6`_ - 2017-03-10
----------------------------------

.. _debops.core v0.2.6: https://github.com/debops/ansible-core/compare/v0.2.5...v0.2.6

Changed
~~~~~~~

- The fact script ensures that ``admin_users`` is a list. [muelli_]

- Use the facts from the ``ansible_lsb`` facts to define the host's OS
  distribution and release, if they are present. If they're not present,
  fallback to default Ansible facts. This should mitigate an issue where
  ``Raspbian`` is wrongly identified by Ansible as ``Debian``. [drybjed_]


`debops.core v0.2.5`_ - 2017-01-12
----------------------------------

.. _debops.core v0.2.5: https://github.com/debops/ansible-core/compare/v0.2.4...v0.2.5

Added
~~~~~

- Add the ``core__homedir_umask`` variable which sets the ``ansible_local.core.homedir_umask``
  fact. [bfabio_]

Changed
~~~~~~~

- Check the ``ansible_user`` and ``ansible_ssh_user`` variables by default to
  get the name of the system administrator accounts. If neither are defined,
  use the user account name from Ansible Controller by default. [drybjed_]

- The fact script will merge provided list of system administrator accounts
  with list of UNIX user accounts on the host that are members of the
  administrator UNIX groups. Previously the manual list replaced the
  autogenerated list entirely. [drybjed_]


`debops.core v0.2.4`_ - 2016-09-12
----------------------------------

.. _debops.core v0.2.4: https://github.com/debops/ansible-core/compare/v0.2.3...v0.2.4

Added
~~~~~

- Add lists of public and private system administrator email addresses, usable
  by other roles through Ansible local facts. [drybjed_]


`debops.core v0.2.3`_ - 2016-08-29
----------------------------------

.. _debops.core v0.2.3: https://github.com/debops/ansible-core/compare/v0.2.2...v0.2.3

Added
~~~~~

- Add custom local facts that define OS distribution and release. [drybjed_]


`debops.core v0.2.2`_ - 2016-08-14
----------------------------------

.. _debops.core v0.2.2: https://github.com/debops/ansible-core/compare/v0.2.1...v0.2.2

Changed
~~~~~~~

- The ``core.fact`` Python script now parses JSON Ansible output instead of
  setting it in a variable directly. [drybjed_]

- Refactor ``admin_users`` variable in the ``core.fact`` Python script.
  [drybjed_]


`debops.core v0.2.1`_ - 2016-08-13
----------------------------------

.. _debops.core v0.2.1: https://github.com/debops/ansible-core/compare/v0.2.0...v0.2.1

Added
~~~~~

- Add list of system administrator groups and user accounts exposed as local
  Ansible facts. This can be used by other roles to automatically create admin
  accounts in services. [drybjed_]

- Add ``cache`` and ``spool`` directories to list of common directories used by
  roles. They point to :file:`/var/cache` and :file:`/var/spool` directories by
  default. [drybjed_]

- The ``debops_service_core`` inventory group can be used to enable the
  ``debops.core`` role without the rest of the playbook. [drybjed_]

- Add facts for the host domain and FQDN. This will allow for a centralized
  configuration of these parameters in the future for roles that use them.
  [drybjed_]

Changed
~~~~~~~

- The ``core.fact`` has been changed from a static file to a Python script to
  make it more dynamic. [drybjed_]

- Move the :command:`apt` installation task to the top of the task list and change it
  to the ``package`` module to make the role more portable. Role will not
  update the package list anymore, but it's expected to be done by the
  bootstrapping infrastructure before the first playbook execution. [drybjed_]


`debops.core v0.2.0`_ - 2016-07-19
----------------------------------

.. _debops.core v0.2.0: https://github.com/debops/ansible-core/compare/v0.1.4...v0.2.0

Changed
~~~~~~~

- Update documentation and Changelog. [drybjed_]

- Rename all role variables from ``core_*`` to ``core__*`` to move them into
  their own namespace. [drybjed_]


`debops.core v0.1.4`_ - 2016-02-08
----------------------------------

.. _debops.core v0.1.4: https://github.com/debops/ansible-core/compare/v0.1.3...v0.1.4

Added
~~~~~

- Add a note about IP addresses of Ansible Controller and ``become`` setting in
  inventory. [drybjed_]

Fixed
~~~~~

- Fix deprecation warnings in Ansible 2.1.0. [drybjed_]


`debops.core v0.1.3`_ - 2015-12-17
----------------------------------

.. _debops.core v0.1.3: https://github.com/debops/ansible-core/compare/v0.1.2...v0.1.3

Changed
~~~~~~~

- Gather local facts if they changed, in case the role is used in a play with
  other roles. [drybjed_]


`debops.core v0.1.2`_ - 2015-10-19
----------------------------------

.. _debops.core v0.1.2: https://github.com/debops/ansible-core/compare/v0.1.1...v0.1.2

Added
~~~~~

- Add a ``core_active_controller`` variable which specifies IP address of
  active Ansible Controller. [drybjed_]


`debops.core v0.1.1`_ - 2015-08-22
----------------------------------

.. _debops.core v0.1.1: https://github.com/debops/ansible-core/compare/v0.1.0...v0.1.1

Added
~~~~~

- Add script to gather information from :file:`/etc/resolv.conf`, available in the
  Ansible Facts as ``ansible_local.resolver.*``. [drybjed_]

debops.core v0.1.0 - 2015-08-22
-------------------------------

Added
~~~~~

- Initial release. [drybjed_]
