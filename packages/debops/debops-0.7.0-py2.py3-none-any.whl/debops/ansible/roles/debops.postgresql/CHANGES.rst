.. _postgresql__ref_changelog:

Changelog
=========

.. include:: includes/all.rst

**debops.postgresql**

This project adheres to `Semantic Versioning <http://semver.org/spec/v2.0.0.html>`__
and `human-readable changelog <http://keepachangelog.com/en/1.0.0/>`__.

The current role maintainer_ is drybjed_.


`debops.postgresql master`_ - unreleased
----------------------------------------

.. _debops.postgresql master: https://github.com/debops/ansible-postgresql/compare/v0.3.4...master


`debops.postgresql v0.3.4`_ - 2017-09-15
----------------------------------------

.. _debops.postgresql v0.3.4: https://github.com/debops/ansible-postgresql/compare/v0.3.3...v0.3.4

Added
~~~~~

- Use a separate variable to lookup autogenerated PostgreSQL role passwords on
  Ansible Controller. [drybjed_]

Changed
~~~~~~~

- Use ``inventory_hostname`` in favor of ``ansible_fqdn`` as default for delegation
  so a custom ``ansible_host`` setting will be honored [cultcom]

- Don't delegate tasks if the database server is on the same host. [le9i0nx_]


`debops.postgresql v0.3.3`_ - 2016-12-14
----------------------------------------

.. _debops.postgresql v0.3.3: https://github.com/debops/ansible-postgresql/compare/v0.3.2...v0.3.3

Changed
~~~~~~~

- Don't use the ``@`` character in passwords to avoid issues with Basic Auth
  URL syntax. [drybjed_]


`debops.postgresql v0.3.2`_ - 2016-10-16
----------------------------------------

.. _debops.postgresql v0.3.2: https://github.com/debops/ansible-postgresql/compare/v0.3.1...v0.3.2

Added
~~~~~

- Add a way to install different PostgreSQL versions after enabling the
  upstream APT repository. [drybjed_]

Changed
~~~~~~~

- Update documentation and Changelog. [drybjed_]

- Restrict the characters that can appear in the ``postgres`` user password and
  make the randomly-generated passwords longer. [drybjed_]

Security
~~~~~~~~

- Make sure that the PostgreSQL server stores the autogenerated passwords
  encrypted in the database. [drybjed_]


`debops.postgresql v0.3.1`_ - 2016-06-29
----------------------------------------

.. _debops.postgresql v0.3.1: https://github.com/debops/ansible-postgresql/compare/v0.3.0...v0.3.1

Changed
~~~~~~~

- Expose upstream APT key fingerprint and repository URL in default variables.
  [drybjed_]

- Don't log role tasks that might deal with PostgreSQL passwords. [drybjed_]


`debops.postgresql v0.3.0`_ - 2016-06-23
----------------------------------------

.. _debops.postgresql v0.3.0: https://github.com/debops/ansible-postgresql/compare/v0.2.1...v0.3.0

Added
~~~~~

- Add new ``postgresql__dependent_*`` variables for use by other roles.
  [drybjed_]

- Add support for database extension management. [drybjed_]

Changed
~~~~~~~

- Rename all role variables from ``postgresql_*`` to ``postgresql__*`` to move
  them to a separate namespace. You might need to update your inventory.
  [drybjed_]


`debops.postgresql v0.2.1`_ - 2016-02-01
----------------------------------------

.. _debops.postgresql v0.2.1: https://github.com/debops/ansible-postgresql/compare/v0.2.0...v0.2.1

Added
~~~~~

- Add configuration variables for debops.apt_preferences_ role. The
  configuration will make sure that PostgreSQL 9.4 from ``jessie-backports``
  repository is installed on Debian Wheezy hosts. [drybjed_]

Changed
~~~~~~~

- Change how role detects PostgreSQL version. The new method will use
  ``apt-cache policy`` to use the version determined by APT preferences instead
  of choosing first version from available packages. This fixes an issue when
  multiple PostgreSQL versions are available but the preferred one is not the
  first one. [drybjed_]


`debops.postgresql v0.2.0`_ - 2015-10-13
----------------------------------------

.. _debops.postgresql v0.2.0: https://github.com/debops/ansible-postgresql/compare/v0.1.0...v0.2.0

Added
~~~~~

- Add support for upstream PostgreSQL repository. [drybjed_]

- Add client-side management of PostgreSQL roles and databases. [drybjed_]

- Add an option to set role password expiration. [drybjed_]

Changed
~~~~~~~

- Clean up package installation code. [drybjed_]

- Update documentation. [drybjed_]

Removed
~~~~~~~

- Remove parts of the role that are related to PostgreSQL server management. [drybjed_]


debops.postgresql v0.1.0 - 2015-09-25
-------------------------------------

Added
~~~~~

- Add Changelog. [drybjed_]
