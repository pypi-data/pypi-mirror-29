

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Result Class &mdash; pyQms 0.5.0-beta documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pyQms 0.5.0-beta documentation" href="index.html"/>
        <link rel="next" title="Chemical composition" href="chemical_composition.html"/>
        <link rel="prev" title="Isotopologue Library" href="isotopologue_library.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pyQms
          

          
          </a>

          
            
            
              <div class="version">
                0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick start</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="isotopologue_library.html">Isotopologue Library</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Result Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="chemical_composition.html">Chemical composition</a></li>
<li class="toctree-l1"><a class="reference internal" href="unimod_mapper.html">Unimod mapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="adaptors.html">Adaptors</a></li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently asked questions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="example_scripts.html">Example Scripts</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyQms</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Result Class</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/results.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="result-class">
<h1>Result Class<a class="headerlink" href="#result-class" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pyqms.Results">
<em class="property">class </em><code class="descclassname">pyqms.</code><code class="descname">Results</code><span class="sig-paren">(</span><em>lookup=None</em>, <em>params=None</em>, <em>fixed_labels=None</em>, <em>metabolic_labels=None</em>, <em>aa_compositions=None</em>, <em>isotopic_distributions=None</em>, <em>charges=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results" title="Permalink to this definition">¶</a></dt>
<dd><p>pyQms results class.</p>
<p>Holds all matching information and lookups. Can be accessed as a
dictionary. Several lookup allow the mapping of moleclar formulas to
molecules (e.g. peptides) and/or trivial names (e.g. protein names).</p>
<p>Structure</p>
<blockquote>
<div><p>key (named tuple)</p>
<blockquote>
<div><ul class="simple">
<li>file_name</li>
<li>formula</li>
<li>charge</li>
<li>label_percentiles</li>
</ul>
</div></blockquote>
<p>value (named tuple)</p>
<blockquote>
<div><ul class="simple">
<li>spec_id</li>
<li>rt</li>
<li>score</li>
<li>scaling_factor</li>
<li>peaks</li>
</ul>
</div></blockquote>
</div></blockquote>
<dl class="method">
<dt id="pyqms.Results.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds match to the result container.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>named tuple</em>) – ( file_name, formula, charge, label_percentiles )</li>
<li><strong>value</strong> (<em>named tuple</em>) – (spec_id, rt, score, scaling_factor, peaks)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns</dt>
<dd>formatted_key (named tuple) : ( file_name, formula, charge, label_percentiles )</dd>
</dl>
<p>Structure</p>
<blockquote>
<div><p>key (named tuple)</p>
<blockquote>
<div><ul class="simple">
<li>file_name</li>
<li>formula</li>
<li>charge</li>
<li>label_percentiles</li>
</ul>
</div></blockquote>
<p>value (named tuple)</p>
<blockquote>
<div><ul class="simple">
<li>spec_id</li>
<li>rt</li>
<li>score</li>
<li>scaling_factor</li>
<li>peaks</li>
</ul>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.calc_amounts_from_rt_info_file">
<code class="descname">calc_amounts_from_rt_info_file</code><span class="sig-paren">(</span><em>rt_info_file=None</em>, <em>rt_border_tolerance=None</em>, <em>calc_amount_function=None</em>, <em>evidence_score_field=’PEP’</em>, <em>buffer_only=False</em>, <em>buffered_csv_dicts=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.calc_amounts_from_rt_info_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to calculate molecule/peptide amounts based on the quant
summary/rt info file genearte by <code class="xref py py-func docutils literal"><span class="pre">write_rt_info_file()</span></code>.
See e.g. example script generate_quant_summary_file.py. A function to
calculate the final molecule amounts can be defined otherwise the
default maximum intensity function is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>rt_info_file</strong> (<em>str</em>) – output file name of the quant summary/rt info
csv file, must be be a complete or relative path</li>
<li><strong>rt_border_tolerance</strong> (<em>int</em>) – retention time border tolerance in
minutes</li>
<li><strong>calc_amount_function</strong> (<em>obj</em>) – python function to calculate final
amounts based on a simple dictionary structure</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The function to calculate the amount of the molecules
(calc_amount_function) should be able to process the below shown
dictionary structure (obj_for_calc_amount). The default function returns
the maximum amount in the retention time window or in the complete
profile. The function should return the determined amount, the retention
time (or approximate) as well as the score.
If functions are used which deternine the amount over more than one
spectrum retention times for this amount should be e.g. at the maximum
intensity of the profile. Scores could be e.g. averaged or also the
score at the maximum amount could be used.</p>
<p>Example for obj_for_calc_amount:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;rt&#39;</span>       <span class="p">:</span> <span class="p">[</span><span class="n">rt1</span><span class="p">,</span><span class="n">rt2</span><span class="p">,</span><span class="o">...</span><span class="p">],</span>
    <span class="s1">&#39;i&#39;</span>        <span class="p">:</span> <span class="p">[</span><span class="n">in1</span><span class="p">,</span><span class="n">in2</span><span class="p">,</span><span class="o">...</span><span class="p">],</span>
    <span class="s1">&#39;scores&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="n">sc1</span><span class="p">,</span><span class="n">sc2</span><span class="p">,</span><span class="o">...</span><span class="p">],</span>
    <span class="s1">&#39;spec_ids&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">id1</span><span class="p">,</span><span class="n">idt2</span><span class="p">,</span><span class="o">...</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example key names (default):</p>
<blockquote>
<div><ul class="simple">
<li>‘max I in window’</li>
<li>‘max I in window (rt)’</li>
<li>‘max I in window (score)’</li>
<li>‘auc in window’ (area under curve)</li>
<li>‘sum I in window’ (summed up intensities)</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.curate_rt_windows">
<code class="descname">curate_rt_windows</code><span class="sig-paren">(</span><em>evidence_dict</em>, <em>rt_tolerance</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.curate_rt_windows" title="Permalink to this definition">¶</a></dt>
<dd><p>Internal function to curate RT windows</p>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.determine_max_itensity">
<code class="descname">determine_max_itensity</code><span class="sig-paren">(</span><em>obj_for_calc_amount</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.determine_max_itensity" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to determine the maximum intensity in given elution
profile. The structure of the object passed to the function is shown
below. This fucntion can be used as a template function to write and use
of function to determine the amount of a molecule e.g. area under curve
or summed up intensities. All self written function must return
amount, rt at or around the amount and the mScore at or around the
amount in an dictionary with appropiate key names.</p>
<p>Example key names (default):</p>
<blockquote>
<div><ul class="simple">
<li>‘max I in window’</li>
<li>‘max I in window (rt)’</li>
<li>‘max I in window (score)’</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is the default function to determine the peptide amount when
write_amount_csv() is called.</p>
</div>
<p>Examples:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
   <span class="s1">&#39;rt&#39;</span>       <span class="p">:</span> <span class="p">[</span><span class="n">rt1</span><span class="p">,</span><span class="n">rt2</span><span class="p">,</span><span class="o">...</span><span class="p">],</span>
   <span class="s1">&#39;i&#39;</span>        <span class="p">:</span> <span class="p">[</span><span class="n">in1</span><span class="p">,</span><span class="n">in2</span><span class="p">,</span><span class="o">...</span><span class="p">],</span>
   <span class="s1">&#39;scores&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="n">sc1</span><span class="p">,</span><span class="n">sc2</span><span class="p">,</span><span class="o">...</span><span class="p">],</span>
   <span class="s1">&#39;spec_ids&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">id1</span><span class="p">,</span><span class="n">idt2</span><span class="p">,</span><span class="o">...</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">keys are shown above</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.extract_results">
<code class="descname">extract_results</code><span class="sig-paren">(</span><em>molecules=None</em>, <em>charges=None</em>, <em>file_names=None</em>, <em>label_percentiles=None</em>, <em>formulas=None</em>, <em>score_threshold=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.extract_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract selected results.</p>
<p>Extracts all matches from the results instance that meet given filter
criteria.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>molecules</strong> (<em>list of str</em><em>, </em><em>optional</em>) – considered molecules. Those will
be translated using self._translate_molecules_to_formulas()</li>
<li><strong>charges</strong> (<em>list of int</em><em>, </em><em>optional</em>) – considered charge
states.</li>
<li><strong>file_names</strong> (<em>list of str</em><em>, </em><em>optional</em>) – list of file names to be
considered.</li>
<li><strong>label_percentiles</strong> (<em>list of tuple</em><em>, </em><em>optional</em>) – list of label percentile tuples
to be considered.</li>
<li><strong>formulas</strong> (<em>list of str</em>) – list of chemical formulas</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>key, i, entry (tuple)</em> – result class key, index of entry and entry</p>
</td>
</tr>
</tbody>
</table>
<p>Structure</p>
<blockquote>
<div><p>key (named tuple)</p>
<blockquote>
<div><ul class="simple">
<li>file_name</li>
<li>formula</li>
<li>charge</li>
<li>label_percentiles</li>
</ul>
</div></blockquote>
<p>value (named tuple)</p>
<blockquote>
<div><ul class="simple">
<li>spec_id</li>
<li>rt</li>
<li>score</li>
<li>scaling_factor</li>
<li>peaks</li>
</ul>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.max_score">
<code class="descname">max_score</code><span class="sig-paren">(</span><em>molecules=None</em>, <em>charges=None</em>, <em>file_names=None</em>, <em>label_percentiles=None</em>, <em>formulas=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.max_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Find max score for a given set of parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>molecules</strong> (<em>list of str</em><em>, </em><em>optional</em>) – considered molecules. Those will
be translated using self._translate_molecules_to_formulas()</li>
<li><strong>charges</strong> (<em>list of int</em><em>, </em><em>optional</em>) – considered charge
states.</li>
<li><strong>file_names</strong> (<em>list of str</em><em>, </em><em>optional</em>) – list of file names to be
considered.</li>
<li><strong>label_percentiles</strong> (<em>list of tuple</em><em>, </em><em>optional</em>) – list of label percentile tuples
to be considered.</li>
<li><strong>formulas</strong> (<em>list of str</em>) – list of chemical formulas</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">key is appropriate key in result.dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">best_score, key, index (tuple)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.plot_MIC_3D">
<code class="descname">plot_MIC_3D</code><span class="sig-paren">(</span><em>key</em>, <em>file_name=None</em>, <em>rt_window=None</em>, <em>i_transform=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.plot_MIC_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot MIC from results using rpy2 in 3D.</p>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.plot_MICs_2D">
<code class="descname">plot_MICs_2D</code><span class="sig-paren">(</span><em>key_list</em>, <em>file_name=None</em>, <em>rt_window=None</em>, <em>i_transform=None</em>, <em>xlimits=None</em>, <em>additional_legends=None</em>, <em>title=None</em>, <em>zlimits=None</em>, <em>ablines=None</em>, <em>graphics=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.plot_MICs_2D" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>additional_legends</strong> (<em>dict</em>) – key points on lists of strings that are
plotted as well.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.write_result_csv">
<code class="descname">write_result_csv</code><span class="sig-paren">(</span><em>output_file_name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.write_result_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Write raw results into a .csv file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output_file_name</strong> (<em>str</em>) – output file name of the csv containing
containing all raw results, should be a complete path</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Depending on data size the resulting csv can become very large.
Some csv viewer can not handle files with a large number of
lines.</p>
</div>
<p>Keys in csv:</p>
<blockquote>
<div><ul class="simple">
<li>Formula           : molecular formula of the molecule (str)</li>
<li>Molecule          : molecule or trivial name (str)</li>
<li>Charge            : charge of the molecule (int)</li>
<li>ScanID            : ScanID of the quantified spectrum (int)</li>
<li>Label Percentiles : Labeling percentile ( (element, enrichment in %), )</li>
<li>Amount            : the determined amount of the molecule</li>
<li>Retention Time    : retetention time of the ScanID</li>
<li>mScore            : score of the isotopologue match</li>
<li>Filename          : filename of spectrum input files</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.write_result_mztab">
<code class="descname">write_result_mztab</code><span class="sig-paren">(</span><em>output_file_name=None</em>, <em>rt_border_tolerance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.write_result_mztab" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Write minimal peptide quantification results into a .mztab file. It
is neccessary to specify the ‘formula to evidences’ dict in the
lookup of the results class to write results!</p>
<p>Note:</p>
<blockquote>
<div>This basic mzTab writer is still in beta stage. Use and
evaluate with care.</div></blockquote>
<p>PRIDE CV based quantifcation unit and value is fixd to:</p>
<blockquote>
<div><ul class="simple">
<li>PRIDE:0000393, Relative quantification unit</li>
<li>PRIDE:0000425, MS1 intensity based label-free quantification method</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt>output_file_name (str): output file name of the mztab containing</dt>
<dd>containing all raw results, should be a complete path</dd>
</dl>
</dd>
</dl>
<p>Note:</p>
<blockquote>
<div>Adiitional information has to be passed tot he result class for
a more complete mztab output.</div></blockquote>
<p>Keys in mztab:</p>
<blockquote>
<div><ul class="simple">
<li>sequence</li>
<li>accession</li>
<li>unique</li>
<li>database</li>
<li>database_version</li>
<li>search_engine</li>
<li>best_search_engine_score[1-n]</li>
<li>modifications</li>
<li>retention_time</li>
<li>retention_time_window</li>
<li>charge</li>
<li>mass_to_charge</li>
<li>peptide_abundance_study_variable[1-n]</li>
<li>peptide_abundance_stdev_study_variable[1-n]</li>
<li>peptide_abundance_std_error_study_variable[1-n]</li>
<li>search_engine_score[1-n]_ms_run[1-n]</li>
<li>peptide_abundance_assay[1-n]</li>
<li>spectra_ref</li>
<li>opt_{identifier}_*</li>
<li>reliability</li>
<li>uri</li>
</ul>
</div></blockquote>
</div></blockquote>
<p>Addtional information can be added to the mzTab file by adding a dict
like shown below to the results.lookup dict under the key
‘mztab_meta_info’.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mztab_meta_info</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;protein_search_engine_score&#39;</span>   <span class="p">:</span> <span class="p">[],</span>
    <span class="s1">&#39;psm_search_engine_score&#39;</span>       <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;[MS,MS:1001475,OMSSA:evalue, ]&#39;</span><span class="p">],</span>
    <span class="s1">&#39;fixed_mod&#39;</span>                     <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;[UNIMOD, UNIMOD:4, Carbamidomethyl, ]&#39;</span><span class="p">],</span>
    <span class="s1">&#39;variable_mod&#39;</span>                  <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;[UNIMOD, UNIMOD:35, Oxidation, ]&#39;</span><span class="p">],</span>
    <span class="s1">&#39;study_variable-description&#39;</span>    <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Standard BSA measurement&#39;</span><span class="p">],</span>
    <span class="s1">&#39;ms_run-location&#39;</span>               <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BSA1.mzML&#39;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyqms.Results.write_rt_info_file">
<code class="descname">write_rt_info_file</code><span class="sig-paren">(</span><em>output_file=None</em>, <em>list_of_csvdicts=None</em>, <em>trivial_name_lookup=None</em>, <em>rt_border_tolerance=None</em>, <em>update=True</em>, <em>buffer_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#pyqms.Results.write_rt_info_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to write a default quant summary/rt info file. See e.g.
example script generate_quant_summary_file.py.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>output_file</strong> (<em>str</em>) – output file name of the csv, should be a
complete path</li>
<li><strong>list_of_csvdicts</strong> (<em>list</em>) – list of dictionaries passed to the
DictWriter class, default fieldnames can be found below</li>
<li><strong>trivial_name_lookup</strong> (<em>dict</em>) – self defined trivial_name_lookup, see
format below.</li>
<li><strong>rt_border_tolerance</strong> (<em>int</em>) – retention time border tolerance in
minutes</li>
<li><strong>update</strong> (<em>bool</em>) – if True read in or passed dictionaries in
list_of_csvdicts will be updated with default evidence and
trivial name information</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The quant summary file can manually be updated (e.g. the start and stop
RT information). If an evidence lookup is present in the result class (
can be passed to the isotopologue library or later be set in the result
class), these information are used to define the retention time borders
(e.g. peptide identfication information from peptide spectrum matches).</p>
<p>Default fieldnames:</p>
<blockquote>
<div><ul class="simple">
<li>file_name               : filename of spectrum input file</li>
<li>formula                 : molecular formula of the molecule</li>
<li>molecule                : molecule or trivial name</li>
<li>trivial_name(s)         : protein or trivial names</li>
<li>label_percentiles       : labeling percentile ( (element, enrichment in %), )</li>
<li>charge                  : charge of the molecule</li>
<li>start (min)             : start of retention time window</li>
<li>stop (min)              : stop of retention time window</li>
<li>max I in window         : maximum intensity in retention time window</li>
<li>max I in window (rt)    : retention time &#64; maximum intensity in retention time window</li>
<li>max I in window (score) : score &#64; maximum intensity in retention time window</li>
<li>auc in window           : area under curve in retention time window</li>
<li>sum I in window         : summed up intensities in retention time window</li>
<li>evidences (min)         : all evidences/identifications (<a class="reference external" href="mailto:score&#37;&#52;&#48;rt">score<span>&#64;</span>rt</a>;…)</li>
</ul>
</div></blockquote>
<p>Trivial name lookup example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;C(33)H(59)14N(1)N(8)O(9)S(1)&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;BSA&#39;</span><span class="p">,</span><span class="s1">&#39;Bovine serum albumine&#39;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="chemical_composition.html" class="btn btn-neutral float-right" title="Chemical composition" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="isotopologue_library.html" class="btn btn-neutral" title="Isotopologue Library" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Johannes Leufken, Anna Niehues, L. Peter Sarin, Michael Hippler, Sebastian A. Leidel and Christian Fufezan.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.5.0-beta',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>