Metadata-Version: 2.0
Name: pyvesync
Version: 0.1.1
Summary: pyvesync is a library to manage Etekcity Switches
Home-page: https://github.com/markperdue/pyvesync
Author: Mark Perdue
Author-email: markaperdue@gmail.com
License: MIT
Description-Content-Type: UNKNOWN
Keywords: iot,vesync
Platform: UNKNOWN
Classifier: License :: OSI Approved :: MIT License
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: End Users/Desktop
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3.0
Requires-Dist: requests (>=2.6.0)

pyvesync |build status|
=======================

pyvesync is a library to manage Etekcity Switches.

Installation
------------

Install the latest version from pip:

.. code:: python

    pip install pyvesync

Usage
-----

To start with the module:

.. code:: python

    from pyvesync.vesync import VeSync

    manager = VeSync("USERNAME", "PASSWORD")
    manager.login()
    manager.update()

    # Get electricity metrics of devices
    for switch in manager.devices:
        print("Switch %s is currently using %s watts" % (switch.device_name, switch.get_power()))
        print("It has used %skWh of electricity today" % (switch.get_kwh_today()))

    # Turn on the first device
    my_switch = manager.devices[0]
    print("Turning on switch '%s'" % (my_switch.device_name))
    my_switch.turn_on()

Manager API
-----------

``VeSync.get_devices()`` - Returns a list of devices

``VeSync.login()`` - Uses class username and password to login to VeSync

``VeSync.update()`` - Fetch updated information about devices

Device API
----------

``VeSyncSwitch.get_active_time()`` - Return active time of a device in
minutes

``VeSyncSwitch.get_kwh_today()`` - Return total kWh for current date of
a device

``VeSyncSwitch.get_power()`` - Return current power in watts of a device

``VeSyncSwitch.turn_on()`` - Turn on a device

``VeSyncSwitch.turn_off()`` - Turn off a device

``VeSyncSwitch.update()`` - Fetch updated information about device

Notes
-----

VeSync switches controlled through the Etekcity api do not always
respond to the initial request for turn_on() and turn_off(). Retrying
once or twice as needed often works.

.. |build status| image:: https://img.shields.io/pypi/v/pyvesync.svg
   :target: https://pypi.python.org/pypi/pyvesync


