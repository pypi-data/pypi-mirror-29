Metadata-Version: 2.0
Name: campbel
Version: 0.0.32
Summary: Convenient tool"),
Home-page: https://github.com/campbel2525/campbel
Author: Ryuichi Furuya
Author-email: campbel2525@gmail.com
License: MIT
Platform: UNKNOWN
Classifier: Programming Language :: Python :: 2.7
Classifier: Programming Language :: Python :: 3.6
Requires-Dist: boto
Requires-Dist: pymysql

pypi: https://pypi.python.org/pypi/campbel/0.0.7

便利モジュールです。  
現段階ではRDS、S3への接続のモジュールになります。

セットアップ  
pip install campbel

チュートリアル  
dbに接続しよう  

from campbel.AWS import Rds as rds  
rds = rds.Rds(  
    db_host = 'DBホスト',  
    db_user = 'DBユーザー',  
    db_password = 'DBパスワード',  
    db_name = 'DB名',  
    charset = 'utf-8',
    debug=False
    )  

これで接続完了！

sql文を実行してみよう
sql = ''
rds.sqlExecute(sql)  
rds.dbClosed()
これで任意のsql文を実行できます！
以下を使うと高速にかつ正確にsql文が実行できます。(内部ではsqlExecute()が実行されています。)

インサートしよう  
辞書形式を配列にしましょう。
data_list_array = [  
    {'name':'ryu', age:27, 'massage':'こんにちは'},  
    {'name':'koumei', age:26, 'massage':'game'},  
    {'name':'hyuga', age:21, 'massage':'meshi'},  
    {'name':'kenjo', age:20, 'massage':'study'},  
    ]  
r = rds.insertListExecute('user', data_list_array)  
これは  
INSERT INTO user (name,age,message) VALUES ("ryu",27,"こんにちは")  
INSERT INTO user (name,age,message) VALUES ("koumei",26,"game")  
INSERT INTO user (name,age,message) VALUES ("hyuga",21,"meshi")  
INSERT INTO user (name,age,message) VALUES ("kenjo",20,"study")  
と等価です。  

取得してみよう
r ＝ rds.insertListExecute('user', 'name', where='')
data = r.fetchall()
これは
SELECT name FROM user
と等価です。

アップデートしてみよう
r = rds.updateListExecute('user', {'age':8, 'where':'name="ryu"'}, where='where')  
これは
UPDATE user SET age=8 WHERE name="ryu"
と等価です。


なお、
r._executedで実行した一番最後のsqlが確認できます。(複数まとめて実行した場合は一番最後のsqlの表示になります。)
もしその都度確認したければ、インスタンスを作る段階でdebug=Trueとしてください。



次はs3に接続してみよう！  

from campbel.AWS import S3 as s3  

s3 = spython setup.py register3.S3(  
        access_key = 'アクセスキー',  
        secret_access_key = 'シークレットアクセスキー',  
        bucket_name = 'バケット名',  
    )  

これで接続完了です。  

S3の/test/とディレクトリを作ろう。  
s3.createDir('test/')  

ローカルのa.txtをデータを入れよう！  
s3.uploadFileToS3(a.txt, 'test/a.txt')  



















<!--  -->


