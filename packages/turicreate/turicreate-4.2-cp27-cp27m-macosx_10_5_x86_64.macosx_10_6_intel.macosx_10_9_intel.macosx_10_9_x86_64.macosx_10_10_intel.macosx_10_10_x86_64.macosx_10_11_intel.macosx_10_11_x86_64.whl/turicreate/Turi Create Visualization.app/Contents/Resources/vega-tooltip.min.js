!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).vegaTooltip=t()}}(function(){return function t(e,n,r){function i(u,a){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[u]={exports:{}};e[u][0].call(s.exports,function(t){var n=e[u][1][t];return i(n||t)},s,s.exports,t,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){var r;r=this,function(t){"use strict";var e,n=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},r=function(t){return(t=n(Math.abs(t)))?t[1]:NaN},i=function(t,e){var r=n(t,e);if(!r)return t+"";var i=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")},o={"":function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return i(100*t,e)},r:i,s:function(t,r){var i=n(t,r);if(!i)return t+"";var o=i[0],u=i[1],a=u-(e=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,c=o.length;return a===c?o:a>c?o+new Array(a-c+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+n(t,Math.max(0,r+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},u=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function a(t){return new c(t)}function c(t){if(!(e=u.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",c=!!e[5],l=e[6]&&+e[6],s=!!e[7],f=e[8]&&+e[8].slice(1),h=e[9]||"";"n"===h?(s=!0,h="g"):o[h]||(h=""),(c||"0"===n&&"="===r)&&(c=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=c,this.width=l,this.comma=s,this.precision=f,this.type=h}a.prototype=c.prototype,c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var l,s=function(t){return t},f=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],h=function(t){var n,i,u,c=t.grouping&&t.thousands?(i=t.grouping,u=t.thousands,function(t,e){for(var n=t.length,r=[],o=0,a=i[0],c=0;n>0&&a>0&&(c+a+1>e&&(a=Math.max(1,e-c)),r.push(t.substring(n-=a,n+a)),!((c+=a+1)>e));)a=i[o=(o+1)%i.length];return r.reverse().join(u)}):s,l=t.currency,h=t.decimal,d=t.numerals?(n=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}):s,m=t.percent||"%";function p(t){var n=(t=a(t)).fill,r=t.align,i=t.sign,u=t.symbol,s=t.zero,p=t.width,g=t.comma,v=t.precision,y=t.type,T="$"===u?l[0]:"#"===u&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",_="$"===u?l[1]:/[%p]/.test(y)?m:"",w=o[y],M=!y||/[defgprs%]/.test(y);function D(t){var o,u,a,l=T,m=_;if("c"===y)m=w(t)+m,t="";else{var D=(t=+t)<0;if(t=w(Math.abs(t),v),D&&0==+t&&(D=!1),l=(D?"("===i?i:"-":"-"===i||"("===i?"":i)+l,m=("s"===y?f[8+e/3]:"")+m+(D&&"("===i?")":""),M)for(o=-1,u=t.length;++o<u;)if(48>(a=t.charCodeAt(o))||a>57){m=(46===a?h+t.slice(o+1):t.slice(o))+m,t=t.slice(0,o);break}}g&&!s&&(t=c(t,1/0));var x=l.length+t.length+m.length,C=x<p?new Array(p-x+1).join(n):"";switch(g&&s&&(t=c(C+t,C.length?p-m.length:1/0),C=""),r){case"<":t=l+t+m+C;break;case"=":t=l+C+t+m;break;case"^":t=C.slice(0,x=C.length>>1)+l+t+m+C.slice(x);break;default:t=C+l+t+m}return d(t)}return v=null==v?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),D.toString=function(){return t+""},D}return{format:p,formatPrefix:function(t,e){var n=p(((t=a(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(r(e)/3))),o=Math.pow(10,-i),u=f[8+i/3];return function(t){return n(o*t)+u}}}};function d(e){return l=h(e),t.format=l.format,t.formatPrefix=l.formatPrefix,l}d({decimal:".",thousands:",",grouping:[3],currency:["$",""]});t.formatDefaultLocale=d,t.formatLocale=h,t.formatSpecifier=a,t.precisionFixed=function(t){return Math.max(0,-r(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(r(e)/3)))-r(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,r(e)-r(t))+1},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],2:[function(t,e,n){var r;r=this,function(t){"use strict";var e="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},r=function(t){var e=t+="",r=e.indexOf(":");return r>=0&&"xmlns"!==(e=t.slice(0,r))&&(t=t.slice(r+1)),n.hasOwnProperty(e)?{space:n[e],local:t}:t};var i=function(t){var n=r(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===e&&n.documentElement.namespaceURI===e?n.createElement(t):n.createElementNS(r,t)}})(n)},o=0;function u(){return new a}function a(){this._="@"+(++o).toString(36)}a.prototype=u.prototype={constructor:a,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var c=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var l=document.documentElement;if(!l.matches){var s=l.webkitMatchesSelector||l.msMatchesSelector||l.mozMatchesSelector||l.oMatchesSelector;c=function(t){return function(){return s.call(this,t)}}}}var f=c,h={};(t.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(h={mouseenter:"mouseover",mouseleave:"mouseout"}));function d(t,e,n){return t=m(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function m(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function p(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function g(t,e,n){var r=h.hasOwnProperty(t.type)?d:m;return function(i,o,u){var a,c=this.__on,l=r(e,o,u);if(c)for(var s=0,f=c.length;s<f;++s)if((a=c[s]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(a):this.__on=[a]}}var v=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},y=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]};function T(){}var _=function(t){return null==t?T:function(){return this.querySelector(t)}};function w(){return[]}var M=function(t){return null==t?w:function(){return this.querySelectorAll(t)}},D=function(t){return new Array(t.length)};function x(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}x.prototype={constructor:x,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var C="$";function b(t,e,n,r,i,o){for(var u,a=0,c=e.length,l=o.length;a<l;++a)(u=e[a])?(u.__data__=o[a],r[a]=u):n[a]=new x(t,o[a]);for(;a<c;++a)(u=e[a])&&(i[a]=u)}function A(t,e,n,r,i,o,u){var a,c,l,s={},f=e.length,h=o.length,d=new Array(f);for(a=0;a<f;++a)(c=e[a])&&(d[a]=l=C+u.call(c,c.__data__,a,e),l in s?i[a]=c:s[l]=c);for(a=0;a<h;++a)(c=s[l=C+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],s[l]=null):n[a]=new x(t,o[a]);for(a=0;a<f;++a)(c=e[a])&&s[d[a]]===c&&(i[a]=c)}function F(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var U=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function S(t,e){return t.style.getPropertyValue(e)||U(t).getComputedStyle(t,null).getPropertyValue(e)}function O(t){return t.trim().split(/^|\s+/)}function E(t){return t.classList||new L(t)}function L(t){this._node=t,this._names=O(t.getAttribute("class")||"")}function Y(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function P(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}L.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function N(){this.textContent=""}function H(){this.innerHTML=""}function I(){this.nextSibling&&this.parentNode.appendChild(this)}function j(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function k(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function R(t,e,n){var r=U(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var W=[null];function q(t,e){this._groups=t,this._parents=e}function z(){return new q([[document.documentElement]],W)}q.prototype=z.prototype={constructor:q,select:function(t){"function"!=typeof t&&(t=_(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u,a=e[i],c=a.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),l[s]=u);return new q(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=M(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u,a=e[o],c=a.length,l=0;l<c;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),i.push(u));return new q(r,i)},filter:function(t){"function"!=typeof t&&(t=f(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,u=e[i],a=u.length,c=r[i]=[],l=0;l<a;++l)(o=u[l])&&t.call(o,o.__data__,l,u)&&c.push(o);return new q(r,this._parents)},data:function(t,e){if(!t)return m=new Array(this.size()),s=-1,this.each(function(t){m[++s]=t}),m;var n,r=e?A:b,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var u=o.length,a=new Array(u),c=new Array(u),l=new Array(u),s=0;s<u;++s){var f=i[s],h=o[s],d=h.length,m=t.call(f,f&&f.__data__,s,i),p=m.length,g=c[s]=new Array(p),v=a[s]=new Array(p);r(f,h,g,v,l[s]=new Array(d),m,e);for(var y,T,_=0,w=0;_<p;++_)if(y=g[_]){for(_>=w&&(w=_+1);!(T=v[w])&&++w<p;);y._next=T||null}}return(a=new q(a,i))._enter=c,a._exit=l,a},enter:function(){return new q(this._enter||this._groups.map(D),this._parents)},exit:function(){return new q(this._exit||this._groups.map(D),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,l=e[a],s=n[a],f=l.length,h=u[a]=new Array(f),d=0;d<f;++d)(c=l[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=e[a];return new q(u,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=F);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,a=n[o],c=a.length,l=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(l[s]=u);l.sort(e)}return new q(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,e){var n=r(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):S(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=O(t+"");if(arguments.length<2){for(var r=E(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Y:P)(this,t)}}:e?function(t){return function(){Y(this,t)}}:function(t){return function(){P(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?N:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?H:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(I)},lower:function(){return this.each(j)},append:function(t){var e="function"==typeof t?t:i(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:i(t),r=null==e?k:"function"==typeof e?e:_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(V)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),u=o.length;if(!(arguments.length<2)){for(a=e?g:p,null==n&&(n=!1),r=0;r<u;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var c,l=0,s=a.length;l<s;++l)for(r=0,c=a[l];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return R(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return R(this,t,e)}})(t,e))}};t.creator=i,t.local=u,t.matcher=f,t.mouse=function(t){var e=v();return e.changedTouches&&(e=e.changedTouches[0]),y(t,e)},t.namespace=r,t.namespaces=n,t.clientPoint=y,t.select=function(t){return"string"==typeof t?new q([[document.querySelector(t)]],[document.documentElement]):new q([[t]],W)},t.selectAll=function(t){return"string"==typeof t?new q([document.querySelectorAll(t)],[document.documentElement]):new q([null==t?[]:t],W)},t.selection=z,t.selector=_,t.selectorAll=M,t.style=S,t.touch=function(t,e,n){arguments.length<3&&(n=e,e=v().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return y(t,r);return null},t.touches=function(t,e){null==e&&(e=v().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=y(t,e[n]);return i},t.window=U,t.customEvent=function(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],3:[function(t,e,n){var r,i;r=this,i=function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){var o=t.dateTime,u=t.date,c=t.time,l=t.periods,s=t.days,f=t.shortDays,h=t.months,vt=t.shortMonths,yt=d(l),Tt=m(l),_t=d(s),wt=m(s),Mt=d(f),Dt=m(f),xt=d(h),Ct=m(h),bt=d(vt),At=m(vt),Ft={a:function(t){return f[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return vt[t.getMonth()]},B:function(t){return h[t.getMonth()]},c:null,d:Y,e:Y,f:j,H:P,I:N,j:H,L:I,m:k,M:V,p:function(t){return l[+(t.getHours()>=12)]},Q:pt,s:gt,S:R,u:W,U:q,V:z,w:B,W:X,x:null,X:null,y:Z,Y:G,Z:Q,"%":mt},Ut={a:function(t){return f[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return vt[t.getUTCMonth()]},B:function(t){return h[t.getUTCMonth()]},c:null,d:J,e:J,f:nt,H:$,I:K,j:tt,L:et,m:rt,M:it,p:function(t){return l[+(t.getUTCHours()>=12)]},Q:pt,s:gt,S:ot,u:ut,U:at,V:ct,w:lt,W:st,x:null,X:null,y:ft,Y:ht,Z:dt,"%":mt},St={a:function(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.w=Dt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=_t.exec(e.slice(n));return r?(t.w=wt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=bt.exec(e.slice(n));return r?(t.m=At[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=xt.exec(e.slice(n));return r?(t.m=Ct[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return Lt(t,o,e,n)},d:x,e:x,f:S,H:b,I:b,j:C,L:U,m:D,M:A,p:function(t,e,n){var r=yt.exec(e.slice(n));return r?(t.p=Tt[r[0].toLowerCase()],n+r[0].length):-1},Q:E,s:L,S:F,u:g,U:v,V:y,w:p,W:T,x:function(t,e,n){return Lt(t,u,e,n)},X:function(t,e,n){return Lt(t,c,e,n)},y:w,Y:_,Z:M,"%":O};function Ot(t,e){return function(n){var r,i,o,u=[],c=-1,l=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++c<s;)37===t.charCodeAt(c)&&(u.push(t.slice(l,c)),null!=(i=a[r=t.charAt(++c)])?r=t.charAt(++c):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),u.push(r),l=c+1);return u.push(t.slice(l,c)),u.join("")}}function Et(t,n){return function(o){var u,a,c=i(1900);if(Lt(c,t,o+="",0)!=o.length)return null;if("Q"in c)return new Date(c.Q);if("p"in c&&(c.H=c.H%12+12*c.p),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(u=(a=(u=r(i(c.y))).getUTCDay())>4||0===a?e.utcMonday.ceil(u):e.utcMonday(u),u=e.utcDay.offset(u,7*(c.V-1)),c.y=u.getUTCFullYear(),c.m=u.getUTCMonth(),c.d=u.getUTCDate()+(c.w+6)%7):(u=(a=(u=n(i(c.y))).getDay())>4||0===a?e.timeMonday.ceil(u):e.timeMonday(u),u=e.timeDay.offset(u,7*(c.V-1)),c.y=u.getFullYear(),c.m=u.getMonth(),c.d=u.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),a="Z"in c?r(i(c.y)).getUTCDay():n(i(c.y)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(a+5)%7:c.w+7*c.U-(a+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):n(c)}}function Lt(t,e,n,r){for(var i,o,u=0,c=e.length,l=n.length;u<c;){if(r>=l)return-1;if(37===(i=e.charCodeAt(u++))){if(i=e.charAt(u++),!(o=St[i in a?e.charAt(u++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return Ft.x=Ot(u,Ft),Ft.X=Ot(c,Ft),Ft.c=Ot(o,Ft),Ut.x=Ot(u,Ut),Ut.X=Ot(c,Ut),Ut.c=Ot(o,Ut),{format:function(t){var e=Ot(t+="",Ft);return e.toString=function(){return t},e},parse:function(t){var e=Et(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var e=Ot(t+="",Ut);return e.toString=function(){return t},e},utcParse:function(t){var e=Et(t,r);return e.toString=function(){return t},e}}}var u,a={"-":"",_:" ",0:"0"},c=/^\s*\d+/,l=/^%/,s=/[\\^$*+?|[\]().{}]/g;function f(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function h(t){return t.replace(s,"\\$&")}function d(t){return new RegExp("^(?:"+t.map(h).join("|")+")","i")}function m(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function p(t,e,n){var r=c.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function g(t,e,n){var r=c.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function v(t,e,n){var r=c.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function y(t,e,n){var r=c.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function T(t,e,n){var r=c.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _(t,e,n){var r=c.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function w(t,e,n){var r=c.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function M(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function D(t,e,n){var r=c.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function x(t,e,n){var r=c.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function C(t,e,n){var r=c.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function b(t,e,n){var r=c.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function A(t,e,n){var r=c.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function F(t,e,n){var r=c.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function U(t,e,n){var r=c.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function S(t,e,n){var r=c.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function O(t,e,n){var r=l.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function E(t,e,n){var r=c.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function L(t,e,n){var r=c.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Y(t,e){return f(t.getDate(),e,2)}function P(t,e){return f(t.getHours(),e,2)}function N(t,e){return f(t.getHours()%12||12,e,2)}function H(t,n){return f(1+e.timeDay.count(e.timeYear(t),t),n,3)}function I(t,e){return f(t.getMilliseconds(),e,3)}function j(t,e){return I(t,e)+"000"}function k(t,e){return f(t.getMonth()+1,e,2)}function V(t,e){return f(t.getMinutes(),e,2)}function R(t,e){return f(t.getSeconds(),e,2)}function W(t){var e=t.getDay();return 0===e?7:e}function q(t,n){return f(e.timeSunday.count(e.timeYear(t),t),n,2)}function z(t,n){var r=t.getDay();return t=r>=4||0===r?e.timeThursday(t):e.timeThursday.ceil(t),f(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),n,2)}function B(t){return t.getDay()}function X(t,n){return f(e.timeMonday.count(e.timeYear(t),t),n,2)}function Z(t,e){return f(t.getFullYear()%100,e,2)}function G(t,e){return f(t.getFullYear()%1e4,e,4)}function Q(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+f(e/60|0,"0",2)+f(e%60,"0",2)}function J(t,e){return f(t.getUTCDate(),e,2)}function $(t,e){return f(t.getUTCHours(),e,2)}function K(t,e){return f(t.getUTCHours()%12||12,e,2)}function tt(t,n){return f(1+e.utcDay.count(e.utcYear(t),t),n,3)}function et(t,e){return f(t.getUTCMilliseconds(),e,3)}function nt(t,e){return et(t,e)+"000"}function rt(t,e){return f(t.getUTCMonth()+1,e,2)}function it(t,e){return f(t.getUTCMinutes(),e,2)}function ot(t,e){return f(t.getUTCSeconds(),e,2)}function ut(t){var e=t.getUTCDay();return 0===e?7:e}function at(t,n){return f(e.utcSunday.count(e.utcYear(t),t),n,2)}function ct(t,n){var r=t.getUTCDay();return t=r>=4||0===r?e.utcThursday(t):e.utcThursday.ceil(t),f(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),n,2)}function lt(t){return t.getUTCDay()}function st(t,n){return f(e.utcMonday.count(e.utcYear(t),t),n,2)}function ft(t,e){return f(t.getUTCFullYear()%100,e,2)}function ht(t,e){return f(t.getUTCFullYear()%1e4,e,4)}function dt(){return"+0000"}function mt(){return"%"}function pt(t){return+t}function gt(t){return Math.floor(+t/1e3)}function vt(e){return u=o(e),t.timeFormat=u.format,t.timeParse=u.parse,t.utcFormat=u.utcFormat,t.utcParse=u.utcParse,u}vt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var yt="%Y-%m-%dT%H:%M:%S.%LZ";var Tt=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(yt);var _t=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse(yt);t.timeFormatDefaultLocale=vt,t.timeFormatLocale=o,t.isoFormat=Tt,t.isoParse=_t,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==e?i(n,t("d3-time")):i(r.d3=r.d3||{},r.d3)},{"d3-time":4}],4:[function(t,e,n){var r;r=this,function(t){"use strict";var e=new Date,n=new Date;function r(t,i,o,u){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.ceil=function(e){return t(e=new Date(e-1)),i(e,1),t(e),e},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,e){return i(t=new Date(+t),null==e?1:Math.floor(e)),t},a.range=function(e,n,r){var o,u=[];if(e=a.ceil(e),r=null==r?1:Math.floor(r),!(e<n&&r>0))return u;do{u.push(o=new Date(+e)),i(e,r),t(e)}while(o<e&&e<n);return u},a.filter=function(e){return r(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;i(t,-1),!e(t););else for(;--n>=0;)for(;i(t,1),!e(t););})},o&&(a.count=function(r,i){return e.setTime(+r),n.setTime(+i),t(e),t(n),Math.floor(o(e,n))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(u?function(e){return u(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var i=r(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):i:null};var o=i.range,u=6e4,a=6048e5,c=r(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),l=c.range,s=r(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getMinutes()}),f=s.range,h=r(function(t){var e=t.getTimezoneOffset()*u%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),d=h.range,m=r(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/864e5},function(t){return t.getDate()-1}),p=m.range;function g(t){return r(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/a})}var v=g(0),y=g(1),T=g(2),_=g(3),w=g(4),M=g(5),D=g(6),x=v.range,C=y.range,b=T.range,A=_.range,F=w.range,U=M.range,S=D.range,O=r(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),E=O.range,L=r(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});L.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Y=L.range,P=r(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCMinutes()}),N=P.range,H=r(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),I=H.range,j=r(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),k=j.range;function V(t){return r(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/a})}var R=V(0),W=V(1),q=V(2),z=V(3),B=V(4),X=V(5),Z=V(6),G=R.range,Q=W.range,J=q.range,$=z.range,K=B.range,tt=X.range,et=Z.range,nt=r(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),rt=nt.range,it=r(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});it.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ot=it.range;t.timeInterval=r,t.timeMillisecond=i,t.timeMilliseconds=o,t.utcMillisecond=i,t.utcMilliseconds=o,t.timeSecond=c,t.timeSeconds=l,t.utcSecond=c,t.utcSeconds=l,t.timeMinute=s,t.timeMinutes=f,t.timeHour=h,t.timeHours=d,t.timeDay=m,t.timeDays=p,t.timeWeek=v,t.timeWeeks=x,t.timeSunday=v,t.timeSundays=x,t.timeMonday=y,t.timeMondays=C,t.timeTuesday=T,t.timeTuesdays=b,t.timeWednesday=_,t.timeWednesdays=A,t.timeThursday=w,t.timeThursdays=F,t.timeFriday=M,t.timeFridays=U,t.timeSaturday=D,t.timeSaturdays=S,t.timeMonth=O,t.timeMonths=E,t.timeYear=L,t.timeYears=Y,t.utcMinute=P,t.utcMinutes=N,t.utcHour=H,t.utcHours=I,t.utcDay=j,t.utcDays=k,t.utcWeek=R,t.utcWeeks=G,t.utcSunday=R,t.utcSundays=G,t.utcMonday=W,t.utcMondays=Q,t.utcTuesday=q,t.utcTuesdays=J,t.utcWednesday=z,t.utcWednesdays=$,t.utcThursday=B,t.utcThursdays=K,t.utcFriday=X,t.utcFridays=tt,t.utcSaturday=Z,t.utcSaturdays=et,t.utcMonth=nt,t.utcMonths=rt,t.utcYear=it,t.utcYears=ot,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}],5:[function(t,e,n){"use strict";var r,i;Object.defineProperty(n,"__esModule",{value:!0}),(i=r=n.Type||(n.Type={})).QUANTITATIVE="quantitative",i.ORDINAL="ordinal",i.TEMPORAL="temporal",i.NOMINAL="nominal",i.LATITUDE="latitude",i.LONGITUDE="longitude",i.GEOJSON="geojson";var o={quantitative:1,ordinal:1,temporal:1,nominal:1,latitude:1,longitude:1,geojson:1};n.isType=function(t){return!!o[t]},n.QUANTITATIVE=r.QUANTITATIVE,n.ORDINAL=r.ORDINAL,n.TEMPORAL=r.TEMPORAL,n.NOMINAL=r.NOMINAL,n.LATITUDE=r.LATITUDE,n.LONGITUDE=r.LONGITUDE,n.GEOJSON=r.GEOJSON,n.getFullName=function(t){if(t)switch(t=t.toLowerCase()){case"q":case n.QUANTITATIVE:return"quantitative";case"t":case n.TEMPORAL:return"temporal";case"o":case n.ORDINAL:return"ordinal";case"n":case n.NOMINAL:return"nominal";case n.LATITUDE:return"latitude";case n.LONGITUDE:return"longitude";case n.GEOJSON:return"geojson"}}},{}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-format"),i=t("d3-time"),o=t("d3-time-format");function u(t){return t%1==0?r.format(",")(t):r.format(",.2f")(t)}function a(t){var e=o.timeFormat(".%L"),n=o.timeFormat(":%S"),r=o.timeFormat("%I:%M"),u=o.timeFormat("%I %p"),a=o.timeFormat("%a %d"),c=o.timeFormat("%b %d"),l=o.timeFormat("%B"),s=o.timeFormat("%Y");return(i.timeSecond(t)<t?e:i.timeMinute(t)<t?n:i.timeHour(t)<t?r:i.timeDay(t)<t?u:i.timeMonth(t)<t?i.timeWeek(t)<t?a:c:i.timeYear(t)<t?l:s)(t)}n.customFormat=function(t,e,n){if(void 0!==t&&null!==t&&e)switch(e){case"time":return n?o.timeFormat(n)(t):a(t);case"number":return n?r.format(n)(t):u(t);case"string":default:return t}},n.autoFormat=function(t){return"number"==typeof t?u(t):t instanceof Date?a(t):t},n.autoNumberFormat=u,n.autoTimeFormat=a},{"d3-format":1,"d3-time":4,"d3-time-format":3}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-selection"),i=t("./options"),o=t("./parseOption"),u=t("./supplementField"),a=t("./tooltipDisplay"),c=void 0,l=!1;function s(t,e){t.addEventListener("mouseover.tooltipInit",function(t,n){h(n)&&(f(),c=window.setTimeout(function(){!function(t,e,n){var i=a.getTooltipPlaceholder(),u=o.getTooltipData(e,n);if(!u||0===u.length)return;a.bindData(i,u),a.updatePosition(t,n),a.updateColorTheme(n),r.select("#vis-tooltip").style("visibility","visible"),l=!0,n.onAppear&&n.onAppear(t,e)}(t,n,e)},e.delay||i.DELAY))}),t.addEventListener("mousemove.tooltipUpdate",function(t,n){h(n)&&l&&function(t,e,n){if(!h(e))return;a.updatePosition(t,n),n.onMove&&n.onMove(t,e)}(t,n,e)}),t.addEventListener("mouseout.tooltipRemove",function(t,n){h(n)&&(f(),l&&function(t,e,n){if(!h(e))return;r.select("#vis-tooltip").style("visibility","hidden"),l=!1,a.clearData(),a.clearColorTheme(),a.clearPosition(),n.onDisappear&&n.onDisappear(t,e)}(t,n,e))})}function f(){window.clearTimeout(c),c=void 0}function h(t){return!(!t||!t.datum)&&!t.datum._facetID}function d(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}n.vega=function(t,e){return void 0===e&&(e={showAllFields:!0}),s(t,d(e)),{destroy:function(){t.removeEventListener("mouseover.tooltipInit"),t.removeEventListener("mousemove.tooltipUpdate"),t.removeEventListener("mouseout.tooltipRemove"),f()}}},n.vegaLite=function(t,e,n){return void 0===n&&(n={showAllFields:!0}),n=u.supplementOptions(d(n),e),s(t,n),{destroy:function(){t.removeEventListener("mouseover.tooltipInit"),t.removeEventListener("mousemove.tooltipUpdate"),t.removeEventListener("mouseout.tooltipRemove"),f()}}}},{"./options":8,"./parseOption":9,"./supplementField":10,"./tooltipDisplay":11,"d3-selection":2}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DELAY=100},{}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./formatFieldValue");function i(t,e){void 0===e&&(e={});var n=[];return e.fields.forEach(function(e){var i=e.title?e.title:e.field,u=o(t,e.field);if(void 0!==u){var a=r.customFormat(u,e.formatType,e.format)||r.autoFormat(u);n.push({title:i,value:a})}}),n}function o(t,e){var n,r=e.split("."),i=r[0];return r.shift(),t[i]&&(n=t[i],r.forEach(function(t){(n=n)[t]&&(n=n[t])})),void 0===n?void console.warn("[Tooltip] Cannot find field "+e+" in data."):n}function u(t,e){void 0===e&&(e={});var n=[],i={};if(e&&e.fields)for(var o=0,u=e.fields;o<u.length;o++){var a=u[o];i[a.field]=a}for(var c in t)if(t.hasOwnProperty(c)){var l=t[c],s=void 0;s=i[c]&&i[c].title?i[c].title:c;var f=void 0,h=void 0;i[c]&&(f=i[c].formatType,h=i[c].format);var d=r.customFormat(l,f,h)||r.autoFormat(l);n.push({title:s,value:d})}return n}function a(t,e){e.forEach(function(e){delete t[e]})}function c(t,e){e&&e.forEach(function(e){e.removeOriginalTemporalField&&a(t,[e.removeOriginalTemporalField])})}function l(t,e){if(e)return e.forEach(function(e){if(!0===e.bin){var n=e.field,r=n,i=n.concat("_mid"),o=n.concat("_end"),u=t[r],c=t[o];if(void 0!==u&&void 0!==c){var l=u+"-"+c;t[n]=l}a(t,[i,o])}}),t}function s(t,e){if("line"===t||"area"===t){var n=[];for(var r in e){if(e.hasOwnProperty(r))e[r]instanceof Date&&n.push(r)}a(e,n)}}n.getTooltipData=function(t,e){if("group"!==t.mark.marktype){var n={};for(var r in t.datum)t.datum.hasOwnProperty(r)&&(n[r]=t.datum[r]);return a(n,["width","height","count_start","count_end","layout_start","layout_mid","layout_end","layout_path","layout_x","layout_y"]),c(n,e.fields),l(n,e.fields),s(t.mark.marktype,n),!0===e.showAllFields?u(n,e):i(n,e)}},n.prepareCustomFieldsData=i,n.getValue=o,n.prepareAllFieldsData=u,n.removeFields=a,n.removeDuplicateTimeFields=c,n.combineBinFields=l,n.dropFieldsForLineArea=s},{"./formatFieldValue":6}],10:[function(t,e,n){(function(e){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(n,"__esModule",{value:!0});var i="undefined"!=typeof window?window.vl:void 0!==e?e.vl:null,o=t("vega-lite/build/src/type"),u={quantitative:"number",temporal:"time",ordinal:void 0,nominal:void 0};function a(t,e){if(e&&t&&!(t.length<=0))if(e.aggregate){for(var n=0,r=t;n<r.length;n++){if((c=r[n]).field===e.field&&c.aggregate===e.aggregate)return c}for(var i=0,o=t;i<o.length;i++){if((c=o[i]).field===e.field&&!c.aggregate)return c}}else for(var u=0,a=t;u<a.length;u++){var c;if((c=a[u]).field===e.field)return c}}function c(t,e){if(e&&e.field&&t)for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i.field===e.field){if(!i.aggregate)return i;if(i.aggregate===e.aggregate||!e.aggregate)return i}}}function l(t,e,n){var a=r({},n.config);if(t||e){!t&&e&&(t={}),t&&!e&&(e={});var c={};if(e.bin&&(e.bin=i.fieldDef.normalizeBin(e.bin,void 0)),c.field=i.fieldDef.vgField(e)||t.field,e.type===o.TEMPORAL&&e.timeUnit){var l=e.field;c.removeOriginalTemporalField=l;for(var s=0,f=i.spec.fieldDefs(n);s<f.length;s++){var h=f[s];if(h.field===l&&!h.timeUnit){c.removeOriginalTemporalField=void 0;break}}}a.countTitle||(a.countTitle=i.config.defaultConfig.countTitle);var d=i.fieldDef.title(e,a);if("axis"in e&&e.axis&&e.axis.title&&(d=e.axis.title),"legend"in e&&e.legend&&e.legend.title&&(d=e.legend.title),c.title=t.title||d,c.formatType=t.formatType||u[e.type],t.format)c.format=t.format;else switch(c.formatType){case"time":c.format=e.timeUnit?i.timeUnit.formatExpression(e.timeUnit,"",!1,!1).split("'")[1]:a.timeFormat||i.config.defaultConfig.timeFormat;break;case"number":c.format=a.numberFormat}return e.bin&&(c.field=c.field.replace("_start","_range"),c.bin=!0,c.formatType="string"),c}console.error("[Tooltip] Cannot supplement a field when field and fieldDef are both empty.")}n.supplementOptions=function(t,e){var n=[];return!1!==t.showAllFields?i.spec.fieldDefs(e).forEach(function(r){var i=l(a(t.fields,r),r,e);n.push(i)}):t.fields&&t.fields.forEach(function(t){var r=l(t,c(i.spec.fieldDefs(e),t),e);n.push(r)}),t.fields=n,t},n.getFieldOption=a,n.getFieldDef=c,n.supplementFieldOption=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"vega-lite/build/src/type":5}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-selection");function i(){r.select("#vis-tooltip").classed("dark-theme light-theme",!1)}n.getTooltipPlaceholder=function(){return r.select("#vis-tooltip").empty()?r.select("body").append("div").attr("id","vis-tooltip").attr("class","vg-tooltip"):r.select("#vis-tooltip")},n.bindData=function(t,e){t.selectAll("table").remove();var n=t.append("table").selectAll(".tooltip-row").data(e);n.exit().remove();var r=n.enter().append("tr").attr("class","tooltip-row");r.append("td").attr("class","key").text(function(t){return t.title+":"}),r.append("td").attr("class","value").text(function(t){return t.value})},n.clearData=function(){r.select("#vis-tooltip").selectAll(".tooltip-row").data([]).exit().remove()},n.updatePosition=function(t,e){var n=10,i=10;e&&e.offset&&void 0!==e.offset.x&&null!==e.offset.x&&(n=e.offset.x),e&&e.offset&&void 0!==e.offset.y&&null!==e.offset.y&&(i=e.offset.y),r.select("#vis-tooltip").style("top",function(){var e=this.getBoundingClientRect().height;return t.clientY+e+i<window.innerHeight?t.clientY+i+"px":t.clientY-e-i+"px"}).style("left",function(){var e=this.getBoundingClientRect().width;return t.clientX+e+n<window.innerWidth?t.clientX+n+"px":t.clientX-e-n+"px"})},n.clearPosition=function(){r.select("#vis-tooltip").style("top","-9999px").style("left","-9999px")},n.updateColorTheme=function(t){i(),t&&"dark"===t.colorTheme?r.select("#vis-tooltip").classed("dark-theme",!0):r.select("#vis-tooltip").classed("light-theme",!0)},n.clearColorTheme=i},{"d3-selection":2}]},{},[7])(7)});
