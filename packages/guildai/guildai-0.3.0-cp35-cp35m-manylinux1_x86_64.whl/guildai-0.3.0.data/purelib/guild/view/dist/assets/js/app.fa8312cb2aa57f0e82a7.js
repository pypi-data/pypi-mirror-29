webpackJsonp([1],{"6h+F":function(t,e){},"96bg":function(t,e){},"9kwD":function(t,e){},FsYN:function(t,e){},JCHG:function(t,e){},KEwN:function(t,e){},NHnr:function(t,e,i){"use strict";function s(t,e){return t<0?e.length-1:t>=e.length?0:t}function n(t){i("phPe"),i("XhbM")}function r(t){var e=t/60>>0,i=t-60*e>>0;return(e<10?"0"+e:e)+":"+(i<10?"0"+i:i)}function a(t){i("euTy")}function o(t){i("6h+F"),i("KEwN")}function l(t){var e=t.match(/.{1,15}/g);return e?e.join("&#8203;"):t}function c(t){i("kn6C")}function v(t){i("9kwD")}function u(t){i("cNRW")}function d(t){return t.map(f)}function f(t){var e={icon:p(t.status)};return Gt()(e,t)}function p(t){return"completed"===t?{color:"green",icon:"check-circle",tooltip:"Completed"}:"error"===t?{color:"red",icon:"alert",tooltip:"Failed"}:"terminated"===t?{color:"teal lighten-2",icon:"close-circle",tooltip:"Terminated"}:"running"===t?{color:"green",spinner:!0,tooltip:"Running"}:{color:"grey",icon:"help-circle",tooltip:t}}function h(t,e){return m(_(t),e)}function _(t){return t+window.location.search}function m(t,e){var i=""+t;fetch(i).then(function(t){return t.json()}).then(function(t){e(t)})}function g(t){i("FsYN")}function w(t){i("96bg")}Object.defineProperty(e,"__esModule",{value:!0});var x=i("7+uW"),y=i("3EgV"),b=i.n(y),C=i("/ocq"),k={name:"guild-files-viewer",props:{files:{type:Array,required:!0},path:String,value:Boolean},data:function(){return{selectedPath_:void 0,fullscreen:!1}},computed:{visible:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},selectedPath:{get:function(){return this.selectedPath_?this.selectedPath_:this.path},set:function(t){this.selectedPath_=t}},selected:function(){return-1!==this.selectedIndex?this.files[this.selectedIndex]:void 0},selectedIndex:function(){for(var t=0;t<this.files.length;t++)if(this.files[t].path===this.selectedPath)return t;return-1}},watch:{path:function(){this.selectedPath_=void 0}},created:function(){window.addEventListener("keydown",this.handleKeyDown)},destroyed:function(){window.removeEventListener("keydown",this.handleKeyDown)},methods:{handleKeyDown:function(t){this.value&&!t.defaultPrevented&&(27===t.keyCode?this.visible=!1:37===t.keyCode?this.nav(-1):39===t.keyCode&&this.nav(1))},nav:function(t){var e=s(this.selectedIndex+t,this.files);this.selectedPath=this.files[e].path}}},T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{ref:"viewer",attrs:{scrollable:"",fullscreen:t.fullscreen},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("v-card",{staticStyle:{height:"640px"}},[i("v-card-title",{staticStyle:{padding:"8px 4px 8px 16px"}},[t.files?i("v-select",{attrs:{items:t.files,"item-text":"path","item-value":"path","single-line":"","prepend-icon":t.selected?t.selected.icon:void 0},model:{value:t.selectedPath,callback:function(e){t.selectedPath=e},expression:"selectedPath"}}):i("v-spacer"),t._v(" "),t.fullscreen?t._e():i("v-btn",{attrs:{icon:"",flat:""},on:{click:function(e){t.fullscreen=!0}}},[i("v-icon",[t._v("mdi-fullscreen")])],1),t._v(" "),t.fullscreen?i("v-btn",{attrs:{icon:"",flat:""},on:{click:function(e){t.fullscreen=!1}}},[i("v-icon",[t._v("mdi-fullscreen-exit")])],1):t._e(),t._v(" "),i("v-btn",{attrs:{icon:"",flat:""},on:{click:function(e){t.visible=!1}}},[i("v-icon",[t._v("clear")])],1)],1),t._v(" "),i("v-divider"),t._v(" "),i("v-card-text",{staticClass:"content"},[t.selected?["image"===t.selected.viewer?i("img",{attrs:{src:t.selected.src}}):"text"===t.selected.viewer?i("guild-text",{attrs:{src:t.selected.src}}):"midi"===t.selected.viewer?i("guild-midi",{attrs:{src:t.selected.src,active:t.visible}}):i("div",[t._v("\n          Unsupported viewer type: "),i("i",[t._v(t._s(t.selected.viewer))])])]:[t._v("\n        No files to view\n      ")]],2),t._v(" "),i("v-divider"),t._v(" "),i("v-card-actions",[i("v-btn",{attrs:{flat:"",disabled:t.files.length<=1},on:{click:function(e){t.nav(-1)}}},[t._v("Prev")]),t._v(" "),i("v-spacer"),t._v(" "),i("v-btn",{attrs:{flat:"",disabled:t.files.length<=1},on:{click:function(e){t.nav(1)}}},[t._v("Next")])],1)],1)],1)},S=[],P={render:T,staticRenderFns:S},R=P,F=i("VU/8"),N=n,E=F(k,R,!1,N,"data-v-3f6a35da",null),L=E.exports,B=i("+1Vg"),O=i.n(B),$={name:"guild-midi",props:{src:String,active:Boolean},data:function(){return{state:"stopped",progress:0,player:void 0,playerSrc:void 0,curTime:"00:00",endTime:"00:00"}},watch:{src:function(){this.reset()},active:function(){this.active||this.stop()}},methods:{initPlayer:function(){var t=this;O.a.loadPlugin({soundfontUrl:"/assets/soundfont/",onsuccess:function(){t.player=O.a.Player,t.initPlayerSrc()}})},initPlayerSrc:function(){var t=this;fetch(t.src).then(function(t){return t.arrayBuffer()}).then(function(e){var i=String.fromCharCode.apply(null,new Uint8Array(e));t.player.currentData=i,t.playerSrc=t.src,t.player.loadMidiFile(function(){t.player.setAnimation(t.playerProgress),t.player.start()})})},togglePlay:function(){"playing"===this.state?this.pause():this.play()},play:function(){var t="paused"===this.state;this.state="playing",this.player?this.playerSrc!==this.src?this.initPlayerSrc():(this.player.setAnimation(this.playerProgress),t?this.player.resume():this.player.start()):this.initPlayer()},pause:function(){this.state="paused",this.player&&(this.player.clearAnimation(),this.player.pause(!0))},stop:function(){this.state="stopped",this.progress=0,this.curTime="00:00",this.player&&(this.player.clearAnimation(),this.player.stop())},reset:function(){this.stop(),this.endTime="00:00"},playerProgress:function(t){if(t.now>=t.end)this.stop();else{this.curTime=r(t.now),this.endTime=r(t.end);var e=Math.round(t.now/t.end*100);e!==this.progress&&(this.progress=e)}}}},I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"white pa-3 elevation-3",attrs:{id:"root"}},[i("v-btn",{attrs:{icon:"",ripple:"",size:"400"},on:{click:t.togglePlay}},["playing"!==t.state?i("v-icon",[t._v("mdi-play")]):i("v-icon",[t._v("mdi-pause")])],1),t._v(" "),i("v-btn",{attrs:{disabled:"stopped"===t.state,icon:"",ripple:""},on:{click:t.stop}},[i("v-icon",[t._v("mdi-stop")])],1),t._v(" "),i("span",{class:"ml-3 time "+t.state},[t._v(t._s(t.curTime))]),t._v(" "),i("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:t.progress>0,expression:"progress > 0"}],staticClass:"progress mx-3",model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}}),t._v(" "),i("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:0===t.progress,expression:"progress === 0"}],staticClass:"progress mx-3"}),t._v(" "),i("span",{class:"mr-3 time "+t.state},[t._v(t._s(t.endTime))])],1)},V=[],M={render:I,staticRenderFns:V},U=M,z=i("VU/8"),D=a,j=z($,U,!1,D,"data-v-d1a7beba",null),A=j.exports,H=i("H52G"),q=i.n(H),W={name:"guild-run-files",props:{run:{type:Object,required:!0}},data:function(){return{fileHeaders:[{text:"",value:"",sortable:!1,width:42},{text:"Name",value:"path",align:"left"},{text:"Type",value:"type",align:"left"},{text:"Source",value:"operation",align:"left"},{text:"Size",value:"size",align:"right"}],filter:"",curMedia:void 0,viewerOpen:!1}},computed:{media:function(){var t=this;return this.run.files.filter(function(t){return t.viewer}).map(function(e){return{path:e.path,icon:"mdi-"+e.icon,viewer:e.viewer,src:"/runs/"+t.run.id+"/"+e.path}})}},methods:{formatFileSize:function(t){return null!=t?q()(t):""},view:function(t){var e=this.media.find(function(e){return e.path===t.path});this.curMedia=e,this.viewerOpen=!0}}},G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:"","grid-list-lg":""}},[i("v-card",[i("v-card-title",{staticClass:"py-0"},[i("v-spacer"),t._v(" "),i("v-text-field",{staticStyle:{"max-width":"20em"},attrs:{"append-icon":"search",label:"Filter","single-line":"","hide-details":"",clearable:""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1),t._v(" "),i("v-data-table",{staticClass:"files",attrs:{headers:t.fileHeaders,items:t.run.files,search:t.filter,"item-key":"path","hide-headers":0==t.run.files.length,"hide-actions":"","must-sort":"","no-data-text":"There are no files associated with this run","no-results-text":"No matches for the current filter"},scopedSlots:t._u([{key:"items",fn:function(e){return[i("tr",[i("td",{staticClass:"type-icon"},[i("v-tooltip",{attrs:{left:"",transition:"fade-transition"}},[i("v-icon",{attrs:{slot:"activator"},slot:"activator"},[t._v("mdi-"+t._s(e.item.icon))]),t._v(" "),i("span",[t._v(t._s(e.item.iconTooltip))])],1)],1),t._v(" "),e.item.viewer?i("td",[i("v-btn",{staticClass:"grey lighten-3 btn-link",staticStyle:{"margin-left":"-8px"},attrs:{flat:"",small:"",block:""},on:{click:function(i){t.view(e.item)}}},[i("span",{staticClass:"path"},[t._v(t._s(e.item.path))])])],1):i("td",[i("span",{staticClass:"path"},[t._v(t._s(e.item.path))])]),t._v(" "),i("td",[t._v(t._s(e.item.type))]),t._v(" "),i("td",[e.item.run?i("a",{attrs:{href:"?run="+e.item.run+"#files",target:"_blank"}},[t._v(t._s(e.item.operation))]):t._e()]),t._v(" "),i("td",{staticClass:"text-xs-right"},[i("span",{staticClass:"file-size"},[t._v(t._s(t.formatFileSize(e.item.size)))])])])]}}])})],1),t._v(" "),i("guild-files-viewer",{attrs:{files:t.media,path:t.curMedia?t.curMedia.path:void 0},model:{value:t.viewerOpen,callback:function(e){t.viewerOpen=e},expression:"viewerOpen"}})],1)},K=[],J={render:G,staticRenderFns:K},Q=J,X=i("VU/8"),Y=o,Z=X(W,Q,!1,Y,"data-v-3091a994",null),tt=Z.exports,et=i("fZjL"),it=i.n(et),st={name:"guild-run-overview",props:{run:{type:Object,required:!0}},methods:{runFlags:function(t){var e=it()(t.flags);return e.sort(),e.map(function(e){return{name:e,value:t.flags[e]}})},runEnv:function(t){var e=it()(t.env);return e.sort(),e.map(function(e){return{name:e,value:l(t.env[e])}})}}},nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:"","grid-list-lg":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",lg7:"",xl8:""}},[i("v-card",[i("v-card-text",[i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs3:""}},[i("v-subheader",[t._v("ID")])],1),t._v(" "),i("v-flex",{staticClass:"py-0",attrs:{xs9:""}},[i("div",{staticClass:"field-val"},[t._v(t._s(t.run.id))])])],1),t._v(" "),i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs3:""}},[i("v-subheader",[t._v("Model")])],1),t._v(" "),i("v-flex",{staticClass:"py-0",attrs:{xs9:""}},[i("div",{staticClass:"field-val"},[t._v(t._s(t.run.opModel))])])],1),t._v(" "),i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs3:""}},[i("v-subheader",[t._v("Operation")])],1),t._v(" "),i("v-flex",{staticClass:"py-0",attrs:{xs9:""}},[i("div",{staticClass:"field-val"},[t._v(t._s(t.run.opName))])])],1),t._v(" "),i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs3:""}},[i("v-subheader",[t._v("Status")])],1),t._v(" "),i("v-flex",{staticClass:"py-0",attrs:{xs9:""}},[i("div",{staticClass:"field-val"},[t._v("\n                "+t._s(t.run.status)+"\n                "),t.run.exitStatus?[t._v("\n                  ("+t._s(t.run.exitStatus)+")\n                ")]:t._e()],2)])],1),t._v(" "),i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs3:""}},[i("v-subheader",[t._v("Started")])],1),t._v(" "),i("v-flex",{staticClass:"py-0",attrs:{xs9:""}},[i("div",{staticClass:"field-val"},[t._v(t._s(t.run.started))])])],1),t._v(" "),i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs3:""}},[i("v-subheader",[t._v("Stopped")])],1),t._v(" "),i("v-flex",{staticClass:"py-0",attrs:{xs9:""}},[i("div",{staticClass:"field-val"},[t._v(t._s(t.run.stopped))])])],1),t._v(" "),i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs3:""}},[i("v-subheader",[t._v("Label")])],1),t._v(" "),i("v-flex",{staticClass:"py-0",attrs:{xs9:""}},[i("div",{staticClass:"field-val"},[t._v(t._s(t.run.label))])])],1),t._v(" "),i("v-layout",{attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs3:""}},[i("v-subheader",[t._v("Dependencies")])],1),t._v(" "),i("v-flex",{staticClass:"py-0",attrs:{xs9:""}},[i("div",{staticClass:"field-val"},[i("v-layout",{attrs:{column:""}},[i("v-flex",[t._l(t.run.deps,function(e){return[i("v-tooltip",{attrs:{bottom:"",transition:"fade-transition"}},[i("div",{attrs:{slot:"activator"},slot:"activator"},[i("a",{attrs:{href:"?run="+e.run,target:"_blank"}},[t._v(t._s(e.operation))])]),t._v(" "),i("div",[i("div",[t._v("["+t._s(e.run)+"] "+t._s(e.operation))]),t._v(" "),t._l(e.paths,function(e){return i("div",[t._v(" ▪ "+t._s(e))])})],2)])]})],2)],1)],1)])],1)],1)],1),t._v(" "),Object.keys(t.run.otherAttrs).length>0?i("v-card",{staticClass:"mt-3"},[i("v-card-text",t._l(t.run.otherAttrs,function(e,s){return i("v-layout",{key:s,attrs:{row:""}},[i("v-flex",{staticClass:"pa-0",attrs:{xs4:""}},[i("v-subheader",[t._v(t._s(s))])],1),t._v(" "),i("v-flex",{staticClass:"py-0",attrs:{xs8:""}},[i("div",{staticClass:"field-val"},[i("v-tooltip",{staticClass:"no-wrap",attrs:{bottom:"",tag:"div"}},[i("div",{staticClass:"no-wrap",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e))]),t._v(" "),i("pre",{domProps:{innerHTML:t._s(e)}})])],1)])],1)}))],1):t._e()],1),t._v(" "),i("v-flex",{attrs:{xs12:"",lg5:"",xl4:""}},[i("v-expansion-panel",{attrs:{focusable:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[t._v("Flags")]),t._v(" "),i("v-card",[i("v-data-table",{attrs:{items:t.runFlags(t.run),"item-key":"name","hide-headers":"","hide-actions":"","no-data-text":"There are no flags for this run"},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",[t._v(t._s(e.item.name))]),t._v(" "),i("td",[t._v(t._s(e.item.value))])]}}])})],1)],1)],1),t._v(" "),i("v-expansion-panel",{staticClass:"mt-3",attrs:{focusable:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[t._v("Command")]),t._v(" "),i("v-card",[i("v-card-text",{staticClass:"run-command"},[t._v("\n              "+t._s(t.run.command)+"\n            ")])],1)],1)],1),t._v(" "),i("v-expansion-panel",{staticClass:"mt-3",attrs:{focusable:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[t._v("Env")]),t._v(" "),i("v-card",[i("v-data-table",{attrs:{items:t.runEnv(t.run),"item-key":"name","hide-headers":"","hide-actions":"","no-data-text":"There is no env for this run"},scopedSlots:t._u([{key:"items",fn:function(e){return[i("td",[t._v(t._s(e.item.name))]),t._v(" "),i("td",[i("v-tooltip",{attrs:{left:"",tag:"div"}},[i("span",{attrs:{slot:"activator"},domProps:{innerHTML:t._s(e.item.value)},slot:"activator"}),t._v(" "),i("span",{domProps:{innerHTML:t._s(e.item.value)}})])],1)]}}])})],1)],1)],1)],1)],1)],1)},rt=[],at={render:nt,staticRenderFns:rt},ot=at,lt=i("VU/8"),ct=c,vt=lt(st,ot,!1,ct,"data-v-e8910978",null),ut=vt.exports,dt={name:"guild-run-status-icon",props:{icon:{type:Object,required:!0},medium:Boolean,large:Boolean,xLarge:Boolean,tooltipTop:Boolean,tooltipLeft:Boolean,tooltipBottom:Boolean,tooltipRight:Boolean},computed:{spinnerSize:function(){return this.medium?28:this.large?35:this.xLarge?42:24}}},ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-tooltip",{attrs:{top:t.tooltipTop,left:t.tooltipLeft,bottom:t.tooltipBottom,right:t.tooltipRight,transition:"fade-transition"}},[t.icon.spinner?i("v-progress-circular",{attrs:{slot:"activator",indeterminate:"",color:t.icon.color,size:t.spinnerSize},slot:"activator"}):i("v-icon",{attrs:{slot:"activator",color:t.icon.color,medium:t.medium,large:t.large,"x-large":t.xLarge},slot:"activator"},[t._v("mdi-"+t._s(t.icon.icon))]),t._v(" "),i("span",[t._v(t._s(t.icon.tooltip))])],1)},pt=[],ht={render:ft,staticRenderFns:pt},_t=ht,mt=i("VU/8"),gt=mt(dt,_t,!1,null,null,null),wt=gt.exports,xt={name:"guild-run-titlebar",props:{run:{type:Object,required:!0}}},yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"right mt-3"},[i("guild-run-status-icon",{attrs:{icon:t.run.icon,large:"","tooltip-left":""}})],1),t._v(" "),i("v-tooltip",{staticStyle:{display:"inline-block"},attrs:{top:"",transition:"fade-transition"}},[i("h1",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.run.operation))]),t._v(" "),i("span",[t._v("["+t._s(t.run.shortId)+"] "+t._s(t.run.operation))])]),t._v(" "),i("div",[t._v(t._s(t.run.started))]),t._v(" "),i("div",{staticClass:"mt-1 grey--text text--darken-2"},[t._v(t._s(t.run.path))])],1)},bt=[],Ct={render:yt,staticRenderFns:bt},kt=Ct,Tt=i("VU/8"),St=Tt(xt,kt,!1,null,null,null),Pt=St.exports,Rt={name:"guild-runs-list",props:{runs:{type:Array,required:!0},value:{type:Object}},data:function(){return{filter:""}},computed:{filtered:function(){if(!this.filter)return this.runs;var t=this.filter.toLowerCase();return this.runs.filter(function(e){return-1!==(e.operation.toLowerCase()+e.label.toLowerCase()+e.id).indexOf(t)})}},methods:{runSelected:function(t){this.$emit("input",t)},tensorboard:function(){var t=window.location.search;window.open("/tensorboard"+t,"guild-tb-"+t)}}},Ft=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list",[i("v-subheader",[t._v("Runs")]),t._v(" "),i("div",{staticClass:"runs-view-in-tensorboard"},[i("v-btn",{attrs:{flat:"",small:"",color:"primary"},on:{click:t.tensorboard}},[i("v-icon",[t._v("timeline")]),t._v("\n       View in TensorBoard\n    ")],1)],1),t._v(" "),i("v-list-tile",[i("div",{staticStyle:{width:"100%","margin-top":"-18px"}},[i("v-text-field",{staticStyle:{"font-weight":"400"},attrs:{"append-icon":"search",label:"Filter","single-line":"","hide-details":"",clearable:""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)]),t._v(" "),i("v-divider"),t._v(" "),t._l(t.filtered,function(e){return[i("v-list-tile",{key:e.id,class:{selected:t.value.id===e.id},attrs:{ripple:""},on:{click:function(i){t.runSelected(e)}}},[i("v-list-tile-content",[i("v-tooltip",{staticClass:"rev-ellipsis-container",attrs:{top:"",transition:"fade-transition",tag:"div"}},[i("v-list-tile-title",{staticClass:"rev-ellipsis",attrs:{slot:"activator"},slot:"activator"},[t._v("\n            ‎"+t._s(e.operation)+"\n            "),e.label?i("span",{staticClass:"run-title-label"},[t._v(t._s(e.label))]):t._e()]),t._v(" "),i("span",[t._v("["+t._s(e.shortId)+"] "+t._s(e.operation))])],1),t._v(" "),i("v-list-tile-sub-title",[t._v(t._s(e.started))])],1),t._v(" "),i("v-list-tile-action",{staticStyle:{"min-width":"28px"}},[i("guild-run-status-icon",{attrs:{icon:e.icon,"tooltip-right":""}})],1)],1),t._v(" "),i("v-divider")]})],2)},Nt=[],Et={render:Ft,staticRenderFns:Nt},Lt=Et,Bt=i("VU/8"),Ot=v,$t=Bt(Rt,Lt,!1,Ot,null,null),It=$t.exports,Vt={name:"guild-text",props:{src:{type:String}},data:function(){return{loading:!1}},mounted:function(){console.log("refreshing 0 (mounted)"),this.refresh(),console.log("refreshing 1 (mounted)")},watch:{src:function(){console.log("refreshing 0 (src)"),this.refresh(),console.log("refreshing 1 (src)")}},methods:{refresh:function(){this.clear();var t=this.scheduleLoading(100);this.scheduleFetch(0,t)},clear:function(){this.$refs.content.value=""},scheduleLoading:function(t){var e=this;return setTimeout(function(){e.loading=!0},t)},scheduleFetch:function(t,e){var i=this;setTimeout(function(){fetch(i.src).then(function(t){return t.text()}).then(function(t){i.$refs.content.value=t,clearTimeout(e),i.loading=!1})},t)}}},Mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"root"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"elevation-3 pa-3 grey darken-3 white--text",attrs:{id:"loading"}},[i("span",{staticClass:"mr-3"},[t._v("Reading file")]),t._v(" "),i("v-progress-circular",{attrs:{indeterminate:"",color:"white",size:"18"}})],1),t._v(" "),i("textarea",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"content",staticClass:"elevation-3 pa-3 grey darken-3 white--text",attrs:{id:"content",readonly:""}})])},Ut=[],zt={render:Mt,staticRenderFns:Ut},Dt=zt,jt=i("VU/8"),At=u,Ht=jt(Vt,Dt,!1,At,"data-v-7226c263",null),qt=Ht.exports,Wt=i("woOf"),Gt=i.n(Wt),Kt={name:"guild-view",data:function(){return{drawerBreakPoint:960,drawer:window.innerWidth>=960,selectedTab_:void 0,runId_:void 0,runs:[],config:{},fetchRunsTimeout:void 0}},created:function(){this.initData()},computed:{selectedTab:{get:function(){return this.selectedTab_?this.selectedTab_:window.location.hash?window.location.hash.substr(1):"overview"},set:function(t){this.selectedTab_=t}},run:{get:function(){return this.checkRunDeleted(),this.runId_?this.findRun(this.runId_):this.runs?this.runs[0]:void 0},set:function(t){this.runId_=t?t.id:void 0}},title:function(){var t=this.config.titleLabel;return this.runs.length>0&&!t.startsWith("[")&&(t+=" ("+this.runs.length+")"),t+=" - Guild View",t}},watch:{$route:function(){var t=window.location.hash?window.location.hash.substr(1):"overview";this.selectedTab=t},selectedTab:function(t){var e="overview"===t?"":t;window.location.replace("#"+e)},title:function(t){document.title=t}},methods:{findRun:function(t){return this.runs.find(function(e){return e.id===t})},initData:function(){this.fetchConfig(),this.fetchRuns()},fetchConfig:function(){var t=this;h("/config",function(e){t.config=e})},fetchRuns:function(){var t=this;h("/runs",function(e){t.runs=d(e),t.scheduleNextFetchRuns()})},scheduleNextFetchRuns:function(){this.fetchRunsTimeout&&clearTimeout(this.fetchRunsTimeout),this.fetchRunsTimeout=setTimeout(this.fetchRuns,5e3)},runSelected:function(t){window.innerWidth<960&&(this.drawer=!1)},checkRunDeleted:function(){this.runId_&&!this.findRun(this.runId_)&&(this.runId_=void 0)}}},Jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-navigation-drawer",{attrs:{app:"",fixed:"",clipped:"",width:"360","mobile-break-point":t.drawerBreakPoint},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("guild-runs-list",{attrs:{runs:t.runs},on:{input:t.runSelected},model:{value:t.run,callback:function(e){t.run=e},expression:"run"}})],1),t._v(" "),i("guild-view-toolbar",{on:{"drawer-click":function(e){t.drawer=!t.drawer}}}),t._v(" "),i("v-content",[t.run?i("v-tabs",{model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[i("div",{staticClass:"grey lighten-4"},[i("v-container",{attrs:{fluid:"","pl-4":"","pb-2":""}},[i("guild-run-titlebar",{attrs:{run:t.run}})],1),t._v(" "),i("v-tabs-bar",[i("v-tabs-item",{key:"overview",attrs:{href:"#overview",ripple:""}},[t._v("\n            Overview\n          ")]),t._v(" "),i("v-tabs-item",{key:"files",attrs:{href:"#files",ripple:""}},[t._v("\n            Files\n          ")]),t._v(" "),i("v-tabs-slider",{attrs:{color:"deep-orange"}})],1),t._v(" "),i("v-divider")],1),t._v(" "),i("v-tabs-items",[i("v-tabs-content",{key:"overview",attrs:{id:"overview"}},[i("guild-run-overview",{attrs:{run:t.run}})],1),t._v(" "),i("v-tabs-content",{key:"files",attrs:{id:"files"}},[i("guild-run-files",{attrs:{run:t.run}})],1)],1)],1):i("v-container",[i("v-layout",{attrs:{row:"","align-center":""}},[i("span",{staticClass:"mr-3"},[t._v("Waiting for runs")]),t._v(" "),i("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:"18"}})],1)],1)],1),t._v(" "),i("v-footer",{attrs:{fixed:"",app:"",color:"grey lighten-2"}},[i("v-layout",{staticStyle:{margin:"0"},attrs:{column:"","justify-center":""}},[i("v-divider"),t._v(" "),i("v-layout",{staticClass:"px-2 caption",staticStyle:{height:"36px"},attrs:{"align-center":""}},[i("div",[t._v(t._s(t.config.cwd))]),t._v(" "),i("v-spacer"),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.config.version,expression:"config.version"}]},[t._v("Guild AI v"+t._s(t.config.version))])],1)],1)],1)],1)},Qt=[],Xt={render:Jt,staticRenderFns:Qt},Yt=Xt,Zt=i("VU/8"),te=g,ee=Zt(Kt,Yt,!1,te,null,null),ie=ee.exports,se={name:"guild-view-toolbar",props:{title:{type:String,default:"Guild View"}},methods:{drawerClick:function(){this.$emit("drawer-click")}}},ne=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-toolbar",{staticClass:"indigo darken-1 white--text",attrs:{fixed:"",app:"","clipped-left":""}},[i("v-toolbar-side-icon",{staticClass:"white--text",on:{click:t.drawerClick}}),t._v(" "),i("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),t._v(" "),i("v-spacer")],1)},re=[],ae={render:ne,staticRenderFns:re},oe=ae,le=i("VU/8"),ce=w,ve=le(se,oe,!1,ce,"data-v-677c0f58",null),ue=ve.exports;ie.install=function(t){var e=function(e){t.component(e.name,e)};e(L),e(A),e(tt),e(ut),e(wt),e(Pt),e(It),e(qt),e(ie),e(ue)};var de=ie;i("uTBe"),i("QCv7"),i("JCHG");x.a.use(b.a),x.a.use(C.a),x.a.use(de),x.a.config.productionTip=!1;var fe=new C.a({mode:"history"});new x.a({el:"#app",template:"<guild-view />",router:fe})},QCv7:function(t,e){},XhbM:function(t,e){},cNRW:function(t,e){},euTy:function(t,e){},kn6C:function(t,e){},phPe:function(t,e){},uTBe:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fa8312cb2aa57f0e82a7.js.map