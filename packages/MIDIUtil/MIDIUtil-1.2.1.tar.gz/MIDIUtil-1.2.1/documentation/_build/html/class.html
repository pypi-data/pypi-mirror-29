

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Class Reference &mdash; MIDIUtil 1.1.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="MIDIUtil 1.1.1 documentation" href="index.html"/>
        <link rel="prev" title="Extending the Library" href="extending.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> MIDIUtil
          

          
          </a>

          
            
            
              <div class="version">
                1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="creating.html">Creating the MIDIFile Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="common.html">Common Events and Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="tuning.html">Tuning and Microtonalities</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending.html">Extending the Library</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Class Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">MIDIUtil</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Class Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/class.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="class-reference">
<span id="classref"></span><h1>Class Reference<a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="midiutil.MidiFile.MIDIFile">
<em class="property">class </em><code class="descclassname">midiutil.MidiFile.</code><code class="descname">MIDIFile</code><span class="sig-paren">(</span><em>numTracks=1</em>, <em>removeDuplicates=True</em>, <em>deinterleave=True</em>, <em>adjust_origin=None</em>, <em>file_format=1</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that encapsulates a full, well-formed MIDI file object.</p>
<p>This is a container object that contains a header (<code class="xref py py-class docutils literal"><span class="pre">MIDIHeader</span></code>),
one or more tracks (class:<cite>MIDITrack</cite>), and the data associated with a
proper and well-formed MIDI file.</p>
<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>numTracks=1</em>, <em>removeDuplicates=True</em>, <em>deinterleave=True</em>, <em>adjust_origin=None</em>, <em>file_format=1</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the MIDIFile class</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>numTracks</strong> &#8211; The number of tracks the file contains. Integer,
one or greater</li>
<li><strong>removeDuplicates</strong> &#8211; If set to <code class="docutils literal"><span class="pre">True</span></code> remove duplicate events
before writing to disk</li>
<li><strong>deinterleave</strong> &#8211; If set to <code class="docutils literal"><span class="pre">True</span></code> deinterleave the notes in
the stream</li>
<li><strong>adjust_origin</strong> &#8211; If set to <code class="docutils literal"><span class="pre">True</span></code> (or left at the default of
<code class="docutils literal"><span class="pre">None</span></code>) shift all the events in the tracks so that the first
event takes place at time t=0</li>
<li><strong>file_format</strong> &#8211; The format of the multi-track file. This should
either be <code class="docutils literal"><span class="pre">1</span></code> (the default, and the most widely supported
format) or <code class="docutils literal"><span class="pre">2</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Note that the default for <code class="docutils literal"><span class="pre">adjust_origin</span></code> will change in a future
release, so one should probably explicitly set it.</p>
<p>Example:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create a two-track MIDIFile</span>

<span class="kn">from</span> <span class="nn">midiutil.MidiFile</span> <span class="k">import</span> <span class="n">MIDIFile</span>
<span class="n">midi_file</span> <span class="o">=</span> <span class="n">MIDIFile</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>In previous versions of this code the file written was format 2
(which can be thought of as a collection of independent tracks) but
was identified as format 1. In this version one can specify either
format 1 or 2.</p>
<p>In format 1 files there is a separate tempo track which contains
tempo and time signature data, but contains no note data. If one
creates a single track format 1 file the actual file has two tracks
&#8211; one for tempo data and one for note data. In the track indexing
the tempo track can be ignored. In other words track 0 is the note
track (the second track in the file). However, tempo and time
signature data will be written to the first, tempo track. This is
done to try and preserve as much interoperability with previous
versions as possible.</p>
<p>In a format 2 file all tracks are indexed and the track parameter
is interpreted literally.</p>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addControllerEvent">
<code class="descname">addControllerEvent</code><span class="sig-paren">(</span><em>track</em>, <em>channel</em>, <em>time</em>, <em>controller_number</em>, <em>parameter</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addControllerEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a channel control event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the event is added.</li>
<li><strong>channel</strong> &#8211; the MIDI channel to assign to the event.
[Integer, 0-15]</li>
<li><strong>time</strong> &#8211; The time (in beats) at which the event is placed [Float].</li>
<li><strong>controller_number</strong> &#8211; The controller ID of the event.</li>
<li><strong>parameter</strong> &#8211; The event&#8217;s parameter, the meaning of which varies by
event type.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addCopyright">
<code class="descname">addCopyright</code><span class="sig-paren">(</span><em>track</em>, <em>time</em>, <em>notice</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addCopyright" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a copyright notice to the MIDIFile object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the notice is added.</li>
<li><strong>time</strong> &#8211; The time (in beats) at which notice event is placed. In
general this sould be time t=0</li>
<li><strong>notice</strong> &#8211; The copyright notice [String]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addKeySignature">
<code class="descname">addKeySignature</code><span class="sig-paren">(</span><em>track</em>, <em>time</em>, <em>accidentals</em>, <em>accidental_type</em>, <em>mode</em>, <em>insertion_order=0</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addKeySignature" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Key Signature to a track</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which this should be added</li>
<li><strong>time</strong> &#8211; The time at which the signature should be placed</li>
<li><strong>accidentals</strong> &#8211; The number of accidentals in the key signature</li>
<li><strong>accidental_type</strong> &#8211; The type of accidental</li>
<li><strong>mode</strong> &#8211; The mode of the scale</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The easiest way to use this function is to make sure that the symbolic
constants for accidental_type and mode are imported. By doing this:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">midiutil.MidiFile</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>one gets the following constants defined:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">SHARPS</span></code></li>
<li><code class="docutils literal"><span class="pre">FLATS</span></code></li>
<li><code class="docutils literal"><span class="pre">MAJOR</span></code></li>
<li><code class="docutils literal"><span class="pre">MINOR</span></code></li>
</ul>
<p>So, for example, if one wanted to create a key signature for a minor
scale with three sharps:</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span><span class="n">MyMIDI</span><span class="o">.</span><span class="n">addKeySignature</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">SHARPS</span><span class="p">,</span> <span class="n">MINOR</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addNote">
<code class="descname">addNote</code><span class="sig-paren">(</span><em>track</em>, <em>channel</em>, <em>pitch</em>, <em>time</em>, <em>duration</em>, <em>volume</em>, <em>annotation=None</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addNote" title="Permalink to this definition">¶</a></dt>
<dd><p>Add notes to the MIDIFile object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the note is added.</li>
<li><strong>channel</strong> &#8211; the MIDI channel to assign to the note. [Integer, 0-15]</li>
<li><strong>pitch</strong> &#8211; the MIDI pitch number [Integer, 0-127].</li>
<li><strong>time</strong> &#8211; the time (in beats) at which the note sounds [Float].</li>
<li><strong>duration</strong> &#8211; the duration of the note (in beats) [Float].</li>
<li><strong>volume</strong> &#8211; the volume (velocity) of the note. [Integer, 0-127].</li>
<li><strong>annotation</strong> &#8211; Arbitrary data to attach to the note.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">annotation</span></code> parameter attaches arbitrary data to the note. This
is not used in the code, but can be useful anyway. As an example,
I have created a project that uses MIDIFile to write
<a class="reference external" href="http://csound.github.io/">csound</a> orchestra files directly from the
class <code class="docutils literal"><span class="pre">EventList</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addPitchWheelEvent">
<code class="descname">addPitchWheelEvent</code><span class="sig-paren">(</span><em>track</em>, <em>channel</em>, <em>time</em>, <em>pitchWheelValue</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addPitchWheelEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a channel pitch wheel event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the event is added.</li>
<li><strong>channel</strong> &#8211; the MIDI channel to assign to the event. [Integer, 0-15]</li>
<li><strong>time</strong> &#8211; The time (in beats) at which the event is placed [Float].</li>
<li><strong>pitchWheelValue</strong> &#8211; 0 for no pitch change. [Integer, -8192-8192]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addProgramChange">
<code class="descname">addProgramChange</code><span class="sig-paren">(</span><em>track</em>, <em>channel</em>, <em>time</em>, <em>program</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addProgramChange" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a MIDI program change event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which program change event is added.</li>
<li><strong>channel</strong> &#8211; the MIDI channel to assign to the event.
[Integer, 0-15]</li>
<li><strong>time</strong> &#8211; The time (in beats) at which the program change event is
placed [Float].</li>
<li><strong>program</strong> &#8211; the program number. [Integer, 0-127].</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addSysEx">
<code class="descname">addSysEx</code><span class="sig-paren">(</span><em>track</em>, <em>time</em>, <em>manID</em>, <em>payload</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addSysEx" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a System Exclusive event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the event should be written</li>
<li><strong>time</strong> &#8211; The time of the event.</li>
<li><strong>manID</strong> &#8211; The manufacturer ID for the event</li>
<li><strong>payload</strong> &#8211; The payload for the event. This should be a
binary-packed value, and will vary for each type and function.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: This is a low-level MIDI function, so care must be used in
constructing the payload. It is recommended that higher-level helper
functions be written to wrap this function and construct the payload if
a developer finds him or herself using the function heavily.</p>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addTempo">
<code class="descname">addTempo</code><span class="sig-paren">(</span><em>track</em>, <em>time</em>, <em>tempo</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addTempo" title="Permalink to this definition">¶</a></dt>
<dd><p>Add notes to the MIDIFile object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the tempo event  is added. Note that
in a format 1 file this parameter is ignored and the tempo is
written to the tempo track</li>
<li><strong>time</strong> &#8211; The time (in beats) at which tempo event is placed</li>
<li><strong>tempo</strong> &#8211; The tempo, in Beats per Minute. [Integer]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addText">
<code class="descname">addText</code><span class="sig-paren">(</span><em>track</em>, <em>time</em>, <em>text</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addText" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a text event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the notice is added.</li>
<li><strong>time</strong> &#8211; The time (in beats) at which text event is placed.</li>
<li><strong>text</strong> &#8211; The text to adde [ASCII String]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addTimeSignature">
<code class="descname">addTimeSignature</code><span class="sig-paren">(</span><em>track</em>, <em>time</em>, <em>numerator</em>, <em>denominator</em>, <em>clocks_per_tick</em>, <em>notes_per_quarter=8</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addTimeSignature" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a time signature event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the signature is assigned. Note that
in a format 1 file this parameter is ignored and the event is
written to the tempo track</li>
<li><strong>time</strong> &#8211; The time (in beats) at which the event is placed.
In general this should probably be time 0 (the beginning of the
track).</li>
<li><strong>numerator</strong> &#8211; The numerator of the time signature. [Int]</li>
<li><strong>denominator</strong> &#8211; The denominator of the time signature, expressed as
a power of two (see below). [Int]</li>
<li><strong>clocks_per_tick</strong> &#8211; The number of MIDI clock ticks per metronome
click (see below).</li>
<li><strong>notes_per_quarter</strong> &#8211; The number of annotated 32nd notes in a MIDI
quarter note. This is almost always 8 (the default), but some
sequencers allow this value to be changed. Unless you know that
your sequencing software supports it, this should be left at its
default value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The data format for this event is a little obscure.</p>
<p>The <code class="docutils literal"><span class="pre">denominator</span></code> should be specified as a power of 2, with
a half note being one, a quarter note being two, and eight note
being three, etc. Thus, for example, a 4/4 time signature would
have a <code class="docutils literal"><span class="pre">numerator</span></code> of 4 and a <code class="docutils literal"><span class="pre">denominator</span></code> of 2. A 7/8 time
signature would be a <code class="docutils literal"><span class="pre">numerator</span></code> of 7 and a <code class="docutils literal"><span class="pre">denominator</span></code>
of 3.</p>
<p>The <code class="docutils literal"><span class="pre">clocks_per_tick</span></code> argument specifies the number of clock
ticks per metronome click. By definition there are 24 ticks in
a quarter note, so a metronome click per quarter note would be
24. A click every third eighth note would be 3 * 12 = 36.</p>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addTrackName">
<code class="descname">addTrackName</code><span class="sig-paren">(</span><em>track</em>, <em>time</em>, <em>trackName</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addTrackName" title="Permalink to this definition">¶</a></dt>
<dd><p>Name a track.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the name is assigned.</li>
<li><strong>time</strong> &#8211; The time (in beats) at which the track name event is
placed.  In general this should probably be time 0 (the beginning
of the track).</li>
<li><strong>trackName</strong> &#8211; The name to assign to the track [String]</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.addUniversalSysEx">
<code class="descname">addUniversalSysEx</code><span class="sig-paren">(</span><em>track</em>, <em>time</em>, <em>code</em>, <em>subcode</em>, <em>payload</em>, <em>sysExChannel=127</em>, <em>realTime=False</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.addUniversalSysEx" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Univeral System Exclusive event.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the event should be written</li>
<li><strong>time</strong> &#8211; The time of the event, in beats.</li>
<li><strong>code</strong> &#8211; The event code. [Integer]</li>
<li><strong>subcode</strong> &#8211; The event sub-code [Integer]</li>
<li><strong>payload</strong> &#8211; The payload for the event. This should be a
binary-packed value, and will vary for each type and function.</li>
<li><strong>sysExChannel</strong> &#8211; The SysEx channel.</li>
<li><strong>realTime</strong> &#8211; Sets the real-time flag. Defaults to non-real-time.</li>
<li><strong>manID</strong> &#8211; The manufacturer ID for the event</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: This is a low-level MIDI function, so care must be used in
constructing the payload. It is recommended that higher-level helper
functions be written to wrap this function and construct the payload if
a developer finds him or herself using the function heavily. As an
example of such a helper function, see the <code class="docutils literal"><span class="pre">changeNoteTuning()</span></code>
function, which uses the event to create a real-time note tuning
update.</p>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.changeNoteTuning">
<code class="descname">changeNoteTuning</code><span class="sig-paren">(</span><em>track</em>, <em>tunings</em>, <em>sysExChannel=127</em>, <em>realTime=True</em>, <em>tuningProgam=0</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.changeNoteTuning" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a real-time MIDI tuning standard update to a track.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the tuning is applied.</li>
<li><strong>tunings</strong> &#8211; A list to tuples representing the tuning. See below for
an explanation.</li>
<li><strong>sysExChannel</strong> &#8211; The SysEx channel of the event. This is mapped to
&#8220;manufacturer ID&#8221; in the event which is written. Unless there is a
specific reason for changing it, it should be left at its default
value.</li>
<li><strong>realTime</strong> &#8211; Speicifes if the Universal SysEx event should be
flagged as real-time or non-real-time. As with the <code class="docutils literal"><span class="pre">sysExChannel</span></code>
argument, this should in general be left at it&#8217;s default value.</li>
<li><strong>tuningProgram</strong> &#8211; The tuning program number.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This function specifically implements the &#8220;real time single note tuning
change&#8221; (although the name is misleading, as multiple notes can be
included in each event). It should be noted that not all hardware or
software implements the MIDI tuning standard, and that which does often
does not implement it in its entirety.</p>
<p>The <code class="docutils literal"><span class="pre">tunings</span></code> argument is a list of tuples, in (<em>note number</em>,
<em>frequency</em>) format.  As an example, if one wanted to change the
frequency on MIDI note 69 to 500 (it is normally 440 Hz), one could do
it thus:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">midiutil.MidiFile</span> <span class="k">import</span> <span class="n">MIDIFile</span>
<span class="n">MyMIDI</span> <span class="o">=</span> <span class="n">MIDIFile</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">tuning</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">69</span><span class="p">,</span> <span class="mi">500</span><span class="p">)]</span>
<span class="n">MyMIDI</span><span class="o">.</span><span class="n">changeNoteTuning</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">tuning</span><span class="p">,</span> <span class="n">tuningProgam</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.changeTuningBank">
<code class="descname">changeTuningBank</code><span class="sig-paren">(</span><em>track</em>, <em>channel</em>, <em>time</em>, <em>bank</em>, <em>time_order=False</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.changeTuningBank" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the tuning bank for a selected track</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the data should be written</li>
<li><strong>channel</strong> &#8211; The channel for the event</li>
<li><strong>time</strong> &#8211; The time of the event</li>
<li><strong>bank</strong> &#8211; The tuning bank (0-127)</li>
<li><strong>time_order</strong> &#8211; Preserve the ordering of the component events by
ordering in time. See <code class="docutils literal"><span class="pre">makeRPNCall()</span></code> for a discussion of when
this may be necessary</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Note that this is a convenience function, as the same
functionality is available from directly sequencing controller
events.</p>
<p>The specified tuning should already have been written to the
stream with <code class="docutils literal"><span class="pre">changeNoteTuning</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.changeTuningProgram">
<code class="descname">changeTuningProgram</code><span class="sig-paren">(</span><em>track</em>, <em>channel</em>, <em>time</em>, <em>program</em>, <em>time_order=False</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.changeTuningProgram" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the tuning program for a selected track</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which the data should be written</li>
<li><strong>channel</strong> &#8211; The channel for the event</li>
<li><strong>time</strong> &#8211; The time of the event</li>
<li><strong>program</strong> &#8211; The tuning program number (0-127)</li>
<li><strong>time_order</strong> &#8211; Preserve the ordering of the component events by
ordering in time. See <code class="docutils literal"><span class="pre">makeRPNCall()</span></code> for a discussion of when
this may be necessary</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Note that this is a convenience function, as the same
functionality is available from directly sequencing controller
events.</p>
<p>The specified tuning should already have been written to the
stream with <code class="docutils literal"><span class="pre">changeNoteTuning</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.makeNRPNCall">
<code class="descname">makeNRPNCall</code><span class="sig-paren">(</span><em>track</em>, <em>channel</em>, <em>time</em>, <em>controller_msb</em>, <em>controller_lsb</em>, <em>data_msb</em>, <em>data_lsb</em>, <em>time_order=False</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.makeNRPNCall" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a Non-Registered Parameter Number Call</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which this applies</li>
<li><strong>channel</strong> &#8211; The channel to which this applies</li>
<li><strong>time</strong> &#8211; The time of the event</li>
<li><strong>controller_msb</strong> &#8211; The Most significant byte of thecontroller. In
common usage this will usually be 0</li>
<li><strong>controller_lsb</strong> &#8211; The least significant byte for the controller
message. For example, for a fine-tunning change this would be 01.</li>
<li><strong>data_msb</strong> &#8211; The most significant byte of the controller&#8217;s
parameter.</li>
<li><strong>data_lsb</strong> &#8211; The least significant byte of the controller&#8217;s
parameter. If none is needed this should be set to <code class="docutils literal"><span class="pre">None</span></code></li>
<li><strong>time_order</strong> &#8211; Order the control events in time (see below)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal"><span class="pre">time_order</span></code> parameter is something of a work-around for
sequencers that do not preserve the order of events from the MIDI files
they import. Within this code care is taken to preserve the order of
events as specified, but some sequencers seem to transmit events
occurring at the same time in an arbitrary order.  By setting this
parameter to <code class="docutils literal"><span class="pre">True</span></code> something of a work-around is performed: each
successive event (of which there are three or four for this event type)
is placed in the time stream a small delta from the preceding one.
Thus, for example, the controllers are set before the data bytes in
this call.</p>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.makeRPNCall">
<code class="descname">makeRPNCall</code><span class="sig-paren">(</span><em>track</em>, <em>channel</em>, <em>time</em>, <em>controller_msb</em>, <em>controller_lsb</em>, <em>data_msb</em>, <em>data_lsb</em>, <em>time_order=False</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.makeRPNCall" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a Registered Parameter Number Call</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>track</strong> &#8211; The track to which this applies</li>
<li><strong>channel</strong> &#8211; The channel to which this applies</li>
<li><strong>time</strong> &#8211; The time of the event</li>
<li><strong>controller_msb</strong> &#8211; The Most significant byte of the controller. In
common usage this will usually be 0</li>
<li><strong>controller_lsb</strong> &#8211; The Least significant Byte for the controller
message. For example, for a fine-tuning change this would be 01.</li>
<li><strong>data_msb</strong> &#8211; The Most Significant Byte of the controller&#8217;s
parameter.</li>
<li><strong>data_lsb</strong> &#8211; The Least Significant Byte of the controller&#8217;s
parameter. If not needed this should be set to <code class="docutils literal"><span class="pre">None</span></code></li>
<li><strong>time_order</strong> &#8211; Order the control events in time (see below)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>As an example, if one were to change a channel&#8217;s tuning program:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">makeRPNCall</span><span class="p">(</span><span class="n">track</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">program</span><span class="p">)</span>
</pre></div>
</div>
<p>(Note, however, that there is a convenience function,
<code class="docutils literal"><span class="pre">changeTuningProgram</span></code>, that does this for you.)</p>
<p>The <code class="docutils literal"><span class="pre">time_order</span></code> parameter is something of a work-around for
sequencers that do not preserve the order of events from the MIDI files
they import. Within this code care is taken to preserve the order of
events as specified, but some sequencers seem to transmit events
occurring at the same time in an arbitrary order.  By setting this
parameter to <code class="docutils literal"><span class="pre">True</span></code> something of a work-around is performed: each
successive event (of which there are three or four for this event type)
is placed in the time stream a small delta from the preceding one.
Thus, for example, the controllers are set before the data bytes in
this call.</p>
</dd></dl>

<dl class="method">
<dt id="midiutil.MidiFile.MIDIFile.writeFile">
<code class="descname">writeFile</code><span class="sig-paren">(</span><em>fileHandle</em><span class="sig-paren">)</span><a class="headerlink" href="#midiutil.MidiFile.MIDIFile.writeFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the MIDI File.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fileHandle</strong> &#8211; A file handle that has been opened for binary
writing.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="extending.html" class="btn btn-neutral" title="Extending the Library" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Mark Conway Wirt.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.1.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>