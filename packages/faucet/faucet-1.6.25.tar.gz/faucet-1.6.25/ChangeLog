CHANGES
=======

1.6.25
------

* Update version
* Better explain vlan\_neighbors variable
* Workaround stale netns
* dps -> dp
* Dead nexthop cache entries need to be expired
* total\_port\_vlan\_hosts\_count doesn't account for stacking
* Make faucet\_bgp cold/warm/start safe
* Revert "Remove vlan total hosts/by port count run time check."
* add\_cache\_host() didn't handle existing entry on different port
* Remove vlan total hosts/by port count run time check
* Revert mesh tests
* Runtime consistency checks for learning metrics
* Don't verify learn counters in mesh test yet
* HostCacheEntry incorrectly used cache\_time in key
* verify learn counters in IPv4 and 6 routing meshes
* Helper to verify learning counters
* Test vlan\_hosts\_learned == port\_vlan\_hosts\_learned
* Explicitly decode of\_dp\_desc\_stats labels as UTF8
* bgp handler should use keys for DP ID and VLAN
* diagnostic changes for faucet\_bgp (and re-enable bgp\_connect\_mode paramater)
* Correct default for Gauge Prometheus address
* Default Gauge Prometheus address
* Preversion 1.6.25

1.6.24
------

* Build faucet-event-adapter-rabbitmq-pi on pi build cluster
* Need to rollback coldstart check for BGP as well, because with faucet\_bgp rollback, it's not safe again
* Roll back faucet\_bgp due to https://github.com/faucetsdn/faucet/issues/1706
* Use PromGauge, not Gauge
* Rename test thread param
* Need to use threads when testing
* Remove confusing PromGauge reference
* Configure IPv4 BGP peers first
* Add TODO to make MAC table updates less expensive
* Add TODO to rate limit update\_metrics() calls
* Revert "Don't call update\_metrics() at all on packet in."
* Add config time check for BGP peer families
* Don't call update\_metrics() at all on packet in
* Delete FaucetUntaggedBGPIPv46RouteTest
* Allow config of BGP config mode
* Don't double add/del prefixes on BGP peer config/deconfig
* Disable MP-BGP
* Add FaucetUntaggedBGPIPv46RouteTest
* Fix log handler
* V46 test not ready yet, and log peer up/down
* local\_as
* minor BGP refactor
* Multiple adds of VAN routes
* Version bump
* Add documentation builds to test suite
* Revert 16eb309
* add get\_sys\_prefix (copied from valve\_util), for when running in a virtual environment
* Update sphinx from 1.7.0 to 1.7.1
* FaucetMaxHostsPortTest needs to check for cleared MAC address
* Increase L2 scale test to 2048
* Make MAC table export less expensive
* Increase L2/L3 test limits to 1024
* ping\_all\_when\_learned() causes CPU spike in verify\_learning() don't call update\_metrics on every packet in, only when flows emitted
* Rate limit connectivity test
* Make counting hosts learned on port less expensive
* Run int tests using test source directory, not pip3 installed version
* remove unneeded variables
* pylint
* need to convert set to list
* pylint
* Make host cache access by port less expensive
* dyn\_host\_cache accessed only from vlan.py
* Reduce L2/L3 test scale limit to 512, valve\_order smarter (do not attempt reordering if no deletes)
* L2 test should not have a VIP
* Increase inter-learn fping time to 25ms
* Increase inter-learn fping time
* Resolver shouldn't return on cache missing. Increase L3 scale test to 1024
* Set L2 scale test to 1024
* Increase L2 scale test to 2048
* Reduce L2 expiry runtime by only expiring when we know oldest host is due to expire
* Avoid resetting BGP session where BGP config didn't change (less vulnerable to Ryu BGP speaker bugs)
* Reduce L2 learn max to 512
* Increase learn rate pps to 20
* Make L2/L3 learn testing more configurable
* Make learn rate configurable
* fping\_prefix
* fping\_prefix
* unverified\_ips
* unverified\_ips
* endswith
* Make learn retry timer dependant on number of not learned hosts
* IP address generation more readable
* remove diag print
* Avoid confusing fping with addresses that might look like broadcast addresses
* Fix inheritance for L2/L3 tests
* Need to synchronize on state with BGP speaker
* allow 0,1, or path to be specified
* add a dockerfile for rabbitmq-adapter on raspberry pi
* Correct L3 test name
* L2 and L3 test names swapped
* rabbitmq adapter use FAUCET\_EVENT\_SOCK as path
* Relax test OF echo interval
* Restricting .gitignore to appropriate subdirectory
* Add L3 integration test
* Minor docs update for missing table header
* Revert tc on controller
* Add tc for controller interface
* Revert "Experimental increase of learning test to 1024."
* Experimental increase of learning test to 1024
* Upgrade to DPDK 18.02 (though can't be built with -j)
* Simplify DPDK build
* reset BGP neighbor before deconfiguring
* Support multiple BGP VLANs (work around single Ryu BGP speaker limitation)
* Document Ryu only supports one BGP speaker. Determine BGP VLAN by looking up peer IP address
* native\_vlan
* Warm start of BGP is not yet safe
* Fix RE for Prometheus values
* Pin OVS to v2.9.0 (from master)
* Verify that changing a VLAN not involved in routing, should be a warm start only
* Fix double shutdown of BGP speaker when BGP deconfigured
* Fix double shutdown of BGP speaker, if BGP was deconfigured
* pytype
* Add TODO for PBR performance
* Handle failure to open log files more cleanly
* Correct exact\_match test
* Add test for multiple DP/ACLs with mirroring
* pylint
* Add test for inconsistent exact\_match in ACLs
* Move mirror\_destinations parse state out of ACL conf
* Fix dp\_init() not called when cold starting
* Completely re-initialize DP state managers whenever config changes
* Using @google account for AUTHORS
* pre-version

1.6.23
------

* Bump versions
* Improve performance of resolver with inverse index of routing table (gateways to destinations), and fix incorrect type for IPv6 NA IP address
* Incremental add/del route wrappers for VLANs
* Incremental implementation take #2 for routing table
* sanity restore
* routes -> routing\_table
* Revert "Move ip\_gw lists to RoutingTable."
* Revert "prefixlen."
* Revert "Routing table reference."
* Revert "pylint."
* pylint
* Routing table reference
* prefixlen
* Move ip\_gw lists to RoutingTable
* routes -> routing\_table
* Incremental implementation of IP routing table
* Reduce default packet in rate limit. rate
* Move packet in rate limiter to earliest possible point in handler chain
* Reduce number of times L3 headers are parsed
* Add counter for ignored packet ins
* Add test for oferror
* Adding myself to AUTHORS file
* Add curr\_speed and max\_speed to gauge prom poller
* Sphinx 1.7 changes how main arguments are parsed
* remove debugging print statement
* Allow faucet configuration to be specified in gauge.yaml
* pylint
* Should use extend
* pytype
* pylint
* Move OFError handler and send\_flows() to Valve implementation (and more efficient recent flow queue)
* Remove couchdb from architecture diagram
* Remove more CouchDB dependencies
* remove more couchdb dependencies
* Remove support for CouchDB
* Comments for flow\_timeout()
* Configure switch not to send us flow removed messages if not needed (default case)
* Test coverage to 76%
* Test IPv6 NA
* Test coverage for IPv6 FIB route
* Add test for ARP reply from host
* Test case for ICMPv6 RAs
* Can't use ofp.OFPP\_LOCAL as a test interface
* couple minor changes:
* use delete\_strict in Valve.lacp\_up()
* LACP intercept length should be longer
* Use common signal\_handler/start
* Common event should be in valve\_ryuapp
* Use common base signal handler
* Provide initial configuration for pyup
* Increase min coverage
* MirrorACL test case fix
* Test coverage for TFM
* Only call learn\_hosts() where necessary
* pylint
* Remove unnecessary test attributes
* Reorganize Valve tests to base class without tests
* Re-enable pytype
* pytype
* pytype
* pytype
* Revert test\_valve.py change to base class
* Revert pytype
* Revert "Revert "pytype.""
* Disable pytype to investigate coverage decrease
* Revert "pytype."
* Pre-version v1.6.21

1.6.21
------

* Release v1.6.21
* appease 2to3
* Add --display-labels option to fctl
* Remove unused matches
* Remove unneeded ryuapp variables
* Move common initializers to valve\_ryuapp.py
* push up base and python3 images for docker-compose
