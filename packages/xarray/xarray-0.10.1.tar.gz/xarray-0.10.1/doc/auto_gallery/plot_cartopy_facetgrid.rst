

.. _sphx_glr_auto_gallery_plot_cartopy_facetgrid.py:


==================================
Multiple plots and map projections
==================================

Control the map projection parameters on multiple axes

This example illustrates how to plot multiple maps and control their extent
and aspect ratio.

For more details see `this discussion`_ on github.

.. _this discussion: https://github.com/pydata/xarray/issues/1397#issuecomment-299190567




.. code-block:: pytb

    Traceback (most recent call last):
      File "/Users/shoyer/miniconda3/envs/xarray-py36/lib/python3.6/site-packages/sphinx_gallery/gen_rst.py", line 450, in execute_code_block
        exec(code_block, example_globals)
      File "<string>", line 5, in <module>
    ModuleNotFoundError: No module named 'cartopy'





.. code-block:: python


    from __future__ import division

    import xarray as xr
    import cartopy.crs as ccrs
    import matplotlib.pyplot as plt

    # Load the data
    ds = xr.tutorial.load_dataset('air_temperature')
    air = ds.air.isel(time=[0, 724]) - 273.15

    # This is the map projection we want to plot *onto*
    map_proj = ccrs.LambertConformal(central_longitude=-95, central_latitude=45)

    p = air.plot(transform=ccrs.PlateCarree(),  # the data's projection
                 col='time', col_wrap=1,  # multiplot settings
                 aspect=ds.dims['lon'] / ds.dims['lat'],  # for a sensible figsize
                 subplot_kws={'projection': map_proj})  # the plot's projection

    # We have to set the map's options on all four axes
    for ax in p.axes.flat:
        ax.coastlines()
        ax.set_extent([-160, -30, 5, 75])
        # Without this aspect attributes the maps will look chaotic and the
        # "extent" attribute above will be ignored
        ax.set_aspect('equal', 'box-forced')

    plt.show()

**Total running time of the script:** ( 0 minutes  0.000 seconds)



.. container:: sphx-glr-footer


  .. container:: sphx-glr-download

     :download:`Download Python source code: plot_cartopy_facetgrid.py <plot_cartopy_facetgrid.py>`



  .. container:: sphx-glr-download

     :download:`Download Jupyter notebook: plot_cartopy_facetgrid.ipynb <plot_cartopy_facetgrid.ipynb>`

.. rst-class:: sphx-glr-signature

    `Generated by Sphinx-Gallery <https://sphinx-gallery.readthedocs.io>`_
