<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=9"/>
        <meta name="generator" content="Doxygen 1.8.14"/>
        <title>forpy: /Users/classner/git/forpy/include/forpy/forest.h Source File</title>
        <link href="tabs.css" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="jquery.js"></script>
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
        <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
        <link href="stylesheet.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div id="titlearea">
                <table cellspacing="0" cellpadding="0">
                    <tbody>
                        <tr style="height: 56px;">
                            <td style="padding-left: 0.5em;">
                                <div id="projectname">forpy
                                    &#160;<span id="projectnumber">2</span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('forest_8h_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">forest.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="forest_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* Author: Christoph Lassner. */</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#ifndef FORPY_FOREST_H_</span></div><div class="line"><a name="l00004"></a><span class="lineno"><a class="line" href="forest_8h.html#aad7b522d34f70b7eaaab53be0c841dca">    4</a></span>&#160;<span class="preprocessor">#define FORPY_FOREST_H_</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="global_8h.html">./global.h</a>&quot;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;./util/serialization/basics.h&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="idataprovider_8h.html">./data_providers/idataprovider.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fastdecider_8h.html">./deciders/fastdecider.h</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="classificationleaf_8h.html">./leafs/classificationleaf.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="fastclassopt_8h.html">./threshold_optimizers/fastclassopt.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tree_8h.html">./tree.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="types_8h.html">./types.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ctpl_8h.html">./util/threading/ctpl.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceforpy.html">forpy</a> {</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html">   28</a></span>&#160;<span class="keyword">class </span><a class="code" href="classforpy_1_1_forest.html">Forest</a> {</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="classforpy_1_1_forest.html#aedfec5b8670f3f76a643574cf7cde15c">Forest</a>(<span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;n_trees = 10,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;         <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;max_depth = std::numeric_limits&lt;uint&gt;::max(),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;         <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;min_samples_at_leaf = 1,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;         <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;min_samples_at_node = 2,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;         <span class="keyword">const</span> std::shared_ptr&lt;IDecider&gt; &amp;decider_template = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;         <span class="keyword">const</span> std::shared_ptr&lt;ILeaf&gt; &amp;leaf_manager_template = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;         <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;<a class="code" href="classforpy_1_1_forest.html#af46001e2d4aa46ed1ba7986945133ae6">random_seed</a> = 1);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classforpy_1_1_forest.html#aedfec5b8670f3f76a643574cf7cde15c">Forest</a>(std::vector&lt;std::shared_ptr&lt;Tree&gt;&gt; &amp;<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <a class="code" href="classforpy_1_1_forest.html#aedfec5b8670f3f76a643574cf7cde15c">Forest</a>(std::string filename);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <a class="code" href="classforpy_1_1_forest.html">Forest</a> *<a class="code" href="classforpy_1_1_forest.html#a921dde74a71ab99e94117949ac9126a1">fit</a>(<span class="keyword">const</span> <a class="code" href="namespaceforpy.html#a724d37691de11a57b50b9935b5550a89">Data&lt;MatCRef&gt;</a> &amp;data_v, <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#a724d37691de11a57b50b9935b5550a89">Data&lt;MatCRef&gt;</a> &amp;annotation_v,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;              <span class="keyword">const</span> <span class="keywordtype">size_t</span> &amp;num_threads = 1, <span class="keyword">const</span> <span class="keywordtype">bool</span> &amp;bootstrap = <span class="keyword">true</span>,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;              <span class="keyword">const</span> std::vector&lt;float&gt; &amp;weights = std::vector&lt;float&gt;());</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a00157303fa85f51f93ed73666b74261f">   94</a></span>&#160;  std::vector&lt;size_t&gt; <a class="code" href="classforpy_1_1_forest.html#a00157303fa85f51f93ed73666b74261f">get_depths</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    std::vector&lt;size_t&gt; result(<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size());</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">size_t</span> tree_id = 0;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;tree_ptr : <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>) {</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      result[tree_id] = tree_ptr-&gt;get_depth();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      tree_id++;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="classforpy_1_1_forest.html">Forest</a> *<a class="code" href="classforpy_1_1_forest.html#ae84524c095dfa2c23501f4c96e4d8ab4">fit_dprov</a>(<span class="keyword">const</span> std::shared_ptr&lt;IDataProvider&gt; &amp;fdata_provider,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> &amp;bootstrap = <span class="keyword">true</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a5347f23789a3d1a6e89a5b3df37b47b5">  140</a></span>&#160;  <a class="code" href="namespaceforpy.html#a724d37691de11a57b50b9935b5550a89">Data&lt;Mat&gt;</a> <a class="code" href="classforpy_1_1_forest.html#a5347f23789a3d1a6e89a5b3df37b47b5">predict</a>(<span class="keyword">const</span> <a class="code" href="namespaceforpy.html#a724d37691de11a57b50b9935b5550a89">Data&lt;MatCRef&gt;</a> &amp;data_v, <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;num_threads = 1,</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> &amp;use_fast_prediction_if_available = <span class="keyword">true</span>,</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">bool</span> &amp;<a class="code" href="classforpy_1_1_forest.html#a304fe941cebad325ca60b8bceb7ab2ab">predict_proba</a> = <span class="keyword">false</span>) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (num_threads == 0)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="classforpy_1_1_forpy_exception.html">ForpyException</a>(<span class="stringliteral">&quot;The number of threads must be &gt;0!&quot;</span>);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (num_threads != 1) <span class="keywordflow">throw</span> <a class="code" href="classforpy_1_1_forpy_exception.html">ForpyException</a>(<span class="stringliteral">&quot;Unimplemented!&quot;</span>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    std::vector&lt;Data&lt;Mat&gt;&gt; results(0);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="namespaceforpy.html#a36398396324079cc112b2c14d72ef20d">Vec&lt;float&gt;</a> tree_weights(<a class="code" href="namespaceforpy.html#a36398396324079cc112b2c14d72ef20d">Vec&lt;float&gt;::Zero</a>(<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size()));</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    results.reserve(<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size());</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size(); ++i) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      results.push_back(<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>[i]-&gt;<a class="code" href="classforpy_1_1_forest.html#a5347f23789a3d1a6e89a5b3df37b47b5">predict</a>(</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;          data_v, 1, use_fast_prediction_if_available, <a class="code" href="classforpy_1_1_forest.html#a304fe941cebad325ca60b8bceb7ab2ab">predict_proba</a>, <span class="keyword">true</span>));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      tree_weights(i) = <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>[i]-&gt;get_weight();</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>[0]-&gt;combine_leaf_results(results, tree_weights, <a class="code" href="classforpy_1_1_forest.html#a304fe941cebad325ca60b8bceb7ab2ab">predict_proba</a>);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  };</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a304fe941cebad325ca60b8bceb7ab2ab">  158</a></span>&#160;  <a class="code" href="namespaceforpy.html#a724d37691de11a57b50b9935b5550a89">Data&lt;Mat&gt;</a> <a class="code" href="classforpy_1_1_forest.html#a304fe941cebad325ca60b8bceb7ab2ab">predict_proba</a>(<span class="keyword">const</span> <a class="code" href="namespaceforpy.html#a724d37691de11a57b50b9935b5550a89">Data&lt;MatCRef&gt;</a> &amp;data_v,</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                          <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;num_threads = 1,</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                          <span class="keyword">const</span> <span class="keywordtype">bool</span> &amp;use_fast_prediction_if_available = <span class="keyword">true</span>) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classforpy_1_1_forest.html#a5347f23789a3d1a6e89a5b3df37b47b5">predict</a>(data_v, num_threads, use_fast_prediction_if_available, <span class="keyword">true</span>);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  };</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#ab96fc7de460300b4969a8ba12526bf96">  165</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">size_t</span> <a class="code" href="classforpy_1_1_forest.html#ab96fc7de460300b4969a8ba12526bf96">get_input_data_dimensions</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>[0]-&gt;get_input_data_dimensions();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#ad3d1238b0a7591bf4ace2131d6d52f06">  170</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;const IDecider&gt; <a class="code" href="classforpy_1_1_forest.html#ad3d1238b0a7591bf4ace2131d6d52f06">get_decider</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>[0]-&gt;get_decider();</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  };</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a3358c450c612d1a526052b2420e1ecf7">  175</a></span>&#160;  <span class="keyword">inline</span> std::vector&lt;std::shared_ptr&lt;Tree&gt;&gt; <a class="code" href="classforpy_1_1_forest.html#a3358c450c612d1a526052b2420e1ecf7">get_trees</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>; }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#ae7d2aa97c0404e21210996f02c74c02b">  178</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classforpy_1_1_forest.html#ae7d2aa97c0404e21210996f02c74c02b">enable_fast_prediction</a>() {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;tree : <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>) tree-&gt;enable_fast_prediction();</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  };</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a6c711252c6ffc0754226623ddb321a14">  183</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classforpy_1_1_forest.html#a6c711252c6ffc0754226623ddb321a14">disable_fast_prediction</a>() {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;tree : <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>) tree-&gt;disable_fast_prediction();</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  };</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a0e8b80553e643ac3eb4de234bfa0dfe5">  188</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;const ILeaf&gt; <a class="code" href="classforpy_1_1_forest.html#a0e8b80553e643ac3eb4de234bfa0dfe5">get_leaf_manager</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>[0]-&gt;get_leaf_manager();</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#afaa517cf1c7bbf14bbc55ab3f757cd0e">  193</a></span>&#160;  <span class="keyword">inline</span> std::vector&lt;float&gt; <a class="code" href="classforpy_1_1_forest.html#afaa517cf1c7bbf14bbc55ab3f757cd0e">get_tree_weights</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    std::vector&lt;float&gt; result(<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size());</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">for</span> (std::size_t tree_idx = 0; tree_idx &lt; <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size(); ++tree_idx) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      result[tree_idx] = <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.at(tree_idx)-&gt;get_weight();</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  }</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a21aa3cff3a22fd0feffa7331fd3bda5a">  202</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classforpy_1_1_forest.html#a21aa3cff3a22fd0feffa7331fd3bda5a">set_tree_weights</a>(<span class="keyword">const</span> std::vector&lt;float&gt; &amp;weights)<span class="keyword"> const </span>{</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">if</span> (weights.size() != <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size())</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="classforpy_1_1_forpy_exception.html">ForpyException</a>(<span class="stringliteral">&quot;Need &quot;</span> + std::to_string(<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size()) +</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                           <span class="stringliteral">&quot; weights, received &quot;</span> +</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                           std::to_string(weights.size()));</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">for</span> (std::size_t tree_idx = 0; tree_idx &lt; <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size(); ++tree_idx)</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>[tree_idx]-&gt;set_weight(weights[tree_idx]);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classforpy_1_1_forest.html#a08772e8b9e5850140b39de064d23c805">save</a>(<span class="keyword">const</span> std::string &amp;filename) <span class="keyword">const</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a064e5c9fdd1c9c8d439df7cac77c6f97">  219</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classforpy_1_1_forest.html#a064e5c9fdd1c9c8d439df7cac77c6f97">operator==</a>(<span class="keyword">const</span> <a class="code" href="classforpy_1_1_forest.html">Forest</a> &amp;rhs)<span class="keyword"> const </span>{</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size() != rhs.<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.size(); ++i) {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <span class="keywordflow">if</span> (!(*(<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.at(i)) == *(rhs.<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>.at(i)))) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classforpy_1_1_forest.html#af46001e2d4aa46ed1ba7986945133ae6">random_seed</a> != rhs.<a class="code" href="classforpy_1_1_forest.html#af46001e2d4aa46ed1ba7986945133ae6">random_seed</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  };</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a876fcf9d8d80ed02ee4f340d2567ece6">  228</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">friend</span> std::ostream &amp;<a class="code" href="classforpy_1_1_forest.html#a876fcf9d8d80ed02ee4f340d2567ece6">operator&lt;&lt;</a>(std::ostream &amp;stream,</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classforpy_1_1_forest.html">Forest</a> &amp;<span class="keyword">self</span>) {</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    stream &lt;&lt; <span class="stringliteral">&quot;forpy::Forest[&quot;</span> &lt;&lt; <span class="keyword">self</span>.trees.size() &lt;&lt; <span class="stringliteral">&quot; trees]&quot;</span>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> stream;</div><div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#ab2f44cbb59a08132f4c843e5225bba0e">  232</a></span>&#160;  };</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span>cereal::access;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div><div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a84469d175fcc9100120a10eaa367a86e">  237</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classforpy_1_1_forest.html#a84469d175fcc9100120a10eaa367a86e">serialize</a>(Archive &amp;ar, <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;) {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="comment">// To make this work, I had to take out a static assertion at cereal.hpp,</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// at least for clang. Everything works as expected without the assertion</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// and I wouldn&#39;t know why not.</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    ar(CEREAL_NVP(<a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>), CEREAL_NVP(<a class="code" href="classforpy_1_1_forest.html#af46001e2d4aa46ed1ba7986945133ae6">random_seed</a>));</div><div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">  242</a></span>&#160;  };</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  std::vector&lt;std::shared_ptr&lt;Tree&gt;&gt; <a class="code" href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">trees</a>;</div><div class="line"><a name="l00245"></a><span class="lineno"><a class="line" href="classforpy_1_1_forest.html#af46001e2d4aa46ed1ba7986945133ae6">  245</a></span>&#160;  <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> <a class="code" href="classforpy_1_1_forest.html#af46001e2d4aa46ed1ba7986945133ae6">random_seed</a>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <a class="code" href="classforpy_1_1_forest.html#a6b3ef5b2d2322eacebf1b6e1cf2a33fd">DISALLOW_COPY_AND_ASSIGN</a>(<a class="code" href="classforpy_1_1_forest.html">Forest</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;};  <span class="comment">// class Forest</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classforpy_1_1_classification_forest.html">  249</a></span>&#160;<span class="keyword">class </span><a class="code" href="classforpy_1_1_classification_forest.html">ClassificationForest</a> : <span class="keyword">public</span> <a class="code" href="classforpy_1_1_forest.html">Forest</a> {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00251"></a><span class="lineno"><a class="line" href="classforpy_1_1_classification_forest.html#a6e8ff31ff91d89a0c16db1b9cfeed254">  251</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classforpy_1_1_classification_forest.html#a6e8ff31ff91d89a0c16db1b9cfeed254">ClassificationForest</a>(<span class="keyword">const</span> std::string &amp;filename) : <a class="code" href="classforpy_1_1_forest.html">Forest</a>(filename){};</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <a class="code" href="classforpy_1_1_classification_forest.html#a6e8ff31ff91d89a0c16db1b9cfeed254">ClassificationForest</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> &amp;n_trees = 10,</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                       <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;max_depth = std::numeric_limits&lt;uint&gt;::max(),</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                       <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;min_samples_at_leaf = 1,</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                       <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;min_samples_at_node = 2,</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                       <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;n_valid_features_to_use = 0,</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">bool</span> &amp;autoscale_valid_features = <span class="keyword">true</span>,</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                       <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;<a class="code" href="classforpy_1_1_forest.html#af46001e2d4aa46ed1ba7986945133ae6">random_seed</a> = 1,</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">size_t</span> &amp;n_thresholds = 0,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                       <span class="keyword">const</span> <span class="keywordtype">float</span> &amp;gain_threshold = 1E-7f);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keyword">inline</span> std::unordered_map&lt;std::string, mu::variant&lt;uint, size_t, float, bool&gt;&gt;</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classforpy_1_1_classification_forest.html#a24b4e3bf840328f15a87b16b18208a18">  263</a></span>&#160;  <a class="code" href="classforpy_1_1_classification_forest.html#a24b4e3bf840328f15a87b16b18208a18">get_params</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> &amp; <span class="comment">/*deep*/</span> = <span class="keyword">false</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div><div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="classforpy_1_1_classification_forest.html#a1152e01fde08c95b9ad8d32943669d23">  267</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;ClassificationForest&gt; <a class="code" href="classforpy_1_1_classification_forest.html#a1152e01fde08c95b9ad8d32943669d23">set_params</a>(</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keyword">const</span> std::unordered_map&lt;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          std::string, mu::variant&lt;uint, size_t, float, bool&gt;&gt; &amp;<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">return</span> std::make_shared&lt;ClassificationForest&gt;(</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        GetWithDefVar&lt;size_t&gt;(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>, <span class="stringliteral">&quot;n_trees&quot;</span>, 10),</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>, <span class="stringliteral">&quot;max_depth&quot;</span>,</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                            std::numeric_limits&lt;uint&gt;::max()),</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>, <span class="stringliteral">&quot;min_samples_at_leaf&quot;</span>, 1),</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>, <span class="stringliteral">&quot;min_samples_at_node&quot;</span>, 2),</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>, <span class="stringliteral">&quot;n_valid_features_to_use&quot;</span>, 0),</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        GetWithDefVar&lt;bool&gt;(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>, <span class="stringliteral">&quot;autoscale_valid_features&quot;</span>, <span class="keyword">true</span>),</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>, <span class="stringliteral">&quot;random_seed&quot;</span>, 1),</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        GetWithDefVar&lt;size_t&gt;(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>, <span class="stringliteral">&quot;n_thresholds&quot;</span>, 0),</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        GetWithDefVar&lt;float&gt;(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>, <span class="stringliteral">&quot;gain_threshold&quot;</span>, 1E-7f));</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="classforpy_1_1_classification_forest.html#a3e24fb641e12dccd0d1dc5e7c2c65cfa">  283</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">friend</span> std::ostream &amp;<a class="code" href="classforpy_1_1_classification_forest.html#a3e24fb641e12dccd0d1dc5e7c2c65cfa">operator&lt;&lt;</a>(std::ostream &amp;stream,</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classforpy_1_1_classification_forest.html">ClassificationForest</a> &amp;<span class="keyword">self</span>) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    stream &lt;&lt; <span class="stringliteral">&quot;forpy::ClassificationForest[&quot;</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;           &lt;&lt; mu::static_variant_cast&lt;<span class="keywordtype">size_t</span>&gt;(<span class="keyword">self</span>.params.at(<span class="stringliteral">&quot;n_trees&quot;</span>))</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; trees]&quot;</span>;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">return</span> stream;</div><div class="line"><a name="l00289"></a><span class="lineno"><a class="line" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">  289</a></span>&#160;  };</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  std::unordered_map&lt;std::string, mu::variant&lt;uint, size_t, float, bool&gt;&gt;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>;</div><div class="line"><a name="l00294"></a><span class="lineno"><a class="line" href="classforpy_1_1_classification_forest.html#ab2f44cbb59a08132f4c843e5225bba0e">  294</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classforpy_1_1_classification_forest.html#ab2f44cbb59a08132f4c843e5225bba0e">cereal::access</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="classforpy_1_1_classification_forest.html#a3b2955f6bd8de92927f54b9e72c5366b">  296</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classforpy_1_1_classification_forest.html#a3b2955f6bd8de92927f54b9e72c5366b">serialize</a>(Archive &amp;ar, <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;) {</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    ar(cereal::make_nvp(<span class="stringliteral">&quot;base&quot;</span>, cereal::base_class&lt;Forest&gt;(<span class="keyword">this</span>)),</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;       CEREAL_NVP(<a class="code" href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">params</a>));</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  }</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="classforpy_1_1_classification_forest.html#a2ad96f920bfd298851a394a564247b8e">DISALLOW_COPY_AND_ASSIGN</a>(<a class="code" href="classforpy_1_1_classification_forest.html">ClassificationForest</a>);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;};</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classforpy_1_1_regression_forest.html">  303</a></span>&#160;<span class="keyword">class </span><a class="code" href="classforpy_1_1_regression_forest.html">RegressionForest</a> : <span class="keyword">public</span> <a class="code" href="classforpy_1_1_forest.html">Forest</a> {</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="classforpy_1_1_regression_forest.html#a08b6ddda05219816e58e05389e6d500f">  305</a></span>&#160;  <span class="keyword">inline</span> <a class="code" href="classforpy_1_1_regression_forest.html#a08b6ddda05219816e58e05389e6d500f">RegressionForest</a>(<span class="keyword">const</span> std::string &amp;filename) : <a class="code" href="classforpy_1_1_forest.html">Forest</a>(filename){};</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <a class="code" href="classforpy_1_1_regression_forest.html#a08b6ddda05219816e58e05389e6d500f">RegressionForest</a>(<span class="keyword">const</span> <span class="keywordtype">size_t</span> &amp;n_trees = 10,</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                   <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;max_depth = std::numeric_limits&lt;uint&gt;::max(),</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                   <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;min_samples_at_leaf = 1,</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                   <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;min_samples_at_node = 2,</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                   <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;n_valid_features_to_use = 0,</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                   <span class="keyword">const</span> <span class="keywordtype">bool</span> &amp;autoscale_valid_features = <span class="keyword">false</span>,</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                   <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;<a class="code" href="classforpy_1_1_forest.html#af46001e2d4aa46ed1ba7986945133ae6">random_seed</a> = 1, <span class="keyword">const</span> <span class="keywordtype">size_t</span> &amp;n_thresholds = 0,</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                   <span class="keyword">const</span> <span class="keywordtype">float</span> &amp;gain_threshold = 1E-7f,</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                   <span class="keyword">const</span> <span class="keywordtype">bool</span> &amp;store_variance = <span class="keyword">false</span>,</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                   <span class="keyword">const</span> <span class="keywordtype">bool</span> &amp;summarize = <span class="keyword">false</span>);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keyword">inline</span> std::unordered_map&lt;std::string, mu::variant&lt;uint, size_t, float, bool&gt;&gt;</div><div class="line"><a name="l00318"></a><span class="lineno"><a class="line" href="classforpy_1_1_regression_forest.html#ad434daa6c3753abfb902a606641c6181">  318</a></span>&#160;  <a class="code" href="classforpy_1_1_regression_forest.html#ad434daa6c3753abfb902a606641c6181">get_params</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span> &amp; <span class="comment">/*deep*/</span> = <span class="keyword">false</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  }</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="classforpy_1_1_regression_forest.html#a3cb1d183be9de60d80bdcab8c51bfbad">  322</a></span>&#160;  <span class="keyword">inline</span> std::shared_ptr&lt;RegressionForest&gt; <a class="code" href="classforpy_1_1_regression_forest.html#a3cb1d183be9de60d80bdcab8c51bfbad">set_params</a>(</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keyword">const</span> std::unordered_map&lt;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          std::string, mu::variant&lt;uint, size_t, float, bool&gt;&gt; &amp;<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>) {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">return</span> std::make_shared&lt;RegressionForest&gt;(</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        GetWithDefVar&lt;size_t&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;n_trees&quot;</span>, 10),</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;max_depth&quot;</span>,</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                            std::numeric_limits&lt;uint&gt;::max()),</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;min_samples_at_leaf&quot;</span>, 1),</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;min_samples_at_node&quot;</span>, 2),</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;n_valid_features_to_use&quot;</span>, 0),</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        GetWithDefVar&lt;bool&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;autoscale_valid_features&quot;</span>, <span class="keyword">false</span>),</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        GetWithDefVar&lt;uint&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;random_seed&quot;</span>, 1),</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        GetWithDefVar&lt;size_t&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;n_thresholds&quot;</span>, 0),</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        GetWithDefVar&lt;float&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;gain_threshold&quot;</span>, 1E-7f),</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        GetWithDefVar&lt;bool&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;store_variance&quot;</span>, <span class="keyword">false</span>),</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        GetWithDefVar&lt;bool&gt;(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>, <span class="stringliteral">&quot;summarize&quot;</span>, <span class="keyword">false</span>));</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno"><a class="line" href="classforpy_1_1_regression_forest.html#ad5f7abc69f685d079ef4079e219d6690">  340</a></span>&#160;  <span class="keyword">inline</span> <span class="keyword">friend</span> std::ostream &amp;<a class="code" href="classforpy_1_1_regression_forest.html#ad5f7abc69f685d079ef4079e219d6690">operator&lt;&lt;</a>(std::ostream &amp;stream,</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="classforpy_1_1_regression_forest.html">RegressionForest</a> &amp;<span class="keyword">self</span>) {</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    stream &lt;&lt; <span class="stringliteral">&quot;forpy::RegressionForest[&quot;</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;           &lt;&lt; mu::static_variant_cast&lt;<span class="keywordtype">size_t</span>&gt;(<span class="keyword">self</span>.params.at(<span class="stringliteral">&quot;n_trees&quot;</span>))</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;           &lt;&lt; <span class="stringliteral">&quot; trees]&quot;</span>;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">return</span> stream;</div><div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">  346</a></span>&#160;  };</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; <span class="keyword">private</span>:</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  std::unordered_map&lt;std::string, mu::variant&lt;uint, size_t, float, bool&gt;&gt;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      <a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>;</div><div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classforpy_1_1_regression_forest.html#ab2f44cbb59a08132f4c843e5225bba0e">  351</a></span>&#160;  <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classforpy_1_1_regression_forest.html#ab2f44cbb59a08132f4c843e5225bba0e">cereal::access</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div><div class="line"><a name="l00353"></a><span class="lineno"><a class="line" href="classforpy_1_1_regression_forest.html#abf9a7302a3f58afd5cd2e8ae3e161535">  353</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classforpy_1_1_regression_forest.html#abf9a7302a3f58afd5cd2e8ae3e161535">serialize</a>(Archive &amp;ar, <span class="keyword">const</span> <a class="code" href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">uint</a> &amp;) {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    ar(cereal::make_nvp(<span class="stringliteral">&quot;base&quot;</span>, cereal::base_class&lt;Forest&gt;(<span class="keyword">this</span>)),</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;       CEREAL_NVP(<a class="code" href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">params</a>));</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="classforpy_1_1_regression_forest.html#a999cfe859aff6d32e57bf97a0251fdd1">DISALLOW_COPY_AND_ASSIGN</a>(<a class="code" href="classforpy_1_1_regression_forest.html">RegressionForest</a>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;};</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;};      <span class="comment">// namespace forpy</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">#endif  // FORPY_FOREST_H_</span></div><div class="ttc" id="classforpy_1_1_classification_forest_html_a3b2955f6bd8de92927f54b9e72c5366b"><div class="ttname"><a href="classforpy_1_1_classification_forest.html#a3b2955f6bd8de92927f54b9e72c5366b">forpy::ClassificationForest::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;ar, const uint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00296">forest.h:296</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a876fcf9d8d80ed02ee4f340d2567ece6"><div class="ttname"><a href="classforpy_1_1_forest.html#a876fcf9d8d80ed02ee4f340d2567ece6">forpy::Forest::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;stream, const Forest &amp;self)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00228">forest.h:228</a></div></div>
<div class="ttc" id="classforpy_1_1_regression_forest_html_ae8fe4555761fa365881dffc820ac5dcc"><div class="ttname"><a href="classforpy_1_1_regression_forest.html#ae8fe4555761fa365881dffc820ac5dcc">forpy::RegressionForest::params</a></div><div class="ttdeci">std::unordered_map&lt; std::string, mu::variant&lt; uint, size_t, float, bool &gt; &gt; params</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00346">forest.h:346</a></div></div>
<div class="ttc" id="types_8h_html"><div class="ttname"><a href="types_8h.html">types.h</a></div></div>
<div class="ttc" id="classforpy_1_1_classification_forest_html_a1152e01fde08c95b9ad8d32943669d23"><div class="ttname"><a href="classforpy_1_1_classification_forest.html#a1152e01fde08c95b9ad8d32943669d23">forpy::ClassificationForest::set_params</a></div><div class="ttdeci">std::shared_ptr&lt; ClassificationForest &gt; set_params(const std::unordered_map&lt; std::string, mu::variant&lt; uint, size_t, float, bool &gt;&gt; &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00267">forest.h:267</a></div></div>
<div class="ttc" id="idataprovider_8h_html"><div class="ttname"><a href="idataprovider_8h.html">idataprovider.h</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a08772e8b9e5850140b39de064d23c805"><div class="ttname"><a href="classforpy_1_1_forest.html#a08772e8b9e5850140b39de064d23c805">forpy::Forest::save</a></div><div class="ttdeci">void save(const std::string &amp;filename) const</div></div>
<div class="ttc" id="classforpy_1_1_forest_html_af46001e2d4aa46ed1ba7986945133ae6"><div class="ttname"><a href="classforpy_1_1_forest.html#af46001e2d4aa46ed1ba7986945133ae6">forpy::Forest::random_seed</a></div><div class="ttdeci">uint random_seed</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00245">forest.h:245</a></div></div>
<div class="ttc" id="classforpy_1_1_classification_forest_html_a122af2c18b60c14fced37a3ab44471a7"><div class="ttname"><a href="classforpy_1_1_classification_forest.html#a122af2c18b60c14fced37a3ab44471a7">forpy::ClassificationForest::params</a></div><div class="ttdeci">std::unordered_map&lt; std::string, mu::variant&lt; uint, size_t, float, bool &gt; &gt; params</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00289">forest.h:289</a></div></div>
<div class="ttc" id="classforpy_1_1_classification_forest_html_ab2f44cbb59a08132f4c843e5225bba0e"><div class="ttname"><a href="classforpy_1_1_classification_forest.html#ab2f44cbb59a08132f4c843e5225bba0e">forpy::ClassificationForest::access</a></div><div class="ttdeci">friend class cereal::access</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00294">forest.h:294</a></div></div>
<div class="ttc" id="classforpy_1_1_regression_forest_html_abf9a7302a3f58afd5cd2e8ae3e161535"><div class="ttname"><a href="classforpy_1_1_regression_forest.html#abf9a7302a3f58afd5cd2e8ae3e161535">forpy::RegressionForest::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;ar, const uint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00353">forest.h:353</a></div></div>
<div class="ttc" id="fastdecider_8h_html"><div class="ttname"><a href="fastdecider_8h.html">fastdecider.h</a></div></div>
<div class="ttc" id="tree_8h_html"><div class="ttname"><a href="tree_8h.html">tree.h</a></div></div>
<div class="ttc" id="classificationleaf_8h_html"><div class="ttname"><a href="classificationleaf_8h.html">classificationleaf.h</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_ae7d2aa97c0404e21210996f02c74c02b"><div class="ttname"><a href="classforpy_1_1_forest.html#ae7d2aa97c0404e21210996f02c74c02b">forpy::Forest::enable_fast_prediction</a></div><div class="ttdeci">void enable_fast_prediction()</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00178">forest.h:178</a></div></div>
<div class="ttc" id="global_8h_html"><div class="ttname"><a href="global_8h.html">global.h</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a6729d9158db3594237387a1fd5f4987c"><div class="ttname"><a href="classforpy_1_1_forest.html#a6729d9158db3594237387a1fd5f4987c">forpy::Forest::trees</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; Tree &gt; &gt; trees</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00242">forest.h:242</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_ad3d1238b0a7591bf4ace2131d6d52f06"><div class="ttname"><a href="classforpy_1_1_forest.html#ad3d1238b0a7591bf4ace2131d6d52f06">forpy::Forest::get_decider</a></div><div class="ttdeci">std::shared_ptr&lt; const IDecider &gt; get_decider() const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00170">forest.h:170</a></div></div>
<div class="ttc" id="namespaceforpy_html_a724d37691de11a57b50b9935b5550a89"><div class="ttname"><a href="namespaceforpy.html#a724d37691de11a57b50b9935b5550a89">forpy::Data</a></div><div class="ttdeci">typename mu::variant&lt; Empty, STOT&lt; float &gt;, STOT&lt; double &gt;, STOT&lt; uint &gt;, STOT&lt; uint8_t &gt; &gt; Data</div><div class="ttdoc">Storing a variant of the provided data container type. </div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00126">storage.h:126</a></div></div>
<div class="ttc" id="fastclassopt_8h_html"><div class="ttname"><a href="fastclassopt_8h.html">fastclassopt.h</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a21aa3cff3a22fd0feffa7331fd3bda5a"><div class="ttname"><a href="classforpy_1_1_forest.html#a21aa3cff3a22fd0feffa7331fd3bda5a">forpy::Forest::set_tree_weights</a></div><div class="ttdeci">void set_tree_weights(const std::vector&lt; float &gt; &amp;weights) const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00202">forest.h:202</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a84469d175fcc9100120a10eaa367a86e"><div class="ttname"><a href="classforpy_1_1_forest.html#a84469d175fcc9100120a10eaa367a86e">forpy::Forest::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;ar, const uint &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00237">forest.h:237</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_aedfec5b8670f3f76a643574cf7cde15c"><div class="ttname"><a href="classforpy_1_1_forest.html#aedfec5b8670f3f76a643574cf7cde15c">forpy::Forest::Forest</a></div><div class="ttdeci">Forest(const uint &amp;n_trees=10, const uint &amp;max_depth=std::numeric_limits&lt; uint &gt;::max(), const uint &amp;min_samples_at_leaf=1, const uint &amp;min_samples_at_node=2, const std::shared_ptr&lt; IDecider &gt; &amp;decider_template=nullptr, const std::shared_ptr&lt; ILeaf &gt; &amp;leaf_manager_template=nullptr, const uint &amp;random_seed=1)</div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a5347f23789a3d1a6e89a5b3df37b47b5"><div class="ttname"><a href="classforpy_1_1_forest.html#a5347f23789a3d1a6e89a5b3df37b47b5">forpy::Forest::predict</a></div><div class="ttdeci">Data&lt; Mat &gt; predict(const Data&lt; MatCRef &gt; &amp;data_v, const int &amp;num_threads=1, const bool &amp;use_fast_prediction_if_available=true, const bool &amp;predict_proba=false)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00140">forest.h:140</a></div></div>
<div class="ttc" id="classforpy_1_1_classification_forest_html_a24b4e3bf840328f15a87b16b18208a18"><div class="ttname"><a href="classforpy_1_1_classification_forest.html#a24b4e3bf840328f15a87b16b18208a18">forpy::ClassificationForest::get_params</a></div><div class="ttdeci">std::unordered_map&lt; std::string, mu::variant&lt; uint, size_t, float, bool &gt; &gt; get_params(const bool &amp;=false) const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00263">forest.h:263</a></div></div>
<div class="ttc" id="classforpy_1_1_regression_forest_html_ad5f7abc69f685d079ef4079e219d6690"><div class="ttname"><a href="classforpy_1_1_regression_forest.html#ad5f7abc69f685d079ef4079e219d6690">forpy::RegressionForest::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;stream, const RegressionForest &amp;self)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00340">forest.h:340</a></div></div>
<div class="ttc" id="classforpy_1_1_regression_forest_html_ab2f44cbb59a08132f4c843e5225bba0e"><div class="ttname"><a href="classforpy_1_1_regression_forest.html#ab2f44cbb59a08132f4c843e5225bba0e">forpy::RegressionForest::access</a></div><div class="ttdeci">friend class cereal::access</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00351">forest.h:351</a></div></div>
<div class="ttc" id="classforpy_1_1_classification_forest_html_a6e8ff31ff91d89a0c16db1b9cfeed254"><div class="ttname"><a href="classforpy_1_1_classification_forest.html#a6e8ff31ff91d89a0c16db1b9cfeed254">forpy::ClassificationForest::ClassificationForest</a></div><div class="ttdeci">ClassificationForest(const std::string &amp;filename)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00251">forest.h:251</a></div></div>
<div class="ttc" id="classforpy_1_1_regression_forest_html_a08b6ddda05219816e58e05389e6d500f"><div class="ttname"><a href="classforpy_1_1_regression_forest.html#a08b6ddda05219816e58e05389e6d500f">forpy::RegressionForest::RegressionForest</a></div><div class="ttdeci">RegressionForest(const std::string &amp;filename)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00305">forest.h:305</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_afaa517cf1c7bbf14bbc55ab3f757cd0e"><div class="ttname"><a href="classforpy_1_1_forest.html#afaa517cf1c7bbf14bbc55ab3f757cd0e">forpy::Forest::get_tree_weights</a></div><div class="ttdeci">std::vector&lt; float &gt; get_tree_weights() const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00193">forest.h:193</a></div></div>
<div class="ttc" id="classforpy_1_1_classification_forest_html_a2ad96f920bfd298851a394a564247b8e"><div class="ttname"><a href="classforpy_1_1_classification_forest.html#a2ad96f920bfd298851a394a564247b8e">forpy::ClassificationForest::DISALLOW_COPY_AND_ASSIGN</a></div><div class="ttdeci">DISALLOW_COPY_AND_ASSIGN(ClassificationForest)</div></div>
<div class="ttc" id="classforpy_1_1_forest_html"><div class="ttname"><a href="classforpy_1_1_forest.html">forpy::Forest</a></div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00028">forest.h:28</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a6c711252c6ffc0754226623ddb321a14"><div class="ttname"><a href="classforpy_1_1_forest.html#a6c711252c6ffc0754226623ddb321a14">forpy::Forest::disable_fast_prediction</a></div><div class="ttdeci">void disable_fast_prediction()</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00183">forest.h:183</a></div></div>
<div class="ttc" id="namespaceforpy_html_a36398396324079cc112b2c14d72ef20d"><div class="ttname"><a href="namespaceforpy.html#a36398396324079cc112b2c14d72ef20d">forpy::Vec</a></div><div class="ttdeci">Eigen::Matrix&lt; DT, Eigen::Dynamic, 1, Eigen::ColMajor &gt; Vec</div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00073">types.h:73</a></div></div>
<div class="ttc" id="namespaceforpy_html"><div class="ttname"><a href="namespaceforpy.html">forpy</a></div><div class="ttdef"><b>Definition:</b> <a href="fastdprov_8h_source.html#l00013">fastdprov.h:13</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a304fe941cebad325ca60b8bceb7ab2ab"><div class="ttname"><a href="classforpy_1_1_forest.html#a304fe941cebad325ca60b8bceb7ab2ab">forpy::Forest::predict_proba</a></div><div class="ttdeci">Data&lt; Mat &gt; predict_proba(const Data&lt; MatCRef &gt; &amp;data_v, const int &amp;num_threads=1, const bool &amp;use_fast_prediction_if_available=true)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00158">forest.h:158</a></div></div>
<div class="ttc" id="classforpy_1_1_regression_forest_html_a3cb1d183be9de60d80bdcab8c51bfbad"><div class="ttname"><a href="classforpy_1_1_regression_forest.html#a3cb1d183be9de60d80bdcab8c51bfbad">forpy::RegressionForest::set_params</a></div><div class="ttdeci">std::shared_ptr&lt; RegressionForest &gt; set_params(const std::unordered_map&lt; std::string, mu::variant&lt; uint, size_t, float, bool &gt;&gt; &amp;params)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00322">forest.h:322</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a00157303fa85f51f93ed73666b74261f"><div class="ttname"><a href="classforpy_1_1_forest.html#a00157303fa85f51f93ed73666b74261f">forpy::Forest::get_depths</a></div><div class="ttdeci">std::vector&lt; size_t &gt; get_depths() const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00094">forest.h:94</a></div></div>
<div class="ttc" id="classforpy_1_1_classification_forest_html"><div class="ttname"><a href="classforpy_1_1_classification_forest.html">forpy::ClassificationForest</a></div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00249">forest.h:249</a></div></div>
<div class="ttc" id="ctpl_8h_html"><div class="ttname"><a href="ctpl_8h.html">ctpl.h</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a0e8b80553e643ac3eb4de234bfa0dfe5"><div class="ttname"><a href="classforpy_1_1_forest.html#a0e8b80553e643ac3eb4de234bfa0dfe5">forpy::Forest::get_leaf_manager</a></div><div class="ttdeci">std::shared_ptr&lt; const ILeaf &gt; get_leaf_manager() const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00188">forest.h:188</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a3358c450c612d1a526052b2420e1ecf7"><div class="ttname"><a href="classforpy_1_1_forest.html#a3358c450c612d1a526052b2420e1ecf7">forpy::Forest::get_trees</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; Tree &gt; &gt; get_trees() const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00175">forest.h:175</a></div></div>
<div class="ttc" id="classforpy_1_1_regression_forest_html_a999cfe859aff6d32e57bf97a0251fdd1"><div class="ttname"><a href="classforpy_1_1_regression_forest.html#a999cfe859aff6d32e57bf97a0251fdd1">forpy::RegressionForest::DISALLOW_COPY_AND_ASSIGN</a></div><div class="ttdeci">DISALLOW_COPY_AND_ASSIGN(RegressionForest)</div></div>
<div class="ttc" id="classforpy_1_1_classification_forest_html_a3e24fb641e12dccd0d1dc5e7c2c65cfa"><div class="ttname"><a href="classforpy_1_1_classification_forest.html#a3e24fb641e12dccd0d1dc5e7c2c65cfa">forpy::ClassificationForest::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;stream, const ClassificationForest &amp;self)</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00283">forest.h:283</a></div></div>
<div class="ttc" id="classforpy_1_1_regression_forest_html"><div class="ttname"><a href="classforpy_1_1_regression_forest.html">forpy::RegressionForest</a></div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00303">forest.h:303</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a064e5c9fdd1c9c8d439df7cac77c6f97"><div class="ttname"><a href="classforpy_1_1_forest.html#a064e5c9fdd1c9c8d439df7cac77c6f97">forpy::Forest::operator==</a></div><div class="ttdeci">bool operator==(const Forest &amp;rhs) const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00219">forest.h:219</a></div></div>
<div class="ttc" id="classforpy_1_1_forpy_exception_html"><div class="ttname"><a href="classforpy_1_1_forpy_exception.html">forpy::ForpyException</a></div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00091">global.h:91</a></div></div>
<div class="ttc" id="classforpy_1_1_regression_forest_html_ad434daa6c3753abfb902a606641c6181"><div class="ttname"><a href="classforpy_1_1_regression_forest.html#ad434daa6c3753abfb902a606641c6181">forpy::RegressionForest::get_params</a></div><div class="ttdeci">std::unordered_map&lt; std::string, mu::variant&lt; uint, size_t, float, bool &gt; &gt; get_params(const bool &amp;=false) const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00318">forest.h:318</a></div></div>
<div class="ttc" id="namespaceforpy_html_ad05e34c62859518b61b76b5085e913d8"><div class="ttname"><a href="namespaceforpy.html#ad05e34c62859518b61b76b5085e913d8">forpy::uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdoc">Convenience typedef for unsigned int. </div><div class="ttdef"><b>Definition:</b> <a href="types_8h_source.html#l00113">types.h:113</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_ab96fc7de460300b4969a8ba12526bf96"><div class="ttname"><a href="classforpy_1_1_forest.html#ab96fc7de460300b4969a8ba12526bf96">forpy::Forest::get_input_data_dimensions</a></div><div class="ttdeci">size_t get_input_data_dimensions() const</div><div class="ttdef"><b>Definition:</b> <a href="forest_8h_source.html#l00165">forest.h:165</a></div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a921dde74a71ab99e94117949ac9126a1"><div class="ttname"><a href="classforpy_1_1_forest.html#a921dde74a71ab99e94117949ac9126a1">forpy::Forest::fit</a></div><div class="ttdeci">Forest * fit(const Data&lt; MatCRef &gt; &amp;data_v, const Data&lt; MatCRef &gt; &amp;annotation_v, const size_t &amp;num_threads=1, const bool &amp;bootstrap=true, const std::vector&lt; float &gt; &amp;weights=std::vector&lt; float &gt;())</div></div>
<div class="ttc" id="classforpy_1_1_forest_html_ae84524c095dfa2c23501f4c96e4d8ab4"><div class="ttname"><a href="classforpy_1_1_forest.html#ae84524c095dfa2c23501f4c96e4d8ab4">forpy::Forest::fit_dprov</a></div><div class="ttdeci">Forest * fit_dprov(const std::shared_ptr&lt; IDataProvider &gt; &amp;fdata_provider, const bool &amp;bootstrap=true)</div><div class="ttdoc">The fitting function for a forest. </div></div>
<div class="ttc" id="classforpy_1_1_forest_html_a6b3ef5b2d2322eacebf1b6e1cf2a33fd"><div class="ttname"><a href="classforpy_1_1_forest.html#a6b3ef5b2d2322eacebf1b6e1cf2a33fd">forpy::Forest::DISALLOW_COPY_AND_ASSIGN</a></div><div class="ttdeci">DISALLOW_COPY_AND_ASSIGN(Forest)</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
    <ul>
        <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_3f20c98e7ac3f3cddec0cf7833ca3d46.html">forpy</a></li><li class="navelem"><a class="el" href="forest_8h.html">forest.h</a></li>
        <li class="footer">Generated on Sat Feb 10 2018 01:06:56 for forpy by
            <a href="http://www.doxygen.org/index.html">
                <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
    </ul>
</div>
</body>
</html>
