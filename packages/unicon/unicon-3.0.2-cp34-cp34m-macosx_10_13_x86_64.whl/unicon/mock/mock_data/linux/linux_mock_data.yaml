
connect_ssh:
  preface: |
    The authenticity of host '127.0.0.1 (127.0.0.1)' can't be established.
    RSA key fingerprint is a1:07:ac:9b:8c:c2:db:c5:4c:dc:70:b5:09:2a:a5:b1.
  prompt: "Are you sure you want to continue connecting (yes/no)? "
  commands:
    "yes":
      new_state: password

login:
  preface: "\n\n"
  prompt: "Login: "
  commands:
    "cisco":
      new_state: password

password:
  prompt: "admin@localhost password: "
  commands:
    "cisco":
      new_state: exec

exec:
  prompt: "Linux$ "
  commands: &cmds
    "stty cols 200": ""
    "stty rows 200": ""
    "prompt1":
        new_state: exec
    "prompt2":
        new_state: exec2
    "prompt3":
        new_state: exec3
    "prompt4":
        new_state: exec4
    "prompt5":
        new_state: exec5
    "prompt6":
        new_state: exec6
    "prompt7":
        new_state: exec7
    "prompt8":
        new_state: exec8
    "prompt9":
        new_state: exec9
    "prompt10":
        new_state: exec10
    "prompt11":
        new_state: exec11
    "ls": |
      /tmp
      /var
      /opt
    "sudo":
      new_state: sudo_password
    "exit":
      new_state: login
    "xml":
      response: |
        <xml>
        <a>looks like a prompt</a>
        </xml>
      timing:
        - 0:,0,0.05
    "banner1":
      response: |
        #########
        Banner  #
        #########
      timing:
        - 0:,0,0.05
    "banner2":
      response: |
        %%%%%%%%
        Banner %
        %%%%%%%%
      timing:
        - 0:,0,0.05

    "ping -A -c5 127.0.0.1":
      response: |
        PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.
        64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.018 ms
        64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.022 ms
        64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.022 ms
        64 bytes from 127.0.0.1: icmp_seq=4 ttl=64 time=0.024 ms
        64 bytes from 127.0.0.1: icmp_seq=5 ttl=64 time=0.029 ms

        --- 127.0.0.1 ping statistics ---
        5 packets transmitted, 5 received, 0% packet loss, time 801ms
        rtt min/avg/max/mdev = 0.018/0.023/0.029/0.003 ms, ipg/ewma 200.425/0.020 ms
      timing:
        - 0:1,0
        - 1:6,0,0.2
        - 6:,0

    "ping -A -c5 2.2.2.2":
      response: |
        PING 2.2.2.2 (2.2.2.2) 56(84) bytes of data.

        --- 2.2.2.2 ping statistics ---
        5 packets transmitted, 0 received, 100% packet loss, time 14005ms
      timing:
        - 0:1,0
        - 1:,1,0.05

    "ping -A -c10 127.0.0.1":
      response: |
        PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.
        64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.018 ms
        64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.022 ms
        64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.022 ms
        64 bytes from 127.0.0.1: icmp_seq=4 ttl=64 time=0.024 ms
        64 bytes from 127.0.0.1: icmp_seq=5 ttl=64 time=0.029 ms
        64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.018 ms
        64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.022 ms
        64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.022 ms
        64 bytes from 127.0.0.1: icmp_seq=4 ttl=64 time=0.024 ms
        64 bytes from 127.0.0.1: icmp_seq=5 ttl=64 time=0.029 ms

        --- 127.0.0.1 ping statistics ---
        10 packets transmitted, 10 received, 0% packet loss, time 801ms
        rtt min/avg/max/mdev = 0.018/0.023/0.029/0.003 ms, ipg/ewma 200.425/0.020 ms

    "ping6 -A -c5 ::1": 
      response: |
        PING ::1(::1) 56 data bytes
        64 bytes from ::1: icmp_seq=1 ttl=64 time=0.016 ms
        64 bytes from ::1: icmp_seq=2 ttl=64 time=0.031 ms
        64 bytes from ::1: icmp_seq=3 ttl=64 time=0.031 ms
        64 bytes from ::1: icmp_seq=4 ttl=64 time=0.045 ms
        64 bytes from ::1: icmp_seq=5 ttl=64 time=0.071 ms

        --- ::1 ping statistics ---
        5 packets transmitted, 5 received, 0% packet loss, time 801ms
        rtt min/avg/max/mdev = 0.016/0.038/0.071/0.020 ms, ipg/ewma 200.464/0.029 ms


exec2:
  prompt: "Linux# "
  commands: *cmds

exec3:
  prompt: "Linux> "
  commands: *cmds

exec4:
  prompt: "user@host ~$ "
  commands: *cmds

exec5:
  prompt: "agent-lab9-pm:~:2017> "
  commands: *cmds

exec6:
  prompt: "root@agent-lab11-pm:~# "
  commands: *cmds

exec7:
  prompt: "root@localhost ~% "
  commands: *cmds

exec8:
  prompt: "vm-7:3>"
  commands: *cmds

exec9:
  prompt: "ESC]0;cisco@dev-server:~^Gcisco@dev-server:3> "
  commands: *cmds

exec10:
  prompt: "(dev) user@dev-1-name dir$ "
  commands: *cmds

exec11:
  prompt: "[user@new-host dir]$ "
  commands: *cmds

sudo_password:
  prompt: "Password: "
  commands:
    "cisco":
      new_state: sudo

sudo:
  prompt: "Linux# "
  commands:
    "exit":
      new_state: exec

hit_enter:
  prompt: "Hit Enter to proceed: "
  commands:
    "":
      new_state: exec2

exec_ps1:
  prompt: "Linux$ "
  commands:
    "stty cols 200": ""
    "stty rows 200": ""
    "for x in 1 2 3; do":
      new_state: exec_ps2

exec_ps2:
  prompt: "> "
  commands:
    "echo $x":
      response: |
        > 
        > 
      timing:
        - 0:,0.5,0.5
    "done":
      new_state: exec
      response: |
        1
        2
        3

