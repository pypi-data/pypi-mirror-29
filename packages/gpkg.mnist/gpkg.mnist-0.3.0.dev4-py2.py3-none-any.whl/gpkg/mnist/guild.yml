- config: mnist-base
  operations:
    train:
      description: 'Train the {{model_desc}}'
      cmd: '{{train_cmd}} --data-dir mnist-idx-data --run-dir .'
      requires: mnist/dataset
      flags:
        batch-size:
          description: Number of images to include in a training batch
          default: 100
        epochs:
          description: Number of epochs to train
          default: 10

- model: mnist-softmax
  description: Softmax regression classifier for MNIST
  extends: mnist-base
  params:
    model_desc: softmax regression
    train_cmd: softmax

- model: mnist-cnn
  description: CNN classifier for MNIST
  extends: mnist-base
  params:
    model_desc: CNN
    train_cmd: cnn
