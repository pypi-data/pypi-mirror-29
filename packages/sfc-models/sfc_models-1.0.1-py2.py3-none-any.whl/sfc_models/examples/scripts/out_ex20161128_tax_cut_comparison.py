
"""
out_ex20161128_tax_cut_comparison.py

Machine-generated model code

[Generated by:]
          SCEN1_GOV_F = SCEN1_GOV_LAG_F +SCEN1_GOV_T -SCEN1_GOV_DEM_GOOD                                 # [F] Financial assets
   SCEN1_GOV_FISC_BAL = SCEN1_GOV_T -SCEN1_GOV_DEM_GOOD                                                  # [FISC_BAL] Government Fiscal Balance
      SCEN1_GOV_LAG_F = SCEN1_GOV_F (k -1 )                                                              # [LAG_F] Previous periods financial assets.
          SCEN1_GOV_T = SCEN1_TF_T                                                                       # [T] Tax revenue received.
    SCEN1_HH_AfterTax = SCEN1_HH_PreTax -SCEN1_HH_T                                                      # [AfterTax] Aftertax income
    SCEN1_HH_AlphaFin = 0.5000                                                                           # [AlphaFin] Parameter for consumption out of financial assets
 SCEN1_HH_AlphaIncome = 0.7500                                                                           # [AlphaIncome] Parameter for consumption out of income
    SCEN1_HH_DEM_GOOD = SCEN1_HH_AlphaIncome *SCEN1_HH_AfterTax +SCEN1_HH_AlphaFin *SCEN1_HH_LAG_F       # [DEM_GOOD] Expenditure on goods consumption
           SCEN1_HH_F = SCEN1_HH_LAG_F -SCEN1_HH_T +SCEN1_HH_SUP_LAB -SCEN1_HH_DEM_GOOD                  # [F] Financial assets
       SCEN1_HH_LAG_F = SCEN1_HH_F (k -1 )                                                               # [LAG_F] Previous periods financial assets.
      SCEN1_HH_PreTax = SCEN1_HH_SUP_LAB                                                                 # [PreTax] Pretax income
     SCEN1_HH_SUP_LAB = SCEN1_BUS_DEM_LAB                                                                # [SUP_LAB] Supply of Labour
           SCEN1_HH_T = SCEN1_HH_TaxRate *SCEN1_HH_PreTax                                                # [T] Taxes paid.
   SCEN1_CAP_AfterTax = SCEN1_CAP_PreTax -SCEN1_CAP_T                                                    # [AfterTax] Aftertax income
   SCEN1_CAP_AlphaFin = 0.3000                                                                           # [AlphaFin] Parameter for consumption out of financial assets
SCEN1_CAP_AlphaIncome = 0.2000                                                                           # [AlphaIncome] Parameter for consumption out of income
   SCEN1_CAP_DEM_GOOD = SCEN1_CAP_AlphaIncome *SCEN1_CAP_AfterTax +SCEN1_CAP_AlphaFin *SCEN1_CAP_LAG_F   # [DEM_GOOD] Expenditure on goods consumption
        SCEN1_CAP_DIV = SCEN1_BUS_PROF                                                                   # [DIV] Dividends
          SCEN1_CAP_F = SCEN1_CAP_LAG_F +SCEN1_CAP_DIV -SCEN1_CAP_T -SCEN1_CAP_DEM_GOOD                  # [F] Financial assets
      SCEN1_CAP_LAG_F = SCEN1_CAP_F (k -1 )                                                              # [LAG_F] Previous periods financial assets.
     SCEN1_CAP_PreTax = SCEN1_CAP_DIV                                                                    # [PreTax] Pretax income
          SCEN1_CAP_T = SCEN1_CAP_TaxRate *SCEN1_CAP_PreTax                                              # [T] Taxes paid.
    SCEN1_CAP_TaxRate = 0.3                                                                              # [TaxRate] Tax rate for capitalists
    SCEN1_BUS_DEM_LAB = 0.800 *SCEN1_GOOD_SUP_GOOD                                                       # [DEM_LAB] Demand for labour
        SCEN1_BUS_DIV = SCEN1_BUS_PROF                                                                   # [DIV] Dividends paid
          SCEN1_BUS_F = SCEN1_BUS_LAG_F -SCEN1_BUS_DIV -SCEN1_BUS_DEM_LAB +SCEN1_BUS_SUP_GOOD            # [F] Financial assets
      SCEN1_BUS_LAG_F = SCEN1_BUS_F (k -1 )                                                              # [LAG_F] Previous periods financial assets.
       SCEN1_BUS_PROF = 0.200 *SCEN1_GOOD_SUP_GOOD                                                       # [PROF] Profits
   SCEN1_BUS_SUP_GOOD = SCEN1_GOV_DEM_GOOD +SCEN1_HH_DEM_GOOD +SCEN1_CAP_DEM_GOOD                        # [SUP_GOOD] Supply of goods
           SCEN1_TF_T = SCEN1_HH_TaxRate *SCEN1_HH_PreTax +SCEN1_CAP_TaxRate *SCEN1_CAP_PreTax           # [T] Taxes Paid
     SCEN1_TF_TaxRate = 0.2000                                                                           # [TaxRate] Tax rate
    SCEN1_LAB_DEM_LAB = SCEN1_BUS_DEM_LAB                                                                # [DEM_LAB] Demand for Market LAB
    SCEN1_LAB_SUP_LAB = SCEN1_LAB_DEM_LAB                                                                # [SUP_LAB] Supply for Market LAB
  SCEN1_GOOD_DEM_GOOD = SCEN1_GOV_DEM_GOOD +SCEN1_HH_DEM_GOOD +SCEN1_CAP_DEM_GOOD                        # [DEM_GOOD] Demand for Market GOOD
  SCEN1_GOOD_SUP_GOOD = SCEN1_GOOD_DEM_GOOD                                                              # [SUP_GOOD] Supply for Market GOOD
          SCEN2_GOV_F = SCEN2_GOV_LAG_F +SCEN2_GOV_T -SCEN2_GOV_DEM_GOOD                                 # [F] Financial assets
   SCEN2_GOV_FISC_BAL = SCEN2_GOV_T -SCEN2_GOV_DEM_GOOD                                                  # [FISC_BAL] Government Fiscal Balance
      SCEN2_GOV_LAG_F = SCEN2_GOV_F (k -1 )                                                              # [LAG_F] Previous periods financial assets.
          SCEN2_GOV_T = SCEN2_TF_T                                                                       # [T] Tax revenue received.
    SCEN2_HH_AfterTax = SCEN2_HH_PreTax -SCEN2_HH_T                                                      # [AfterTax] Aftertax income
    SCEN2_HH_AlphaFin = 0.5000                                                                           # [AlphaFin] Parameter for consumption out of financial assets
 SCEN2_HH_AlphaIncome = 0.7500                                                                           # [AlphaIncome] Parameter for consumption out of income
    SCEN2_HH_DEM_GOOD = SCEN2_HH_AlphaIncome *SCEN2_HH_AfterTax +SCEN2_HH_AlphaFin *SCEN2_HH_LAG_F       # [DEM_GOOD] Expenditure on goods consumption
           SCEN2_HH_F = SCEN2_HH_LAG_F -SCEN2_HH_T +SCEN2_HH_SUP_LAB -SCEN2_HH_DEM_GOOD                  # [F] Financial assets
       SCEN2_HH_LAG_F = SCEN2_HH_F (k -1 )                                                               # [LAG_F] Previous periods financial assets.
      SCEN2_HH_PreTax = SCEN2_HH_SUP_LAB                                                                 # [PreTax] Pretax income
     SCEN2_HH_SUP_LAB = SCEN2_BUS_DEM_LAB                                                                # [SUP_LAB] Supply of Labour
           SCEN2_HH_T = SCEN2_HH_TaxRate *SCEN2_HH_PreTax                                                # [T] Taxes paid.
     SCEN2_HH_TaxRate = .2                                                                               # [TaxRate] Tax rate for workers
   SCEN2_CAP_AfterTax = SCEN2_CAP_PreTax -SCEN2_CAP_T                                                    # [AfterTax] Aftertax income
   SCEN2_CAP_AlphaFin = 0.3000                                                                           # [AlphaFin] Parameter for consumption out of financial assets
SCEN2_CAP_AlphaIncome = 0.2000                                                                           # [AlphaIncome] Parameter for consumption out of income
   SCEN2_CAP_DEM_GOOD = SCEN2_CAP_AlphaIncome *SCEN2_CAP_AfterTax +SCEN2_CAP_AlphaFin *SCEN2_CAP_LAG_F   # [DEM_GOOD] Expenditure on goods consumption
        SCEN2_CAP_DIV = SCEN2_BUS_PROF                                                                   # [DIV] Dividends
          SCEN2_CAP_F = SCEN2_CAP_LAG_F +SCEN2_CAP_DIV -SCEN2_CAP_T -SCEN2_CAP_DEM_GOOD                  # [F] Financial assets
      SCEN2_CAP_LAG_F = SCEN2_CAP_F (k -1 )                                                              # [LAG_F] Previous periods financial assets.
     SCEN2_CAP_PreTax = SCEN2_CAP_DIV                                                                    # [PreTax] Pretax income
          SCEN2_CAP_T = SCEN2_CAP_TaxRate *SCEN2_CAP_PreTax                                              # [T] Taxes paid.
    SCEN2_BUS_DEM_LAB = 0.800 *SCEN2_GOOD_SUP_GOOD                                                       # [DEM_LAB] Demand for labour
        SCEN2_BUS_DIV = SCEN2_BUS_PROF                                                                   # [DIV] Dividends paid
          SCEN2_BUS_F = SCEN2_BUS_LAG_F -SCEN2_BUS_DIV -SCEN2_BUS_DEM_LAB +SCEN2_BUS_SUP_GOOD            # [F] Financial assets
      SCEN2_BUS_LAG_F = SCEN2_BUS_F (k -1 )                                                              # [LAG_F] Previous periods financial assets.
       SCEN2_BUS_PROF = 0.200 *SCEN2_GOOD_SUP_GOOD                                                       # [PROF] Profits
   SCEN2_BUS_SUP_GOOD = SCEN2_GOV_DEM_GOOD +SCEN2_HH_DEM_GOOD +SCEN2_CAP_DEM_GOOD                        # [SUP_GOOD] Supply of goods
           SCEN2_TF_T = SCEN2_HH_TaxRate *SCEN2_HH_PreTax +SCEN2_CAP_TaxRate *SCEN2_CAP_PreTax           # [T] Taxes Paid
     SCEN2_TF_TaxRate = 0.2000                                                                           # [TaxRate] Tax rate
    SCEN2_LAB_DEM_LAB = SCEN2_BUS_DEM_LAB                                                                # [DEM_LAB] Demand for Market LAB
    SCEN2_LAB_SUP_LAB = SCEN2_LAB_DEM_LAB                                                                # [SUP_LAB] Supply for Market LAB
  SCEN2_GOOD_DEM_GOOD = SCEN2_GOV_DEM_GOOD +SCEN2_HH_DEM_GOOD +SCEN2_CAP_DEM_GOOD                        # [DEM_GOOD] Demand for Market GOOD
  SCEN2_GOOD_SUP_GOOD = SCEN2_GOOD_DEM_GOOD                                                              # [SUP_GOOD] Supply for Market GOOD
        SCEN1_HH_F(0) = 29.09                                                                            # Initial Condition
       SCEN1_CAP_F(0) = 33.94                                                                            # Initial Condition
        SCEN2_HH_F(0) = 29.09                                                                            # Initial Condition
       SCEN2_CAP_F(0) = 33.94                                                                            # Initial Condition

# Exogenous Variables

   SCEN1_GOV_DEM_GOOD =  [20. ,]*105                                                                     # [DEM_GOOD] Government Consumption of Goods
     SCEN1_HH_TaxRate =  [0.2 ,]*5 +[0.186 ,]*100                                                        # [TaxRate] Tax rate for workers
   SCEN2_GOV_DEM_GOOD =  [20. ,]*105                                                                     # [DEM_GOOD] Government Consumption of Goods
    SCEN2_CAP_TaxRate =  [0.3 ,]*5 +[0.245 ,]*100                                                        # [TaxRate] Tax rate for capitalists

MaxTime = 100
Err_Tolerance=0.001
"""

from pprint import pprint
# Bring in all the math functions by default.
from math import *

from sfc_models.base_solver import BaseSolver


class SFCModel(BaseSolver):
    """
    Model

    Implements the following system of equations.

    Endogenous variables and parameters
    ===================================
    SCEN1_GOV_F = SCEN1_GOV_LAG_F+SCEN1_TF_T-SCEN1_GOV_DEM_GOOD,
    SCEN1_HH_AfterTax = SCEN1_BUS_DEM_LAB-SCEN1_HH_T,
    SCEN1_HH_AlphaFin = 0.5000,
    SCEN1_HH_AlphaIncome = 0.7500,
    SCEN1_HH_DEM_GOOD = SCEN1_HH_AlphaIncome*SCEN1_HH_AfterTax+SCEN1_HH_AlphaFin*SCEN1_HH_LAG_F,
    SCEN1_HH_F = SCEN1_HH_LAG_F-SCEN1_HH_T+SCEN1_BUS_DEM_LAB-SCEN1_HH_DEM_GOOD,
    SCEN1_HH_T = SCEN1_HH_TaxRate*SCEN1_BUS_DEM_LAB,
    SCEN1_CAP_AfterTax = SCEN1_BUS_PROF-SCEN1_CAP_T,
    SCEN1_CAP_AlphaFin = 0.3000,
    SCEN1_CAP_AlphaIncome = 0.2000,
    SCEN1_CAP_DEM_GOOD = SCEN1_CAP_AlphaIncome*SCEN1_CAP_AfterTax+SCEN1_CAP_AlphaFin*SCEN1_CAP_LAG_F,
    SCEN1_CAP_F = SCEN1_CAP_LAG_F+SCEN1_BUS_PROF-SCEN1_CAP_T-SCEN1_CAP_DEM_GOOD,
    SCEN1_CAP_T = SCEN1_CAP_TaxRate*SCEN1_BUS_PROF,
    SCEN1_CAP_TaxRate = 0.3,
    SCEN1_BUS_DEM_LAB = 0.800*SCEN1_GOOD_DEM_GOOD,
    SCEN1_BUS_F = SCEN1_BUS_LAG_F-SCEN1_BUS_PROF-SCEN1_BUS_DEM_LAB+SCEN1_BUS_SUP_GOOD,
    SCEN1_BUS_PROF = 0.200*SCEN1_GOOD_DEM_GOOD,
    SCEN1_BUS_SUP_GOOD = SCEN1_GOV_DEM_GOOD+SCEN1_HH_DEM_GOOD+SCEN1_CAP_DEM_GOOD,
    SCEN1_TF_T = SCEN1_HH_TaxRate*SCEN1_BUS_DEM_LAB+SCEN1_CAP_TaxRate*SCEN1_BUS_PROF,
    SCEN1_GOOD_DEM_GOOD = SCEN1_GOV_DEM_GOOD+SCEN1_HH_DEM_GOOD+SCEN1_CAP_DEM_GOOD,
    SCEN2_GOV_F = SCEN2_GOV_LAG_F+SCEN2_TF_T-SCEN2_GOV_DEM_GOOD,
    SCEN2_HH_AfterTax = SCEN2_BUS_DEM_LAB-SCEN2_HH_T,
    SCEN2_HH_AlphaFin = 0.5000,
    SCEN2_HH_AlphaIncome = 0.7500,
    SCEN2_HH_DEM_GOOD = SCEN2_HH_AlphaIncome*SCEN2_HH_AfterTax+SCEN2_HH_AlphaFin*SCEN2_HH_LAG_F,
    SCEN2_HH_F = SCEN2_HH_LAG_F-SCEN2_HH_T+SCEN2_BUS_DEM_LAB-SCEN2_HH_DEM_GOOD,
    SCEN2_HH_T = SCEN2_HH_TaxRate*SCEN2_BUS_DEM_LAB,
    SCEN2_HH_TaxRate = .2,
    SCEN2_CAP_AfterTax = SCEN2_BUS_PROF-SCEN2_CAP_T,
    SCEN2_CAP_AlphaFin = 0.3000,
    SCEN2_CAP_AlphaIncome = 0.2000,
    SCEN2_CAP_DEM_GOOD = SCEN2_CAP_AlphaIncome*SCEN2_CAP_AfterTax+SCEN2_CAP_AlphaFin*SCEN2_CAP_LAG_F,
    SCEN2_CAP_F = SCEN2_CAP_LAG_F+SCEN2_BUS_PROF-SCEN2_CAP_T-SCEN2_CAP_DEM_GOOD,
    SCEN2_CAP_T = SCEN2_CAP_TaxRate*SCEN2_BUS_PROF,
    SCEN2_BUS_DEM_LAB = 0.800*SCEN2_GOOD_DEM_GOOD,
    SCEN2_BUS_F = SCEN2_BUS_LAG_F-SCEN2_BUS_PROF-SCEN2_BUS_DEM_LAB+SCEN2_BUS_SUP_GOOD,
    SCEN2_BUS_PROF = 0.200*SCEN2_GOOD_DEM_GOOD,
    SCEN2_BUS_SUP_GOOD = SCEN2_GOV_DEM_GOOD+SCEN2_HH_DEM_GOOD+SCEN2_CAP_DEM_GOOD,
    SCEN2_TF_T = SCEN2_HH_TaxRate*SCEN2_BUS_DEM_LAB+SCEN2_CAP_TaxRate*SCEN2_BUS_PROF,
    SCEN2_GOOD_DEM_GOOD = SCEN2_GOV_DEM_GOOD+SCEN2_HH_DEM_GOOD+SCEN2_CAP_DEM_GOOD,
    SCEN1_GOV_FISC_BAL = SCEN1_TF_T-SCEN1_GOV_DEM_GOOD,
    SCEN1_GOV_T = SCEN1_TF_T,
    SCEN1_HH_PreTax = SCEN1_BUS_DEM_LAB,
    SCEN1_HH_SUP_LAB = SCEN1_BUS_DEM_LAB,
    SCEN1_CAP_PreTax = SCEN1_BUS_PROF,
    SCEN1_BUS_DIV = SCEN1_BUS_PROF,
    SCEN1_TF_TaxRate = 0.2000,
    SCEN1_LAB_DEM_LAB = SCEN1_BUS_DEM_LAB,
    SCEN1_LAB_SUP_LAB = SCEN1_BUS_DEM_LAB,
    SCEN1_GOOD_SUP_GOOD = SCEN1_GOOD_DEM_GOOD,
    SCEN2_GOV_FISC_BAL = SCEN2_TF_T-SCEN2_GOV_DEM_GOOD,
    SCEN2_GOV_T = SCEN2_TF_T,
    SCEN2_HH_PreTax = SCEN2_BUS_DEM_LAB,
    SCEN2_HH_SUP_LAB = SCEN2_BUS_DEM_LAB,
    SCEN2_CAP_PreTax = SCEN2_BUS_PROF,
    SCEN2_BUS_DIV = SCEN2_BUS_PROF,
    SCEN2_TF_TaxRate = 0.2000,
    SCEN2_LAB_DEM_LAB = SCEN2_BUS_DEM_LAB,
    SCEN2_LAB_SUP_LAB = SCEN2_BUS_DEM_LAB,
    SCEN2_GOOD_SUP_GOOD = SCEN2_GOOD_DEM_GOOD,
    t = t_minus_1+1.0,
    SCEN1_CAP_DIV = SCEN1_BUS_PROF,
    SCEN2_CAP_DIV = SCEN2_BUS_PROF.
    Where lagged variables are:
    SCEN1_GOV_LAG_F(t) = SCEN1_GOV_F(k-1),
    SCEN1_HH_LAG_F(t) = SCEN1_HH_F(k-1),
    SCEN1_CAP_LAG_F(t) = SCEN1_CAP_F(k-1),
    SCEN1_BUS_LAG_F(t) = SCEN1_BUS_F(k-1),
    SCEN2_GOV_LAG_F(t) = SCEN2_GOV_F(k-1),
    SCEN2_HH_LAG_F(t) = SCEN2_HH_F(k-1),
    SCEN2_CAP_LAG_F(t) = SCEN2_CAP_F(k-1),
    SCEN2_BUS_LAG_F(t) = SCEN2_BUS_F(k-1),
    t_minus_1(t) = t(k-1).
    
    Initial Conditions:
    SCEN2_HH_F(0) = 29.09,
    SCEN1_HH_F(0) = 29.09,
    SCEN2_CAP_F(0) = 33.94,
    SCEN1_CAP_F(0) = 33.94.
    
    Exogenous Variables
    ===================
    SCEN1_GOV_DEM_GOOD,
    SCEN1_HH_TaxRate,
    SCEN2_GOV_DEM_GOOD,
    SCEN2_CAP_TaxRate.

    """
    def __init__(self):
        BaseSolver.__init__(self, ['SCEN1_GOV_F', 'SCEN1_HH_AfterTax', 'SCEN1_HH_AlphaFin', 'SCEN1_HH_AlphaIncome', 'SCEN1_HH_DEM_GOOD', 'SCEN1_HH_F', 'SCEN1_HH_T', 'SCEN1_CAP_AfterTax', 'SCEN1_CAP_AlphaFin', 'SCEN1_CAP_AlphaIncome', 'SCEN1_CAP_DEM_GOOD', 'SCEN1_CAP_F', 'SCEN1_CAP_T', 'SCEN1_CAP_TaxRate', 'SCEN1_BUS_DEM_LAB', 'SCEN1_BUS_F', 'SCEN1_BUS_PROF', 'SCEN1_BUS_SUP_GOOD', 'SCEN1_TF_T', 'SCEN1_GOOD_DEM_GOOD', 'SCEN2_GOV_F', 'SCEN2_HH_AfterTax', 'SCEN2_HH_AlphaFin', 'SCEN2_HH_AlphaIncome', 'SCEN2_HH_DEM_GOOD', 'SCEN2_HH_F', 'SCEN2_HH_T', 'SCEN2_HH_TaxRate', 'SCEN2_CAP_AfterTax', 'SCEN2_CAP_AlphaFin', 'SCEN2_CAP_AlphaIncome', 'SCEN2_CAP_DEM_GOOD', 'SCEN2_CAP_F', 'SCEN2_CAP_T', 'SCEN2_BUS_DEM_LAB', 'SCEN2_BUS_F', 'SCEN2_BUS_PROF', 'SCEN2_BUS_SUP_GOOD', 'SCEN2_TF_T', 'SCEN2_GOOD_DEM_GOOD', 'SCEN1_GOV_FISC_BAL', 'SCEN1_GOV_T', 'SCEN1_HH_PreTax', 'SCEN1_HH_SUP_LAB', 'SCEN1_CAP_PreTax', 'SCEN1_BUS_DIV', 'SCEN1_TF_TaxRate', 'SCEN1_LAB_DEM_LAB', 'SCEN1_LAB_SUP_LAB', 'SCEN1_GOOD_SUP_GOOD', 'SCEN2_GOV_FISC_BAL', 'SCEN2_GOV_T', 'SCEN2_HH_PreTax', 'SCEN2_HH_SUP_LAB', 'SCEN2_CAP_PreTax', 'SCEN2_BUS_DIV', 'SCEN2_TF_TaxRate', 'SCEN2_LAB_DEM_LAB', 'SCEN2_LAB_SUP_LAB', 'SCEN2_GOOD_SUP_GOOD', 't', 'SCEN1_CAP_DIV', 'SCEN2_CAP_DIV', 'SCEN1_GOV_DEM_GOOD', 'SCEN1_HH_TaxRate', 'SCEN2_GOV_DEM_GOOD', 'SCEN2_CAP_TaxRate'])
        self.MaxIterations = 400
        self.MaxTime = 100
        # Current time step. Call this "STEP" and not time so that users
        # can create a custom time axis variable.
        self.STEP = 0
        self.PrintIterations = False
        self.Err_Tolerance = 0.001
        self.SCEN1_GOV_F = [0., ]
        self.SCEN1_HH_AfterTax = [0., ]
        self.SCEN1_HH_AlphaFin = [0.5000, ]
        self.SCEN1_HH_AlphaIncome = [0.7500, ]
        self.SCEN1_HH_DEM_GOOD = [0., ]
        self.SCEN1_HH_F = [29.09, ]
        self.SCEN1_HH_T = [0., ]
        self.SCEN1_CAP_AfterTax = [0., ]
        self.SCEN1_CAP_AlphaFin = [0.3000, ]
        self.SCEN1_CAP_AlphaIncome = [0.2000, ]
        self.SCEN1_CAP_DEM_GOOD = [0., ]
        self.SCEN1_CAP_F = [33.94, ]
        self.SCEN1_CAP_T = [0., ]
        self.SCEN1_CAP_TaxRate = [0.3, ]
        self.SCEN1_BUS_DEM_LAB = [0., ]
        self.SCEN1_BUS_F = [0., ]
        self.SCEN1_BUS_PROF = [0., ]
        self.SCEN1_BUS_SUP_GOOD = [0., ]
        self.SCEN1_TF_T = [0., ]
        self.SCEN1_GOOD_DEM_GOOD = [0., ]
        self.SCEN2_GOV_F = [0., ]
        self.SCEN2_HH_AfterTax = [0., ]
        self.SCEN2_HH_AlphaFin = [0.5000, ]
        self.SCEN2_HH_AlphaIncome = [0.7500, ]
        self.SCEN2_HH_DEM_GOOD = [0., ]
        self.SCEN2_HH_F = [29.09, ]
        self.SCEN2_HH_T = [0., ]
        self.SCEN2_HH_TaxRate = [.2, ]
        self.SCEN2_CAP_AfterTax = [0., ]
        self.SCEN2_CAP_AlphaFin = [0.3000, ]
        self.SCEN2_CAP_AlphaIncome = [0.2000, ]
        self.SCEN2_CAP_DEM_GOOD = [0., ]
        self.SCEN2_CAP_F = [33.94, ]
        self.SCEN2_CAP_T = [0., ]
        self.SCEN2_BUS_DEM_LAB = [0., ]
        self.SCEN2_BUS_F = [0., ]
        self.SCEN2_BUS_PROF = [0., ]
        self.SCEN2_BUS_SUP_GOOD = [0., ]
        self.SCEN2_TF_T = [0., ]
        self.SCEN2_GOOD_DEM_GOOD = [0., ]
        self.SCEN1_GOV_FISC_BAL = [0., ]
        self.SCEN1_GOV_T = [0., ]
        self.SCEN1_HH_PreTax = [0., ]
        self.SCEN1_HH_SUP_LAB = [0., ]
        self.SCEN1_CAP_PreTax = [0., ]
        self.SCEN1_BUS_DIV = [0., ]
        self.SCEN1_TF_TaxRate = [0.2000, ]
        self.SCEN1_LAB_DEM_LAB = [0., ]
        self.SCEN1_LAB_SUP_LAB = [0., ]
        self.SCEN1_GOOD_SUP_GOOD = [0., ]
        self.SCEN2_GOV_FISC_BAL = [0., ]
        self.SCEN2_GOV_T = [0., ]
        self.SCEN2_HH_PreTax = [0., ]
        self.SCEN2_HH_SUP_LAB = [0., ]
        self.SCEN2_CAP_PreTax = [0., ]
        self.SCEN2_BUS_DIV = [0., ]
        self.SCEN2_TF_TaxRate = [0.2000, ]
        self.SCEN2_LAB_DEM_LAB = [0., ]
        self.SCEN2_LAB_SUP_LAB = [0., ]
        self.SCEN2_GOOD_SUP_GOOD = [0., ]
        self.t = [0., ]
        self.SCEN1_CAP_DIV = [0., ]
        self.SCEN2_CAP_DIV = [0., ]
        self.SCEN1_GOV_DEM_GOOD = [20. ,]*105
        self.SCEN1_HH_TaxRate = [0.2 ,]*5 +[0.186 ,]*100
        self.SCEN2_GOV_DEM_GOOD = [20. ,]*105
        self.SCEN2_CAP_TaxRate = [0.3 ,]*5 +[0.245 ,]*100
        #  Make sure exogenous variables are not longer than time frame
        self.SCEN1_GOV_DEM_GOOD = self.SCEN1_GOV_DEM_GOOD[0:101]
        self.SCEN1_HH_TaxRate = self.SCEN1_HH_TaxRate[0:101]
        self.SCEN2_GOV_DEM_GOOD = self.SCEN2_GOV_DEM_GOOD[0:101]
        self.SCEN2_CAP_TaxRate = self.SCEN2_CAP_TaxRate[0:101]


    @staticmethod
    def Iterator(in_vec):
        SCEN1_GOV_F, SCEN1_HH_AfterTax, SCEN1_HH_AlphaFin, SCEN1_HH_AlphaIncome, SCEN1_HH_DEM_GOOD, SCEN1_HH_F, SCEN1_HH_T, SCEN1_CAP_AfterTax, SCEN1_CAP_AlphaFin, SCEN1_CAP_AlphaIncome, SCEN1_CAP_DEM_GOOD, SCEN1_CAP_F, SCEN1_CAP_T, SCEN1_CAP_TaxRate, SCEN1_BUS_DEM_LAB, SCEN1_BUS_F, SCEN1_BUS_PROF, SCEN1_BUS_SUP_GOOD, SCEN1_TF_T, SCEN1_GOOD_DEM_GOOD, SCEN2_GOV_F, SCEN2_HH_AfterTax, SCEN2_HH_AlphaFin, SCEN2_HH_AlphaIncome, SCEN2_HH_DEM_GOOD, SCEN2_HH_F, SCEN2_HH_T, SCEN2_HH_TaxRate, SCEN2_CAP_AfterTax, SCEN2_CAP_AlphaFin, SCEN2_CAP_AlphaIncome, SCEN2_CAP_DEM_GOOD, SCEN2_CAP_F, SCEN2_CAP_T, SCEN2_BUS_DEM_LAB, SCEN2_BUS_F, SCEN2_BUS_PROF, SCEN2_BUS_SUP_GOOD, SCEN2_TF_T, SCEN2_GOOD_DEM_GOOD, SCEN1_GOV_FISC_BAL, SCEN1_GOV_T, SCEN1_HH_PreTax, SCEN1_HH_SUP_LAB, SCEN1_CAP_PreTax, SCEN1_BUS_DIV, SCEN1_TF_TaxRate, SCEN1_LAB_DEM_LAB, SCEN1_LAB_SUP_LAB, SCEN1_GOOD_SUP_GOOD, SCEN2_GOV_FISC_BAL, SCEN2_GOV_T, SCEN2_HH_PreTax, SCEN2_HH_SUP_LAB, SCEN2_CAP_PreTax, SCEN2_BUS_DIV, SCEN2_TF_TaxRate, SCEN2_LAB_DEM_LAB, SCEN2_LAB_SUP_LAB, SCEN2_GOOD_SUP_GOOD, t, SCEN1_CAP_DIV, SCEN2_CAP_DIV, SCEN1_GOV_LAG_F, SCEN1_HH_LAG_F, SCEN1_CAP_LAG_F, SCEN1_BUS_LAG_F, SCEN2_GOV_LAG_F, SCEN2_HH_LAG_F, SCEN2_CAP_LAG_F, SCEN2_BUS_LAG_F, t_minus_1, SCEN1_GOV_DEM_GOOD, SCEN1_HH_TaxRate, SCEN2_GOV_DEM_GOOD, SCEN2_CAP_TaxRate = in_vec 
        NEW_SCEN1_GOV_F = SCEN1_GOV_LAG_F+SCEN1_TF_T-SCEN1_GOV_DEM_GOOD
        NEW_SCEN1_HH_AfterTax = SCEN1_BUS_DEM_LAB-SCEN1_HH_T
        NEW_SCEN1_HH_AlphaFin = 0.5000
        NEW_SCEN1_HH_AlphaIncome = 0.7500
        NEW_SCEN1_HH_DEM_GOOD = SCEN1_HH_AlphaIncome*SCEN1_HH_AfterTax+SCEN1_HH_AlphaFin*SCEN1_HH_LAG_F
        NEW_SCEN1_HH_F = SCEN1_HH_LAG_F-SCEN1_HH_T+SCEN1_BUS_DEM_LAB-SCEN1_HH_DEM_GOOD
        NEW_SCEN1_HH_T = SCEN1_HH_TaxRate*SCEN1_BUS_DEM_LAB
        NEW_SCEN1_CAP_AfterTax = SCEN1_BUS_PROF-SCEN1_CAP_T
        NEW_SCEN1_CAP_AlphaFin = 0.3000
        NEW_SCEN1_CAP_AlphaIncome = 0.2000
        NEW_SCEN1_CAP_DEM_GOOD = SCEN1_CAP_AlphaIncome*SCEN1_CAP_AfterTax+SCEN1_CAP_AlphaFin*SCEN1_CAP_LAG_F
        NEW_SCEN1_CAP_F = SCEN1_CAP_LAG_F+SCEN1_BUS_PROF-SCEN1_CAP_T-SCEN1_CAP_DEM_GOOD
        NEW_SCEN1_CAP_T = SCEN1_CAP_TaxRate*SCEN1_BUS_PROF
        NEW_SCEN1_CAP_TaxRate = 0.3
        NEW_SCEN1_BUS_DEM_LAB = 0.800*SCEN1_GOOD_DEM_GOOD
        NEW_SCEN1_BUS_F = SCEN1_BUS_LAG_F-SCEN1_BUS_PROF-SCEN1_BUS_DEM_LAB+SCEN1_BUS_SUP_GOOD
        NEW_SCEN1_BUS_PROF = 0.200*SCEN1_GOOD_DEM_GOOD
        NEW_SCEN1_BUS_SUP_GOOD = SCEN1_GOV_DEM_GOOD+SCEN1_HH_DEM_GOOD+SCEN1_CAP_DEM_GOOD
        NEW_SCEN1_TF_T = SCEN1_HH_TaxRate*SCEN1_BUS_DEM_LAB+SCEN1_CAP_TaxRate*SCEN1_BUS_PROF
        NEW_SCEN1_GOOD_DEM_GOOD = SCEN1_GOV_DEM_GOOD+SCEN1_HH_DEM_GOOD+SCEN1_CAP_DEM_GOOD
        NEW_SCEN2_GOV_F = SCEN2_GOV_LAG_F+SCEN2_TF_T-SCEN2_GOV_DEM_GOOD
        NEW_SCEN2_HH_AfterTax = SCEN2_BUS_DEM_LAB-SCEN2_HH_T
        NEW_SCEN2_HH_AlphaFin = 0.5000
        NEW_SCEN2_HH_AlphaIncome = 0.7500
        NEW_SCEN2_HH_DEM_GOOD = SCEN2_HH_AlphaIncome*SCEN2_HH_AfterTax+SCEN2_HH_AlphaFin*SCEN2_HH_LAG_F
        NEW_SCEN2_HH_F = SCEN2_HH_LAG_F-SCEN2_HH_T+SCEN2_BUS_DEM_LAB-SCEN2_HH_DEM_GOOD
        NEW_SCEN2_HH_T = SCEN2_HH_TaxRate*SCEN2_BUS_DEM_LAB
        NEW_SCEN2_HH_TaxRate = .2
        NEW_SCEN2_CAP_AfterTax = SCEN2_BUS_PROF-SCEN2_CAP_T
        NEW_SCEN2_CAP_AlphaFin = 0.3000
        NEW_SCEN2_CAP_AlphaIncome = 0.2000
        NEW_SCEN2_CAP_DEM_GOOD = SCEN2_CAP_AlphaIncome*SCEN2_CAP_AfterTax+SCEN2_CAP_AlphaFin*SCEN2_CAP_LAG_F
        NEW_SCEN2_CAP_F = SCEN2_CAP_LAG_F+SCEN2_BUS_PROF-SCEN2_CAP_T-SCEN2_CAP_DEM_GOOD
        NEW_SCEN2_CAP_T = SCEN2_CAP_TaxRate*SCEN2_BUS_PROF
        NEW_SCEN2_BUS_DEM_LAB = 0.800*SCEN2_GOOD_DEM_GOOD
        NEW_SCEN2_BUS_F = SCEN2_BUS_LAG_F-SCEN2_BUS_PROF-SCEN2_BUS_DEM_LAB+SCEN2_BUS_SUP_GOOD
        NEW_SCEN2_BUS_PROF = 0.200*SCEN2_GOOD_DEM_GOOD
        NEW_SCEN2_BUS_SUP_GOOD = SCEN2_GOV_DEM_GOOD+SCEN2_HH_DEM_GOOD+SCEN2_CAP_DEM_GOOD
        NEW_SCEN2_TF_T = SCEN2_HH_TaxRate*SCEN2_BUS_DEM_LAB+SCEN2_CAP_TaxRate*SCEN2_BUS_PROF
        NEW_SCEN2_GOOD_DEM_GOOD = SCEN2_GOV_DEM_GOOD+SCEN2_HH_DEM_GOOD+SCEN2_CAP_DEM_GOOD
        NEW_SCEN1_GOV_FISC_BAL = SCEN1_TF_T-SCEN1_GOV_DEM_GOOD
        NEW_SCEN1_GOV_T = SCEN1_TF_T
        NEW_SCEN1_HH_PreTax = SCEN1_BUS_DEM_LAB
        NEW_SCEN1_HH_SUP_LAB = SCEN1_BUS_DEM_LAB
        NEW_SCEN1_CAP_PreTax = SCEN1_BUS_PROF
        NEW_SCEN1_BUS_DIV = SCEN1_BUS_PROF
        NEW_SCEN1_TF_TaxRate = 0.2000
        NEW_SCEN1_LAB_DEM_LAB = SCEN1_BUS_DEM_LAB
        NEW_SCEN1_LAB_SUP_LAB = SCEN1_BUS_DEM_LAB
        NEW_SCEN1_GOOD_SUP_GOOD = SCEN1_GOOD_DEM_GOOD
        NEW_SCEN2_GOV_FISC_BAL = SCEN2_TF_T-SCEN2_GOV_DEM_GOOD
        NEW_SCEN2_GOV_T = SCEN2_TF_T
        NEW_SCEN2_HH_PreTax = SCEN2_BUS_DEM_LAB
        NEW_SCEN2_HH_SUP_LAB = SCEN2_BUS_DEM_LAB
        NEW_SCEN2_CAP_PreTax = SCEN2_BUS_PROF
        NEW_SCEN2_BUS_DIV = SCEN2_BUS_PROF
        NEW_SCEN2_TF_TaxRate = 0.2000
        NEW_SCEN2_LAB_DEM_LAB = SCEN2_BUS_DEM_LAB
        NEW_SCEN2_LAB_SUP_LAB = SCEN2_BUS_DEM_LAB
        NEW_SCEN2_GOOD_SUP_GOOD = SCEN2_GOOD_DEM_GOOD
        NEW_t = t_minus_1+1.0
        NEW_SCEN1_CAP_DIV = SCEN1_BUS_PROF
        NEW_SCEN2_CAP_DIV = SCEN2_BUS_PROF
        NEW_SCEN1_GOV_LAG_F = SCEN1_GOV_LAG_F
        NEW_SCEN1_HH_LAG_F = SCEN1_HH_LAG_F
        NEW_SCEN1_CAP_LAG_F = SCEN1_CAP_LAG_F
        NEW_SCEN1_BUS_LAG_F = SCEN1_BUS_LAG_F
        NEW_SCEN2_GOV_LAG_F = SCEN2_GOV_LAG_F
        NEW_SCEN2_HH_LAG_F = SCEN2_HH_LAG_F
        NEW_SCEN2_CAP_LAG_F = SCEN2_CAP_LAG_F
        NEW_SCEN2_BUS_LAG_F = SCEN2_BUS_LAG_F
        NEW_t_minus_1 = t_minus_1
        NEW_SCEN1_GOV_DEM_GOOD = SCEN1_GOV_DEM_GOOD
        NEW_SCEN1_HH_TaxRate = SCEN1_HH_TaxRate
        NEW_SCEN2_GOV_DEM_GOOD = SCEN2_GOV_DEM_GOOD
        NEW_SCEN2_CAP_TaxRate = SCEN2_CAP_TaxRate
        return NEW_SCEN1_GOV_F, NEW_SCEN1_HH_AfterTax, NEW_SCEN1_HH_AlphaFin, NEW_SCEN1_HH_AlphaIncome, NEW_SCEN1_HH_DEM_GOOD, NEW_SCEN1_HH_F, NEW_SCEN1_HH_T, NEW_SCEN1_CAP_AfterTax, NEW_SCEN1_CAP_AlphaFin, NEW_SCEN1_CAP_AlphaIncome, NEW_SCEN1_CAP_DEM_GOOD, NEW_SCEN1_CAP_F, NEW_SCEN1_CAP_T, NEW_SCEN1_CAP_TaxRate, NEW_SCEN1_BUS_DEM_LAB, NEW_SCEN1_BUS_F, NEW_SCEN1_BUS_PROF, NEW_SCEN1_BUS_SUP_GOOD, NEW_SCEN1_TF_T, NEW_SCEN1_GOOD_DEM_GOOD, NEW_SCEN2_GOV_F, NEW_SCEN2_HH_AfterTax, NEW_SCEN2_HH_AlphaFin, NEW_SCEN2_HH_AlphaIncome, NEW_SCEN2_HH_DEM_GOOD, NEW_SCEN2_HH_F, NEW_SCEN2_HH_T, NEW_SCEN2_HH_TaxRate, NEW_SCEN2_CAP_AfterTax, NEW_SCEN2_CAP_AlphaFin, NEW_SCEN2_CAP_AlphaIncome, NEW_SCEN2_CAP_DEM_GOOD, NEW_SCEN2_CAP_F, NEW_SCEN2_CAP_T, NEW_SCEN2_BUS_DEM_LAB, NEW_SCEN2_BUS_F, NEW_SCEN2_BUS_PROF, NEW_SCEN2_BUS_SUP_GOOD, NEW_SCEN2_TF_T, NEW_SCEN2_GOOD_DEM_GOOD, NEW_SCEN1_GOV_FISC_BAL, NEW_SCEN1_GOV_T, NEW_SCEN1_HH_PreTax, NEW_SCEN1_HH_SUP_LAB, NEW_SCEN1_CAP_PreTax, NEW_SCEN1_BUS_DIV, NEW_SCEN1_TF_TaxRate, NEW_SCEN1_LAB_DEM_LAB, NEW_SCEN1_LAB_SUP_LAB, NEW_SCEN1_GOOD_SUP_GOOD, NEW_SCEN2_GOV_FISC_BAL, NEW_SCEN2_GOV_T, NEW_SCEN2_HH_PreTax, NEW_SCEN2_HH_SUP_LAB, NEW_SCEN2_CAP_PreTax, NEW_SCEN2_BUS_DIV, NEW_SCEN2_TF_TaxRate, NEW_SCEN2_LAB_DEM_LAB, NEW_SCEN2_LAB_SUP_LAB, NEW_SCEN2_GOOD_SUP_GOOD, NEW_t, NEW_SCEN1_CAP_DIV, NEW_SCEN2_CAP_DIV, NEW_SCEN1_GOV_LAG_F, NEW_SCEN1_HH_LAG_F, NEW_SCEN1_CAP_LAG_F, NEW_SCEN1_BUS_LAG_F, NEW_SCEN2_GOV_LAG_F, NEW_SCEN2_HH_LAG_F, NEW_SCEN2_CAP_LAG_F, NEW_SCEN2_BUS_LAG_F, NEW_t_minus_1, NEW_SCEN1_GOV_DEM_GOOD, NEW_SCEN1_HH_TaxRate, NEW_SCEN2_GOV_DEM_GOOD, NEW_SCEN2_CAP_TaxRate


    def main(self):
        while self.STEP < self.MaxTime:
            self.RunOneStep()

    def RunOneStep(self):
        self.STEP += 1
        SCEN1_GOV_F = self.SCEN1_GOV_F[-1]
        SCEN1_HH_AfterTax = self.SCEN1_HH_AfterTax[-1]
        SCEN1_HH_AlphaFin = self.SCEN1_HH_AlphaFin[-1]
        SCEN1_HH_AlphaIncome = self.SCEN1_HH_AlphaIncome[-1]
        SCEN1_HH_DEM_GOOD = self.SCEN1_HH_DEM_GOOD[-1]
        SCEN1_HH_F = self.SCEN1_HH_F[-1]
        SCEN1_HH_T = self.SCEN1_HH_T[-1]
        SCEN1_CAP_AfterTax = self.SCEN1_CAP_AfterTax[-1]
        SCEN1_CAP_AlphaFin = self.SCEN1_CAP_AlphaFin[-1]
        SCEN1_CAP_AlphaIncome = self.SCEN1_CAP_AlphaIncome[-1]
        SCEN1_CAP_DEM_GOOD = self.SCEN1_CAP_DEM_GOOD[-1]
        SCEN1_CAP_F = self.SCEN1_CAP_F[-1]
        SCEN1_CAP_T = self.SCEN1_CAP_T[-1]
        SCEN1_CAP_TaxRate = self.SCEN1_CAP_TaxRate[-1]
        SCEN1_BUS_DEM_LAB = self.SCEN1_BUS_DEM_LAB[-1]
        SCEN1_BUS_F = self.SCEN1_BUS_F[-1]
        SCEN1_BUS_PROF = self.SCEN1_BUS_PROF[-1]
        SCEN1_BUS_SUP_GOOD = self.SCEN1_BUS_SUP_GOOD[-1]
        SCEN1_TF_T = self.SCEN1_TF_T[-1]
        SCEN1_GOOD_DEM_GOOD = self.SCEN1_GOOD_DEM_GOOD[-1]
        SCEN2_GOV_F = self.SCEN2_GOV_F[-1]
        SCEN2_HH_AfterTax = self.SCEN2_HH_AfterTax[-1]
        SCEN2_HH_AlphaFin = self.SCEN2_HH_AlphaFin[-1]
        SCEN2_HH_AlphaIncome = self.SCEN2_HH_AlphaIncome[-1]
        SCEN2_HH_DEM_GOOD = self.SCEN2_HH_DEM_GOOD[-1]
        SCEN2_HH_F = self.SCEN2_HH_F[-1]
        SCEN2_HH_T = self.SCEN2_HH_T[-1]
        SCEN2_HH_TaxRate = self.SCEN2_HH_TaxRate[-1]
        SCEN2_CAP_AfterTax = self.SCEN2_CAP_AfterTax[-1]
        SCEN2_CAP_AlphaFin = self.SCEN2_CAP_AlphaFin[-1]
        SCEN2_CAP_AlphaIncome = self.SCEN2_CAP_AlphaIncome[-1]
        SCEN2_CAP_DEM_GOOD = self.SCEN2_CAP_DEM_GOOD[-1]
        SCEN2_CAP_F = self.SCEN2_CAP_F[-1]
        SCEN2_CAP_T = self.SCEN2_CAP_T[-1]
        SCEN2_BUS_DEM_LAB = self.SCEN2_BUS_DEM_LAB[-1]
        SCEN2_BUS_F = self.SCEN2_BUS_F[-1]
        SCEN2_BUS_PROF = self.SCEN2_BUS_PROF[-1]
        SCEN2_BUS_SUP_GOOD = self.SCEN2_BUS_SUP_GOOD[-1]
        SCEN2_TF_T = self.SCEN2_TF_T[-1]
        SCEN2_GOOD_DEM_GOOD = self.SCEN2_GOOD_DEM_GOOD[-1]
        SCEN1_GOV_FISC_BAL = self.SCEN1_GOV_FISC_BAL[-1]
        SCEN1_GOV_T = self.SCEN1_GOV_T[-1]
        SCEN1_HH_PreTax = self.SCEN1_HH_PreTax[-1]
        SCEN1_HH_SUP_LAB = self.SCEN1_HH_SUP_LAB[-1]
        SCEN1_CAP_PreTax = self.SCEN1_CAP_PreTax[-1]
        SCEN1_BUS_DIV = self.SCEN1_BUS_DIV[-1]
        SCEN1_TF_TaxRate = self.SCEN1_TF_TaxRate[-1]
        SCEN1_LAB_DEM_LAB = self.SCEN1_LAB_DEM_LAB[-1]
        SCEN1_LAB_SUP_LAB = self.SCEN1_LAB_SUP_LAB[-1]
        SCEN1_GOOD_SUP_GOOD = self.SCEN1_GOOD_SUP_GOOD[-1]
        SCEN2_GOV_FISC_BAL = self.SCEN2_GOV_FISC_BAL[-1]
        SCEN2_GOV_T = self.SCEN2_GOV_T[-1]
        SCEN2_HH_PreTax = self.SCEN2_HH_PreTax[-1]
        SCEN2_HH_SUP_LAB = self.SCEN2_HH_SUP_LAB[-1]
        SCEN2_CAP_PreTax = self.SCEN2_CAP_PreTax[-1]
        SCEN2_BUS_DIV = self.SCEN2_BUS_DIV[-1]
        SCEN2_TF_TaxRate = self.SCEN2_TF_TaxRate[-1]
        SCEN2_LAB_DEM_LAB = self.SCEN2_LAB_DEM_LAB[-1]
        SCEN2_LAB_SUP_LAB = self.SCEN2_LAB_SUP_LAB[-1]
        SCEN2_GOOD_SUP_GOOD = self.SCEN2_GOOD_SUP_GOOD[-1]
        t = self.t[-1]
        SCEN1_CAP_DIV = self.SCEN1_CAP_DIV[-1]
        SCEN2_CAP_DIV = self.SCEN2_CAP_DIV[-1]
        SCEN1_GOV_LAG_F = self.SCEN1_GOV_F[self.STEP -1]
        SCEN1_HH_LAG_F = self.SCEN1_HH_F[self.STEP -1]
        SCEN1_CAP_LAG_F = self.SCEN1_CAP_F[self.STEP -1]
        SCEN1_BUS_LAG_F = self.SCEN1_BUS_F[self.STEP -1]
        SCEN2_GOV_LAG_F = self.SCEN2_GOV_F[self.STEP -1]
        SCEN2_HH_LAG_F = self.SCEN2_HH_F[self.STEP -1]
        SCEN2_CAP_LAG_F = self.SCEN2_CAP_F[self.STEP -1]
        SCEN2_BUS_LAG_F = self.SCEN2_BUS_F[self.STEP -1]
        t_minus_1 = self.t[self.STEP -1]
        SCEN1_GOV_DEM_GOOD = self.SCEN1_GOV_DEM_GOOD[self.STEP]
        SCEN1_HH_TaxRate = self.SCEN1_HH_TaxRate[self.STEP]
        SCEN2_GOV_DEM_GOOD = self.SCEN2_GOV_DEM_GOOD[self.STEP]
        SCEN2_CAP_TaxRate = self.SCEN2_CAP_TaxRate[self.STEP]

        orig_vector = (SCEN1_GOV_F, SCEN1_HH_AfterTax, SCEN1_HH_AlphaFin, SCEN1_HH_AlphaIncome, SCEN1_HH_DEM_GOOD, SCEN1_HH_F, SCEN1_HH_T, SCEN1_CAP_AfterTax, SCEN1_CAP_AlphaFin, SCEN1_CAP_AlphaIncome, SCEN1_CAP_DEM_GOOD, SCEN1_CAP_F, SCEN1_CAP_T, SCEN1_CAP_TaxRate, SCEN1_BUS_DEM_LAB, SCEN1_BUS_F, SCEN1_BUS_PROF, SCEN1_BUS_SUP_GOOD, SCEN1_TF_T, SCEN1_GOOD_DEM_GOOD, SCEN2_GOV_F, SCEN2_HH_AfterTax, SCEN2_HH_AlphaFin, SCEN2_HH_AlphaIncome, SCEN2_HH_DEM_GOOD, SCEN2_HH_F, SCEN2_HH_T, SCEN2_HH_TaxRate, SCEN2_CAP_AfterTax, SCEN2_CAP_AlphaFin, SCEN2_CAP_AlphaIncome, SCEN2_CAP_DEM_GOOD, SCEN2_CAP_F, SCEN2_CAP_T, SCEN2_BUS_DEM_LAB, SCEN2_BUS_F, SCEN2_BUS_PROF, SCEN2_BUS_SUP_GOOD, SCEN2_TF_T, SCEN2_GOOD_DEM_GOOD, SCEN1_GOV_FISC_BAL, SCEN1_GOV_T, SCEN1_HH_PreTax, SCEN1_HH_SUP_LAB, SCEN1_CAP_PreTax, SCEN1_BUS_DIV, SCEN1_TF_TaxRate, SCEN1_LAB_DEM_LAB, SCEN1_LAB_SUP_LAB, SCEN1_GOOD_SUP_GOOD, SCEN2_GOV_FISC_BAL, SCEN2_GOV_T, SCEN2_HH_PreTax, SCEN2_HH_SUP_LAB, SCEN2_CAP_PreTax, SCEN2_BUS_DIV, SCEN2_TF_TaxRate, SCEN2_LAB_DEM_LAB, SCEN2_LAB_SUP_LAB, SCEN2_GOOD_SUP_GOOD, t, SCEN1_CAP_DIV, SCEN2_CAP_DIV, SCEN1_GOV_LAG_F, SCEN1_HH_LAG_F, SCEN1_CAP_LAG_F, SCEN1_BUS_LAG_F, SCEN2_GOV_LAG_F, SCEN2_HH_LAG_F, SCEN2_CAP_LAG_F, SCEN2_BUS_LAG_F, t_minus_1, SCEN1_GOV_DEM_GOOD, SCEN1_HH_TaxRate, SCEN2_GOV_DEM_GOOD, SCEN2_CAP_TaxRate)
        err = 1.
        cnt = 0
        while err > self.Err_Tolerance:
            new_vector = self.Iterator(orig_vector)
            err = self.CalcError(orig_vector, new_vector)
            orig_vector = new_vector
            cnt += 1
            if cnt > self.MaxIterations:
                raise ValueError('No Convergence!')
        if self.PrintIterations:
            pprint(cnt)
        SCEN1_GOV_F = orig_vector[0]
        self.SCEN1_GOV_F.append(SCEN1_GOV_F)
        SCEN1_HH_AfterTax = orig_vector[1]
        self.SCEN1_HH_AfterTax.append(SCEN1_HH_AfterTax)
        SCEN1_HH_AlphaFin = orig_vector[2]
        self.SCEN1_HH_AlphaFin.append(SCEN1_HH_AlphaFin)
        SCEN1_HH_AlphaIncome = orig_vector[3]
        self.SCEN1_HH_AlphaIncome.append(SCEN1_HH_AlphaIncome)
        SCEN1_HH_DEM_GOOD = orig_vector[4]
        self.SCEN1_HH_DEM_GOOD.append(SCEN1_HH_DEM_GOOD)
        SCEN1_HH_F = orig_vector[5]
        self.SCEN1_HH_F.append(SCEN1_HH_F)
        SCEN1_HH_T = orig_vector[6]
        self.SCEN1_HH_T.append(SCEN1_HH_T)
        SCEN1_CAP_AfterTax = orig_vector[7]
        self.SCEN1_CAP_AfterTax.append(SCEN1_CAP_AfterTax)
        SCEN1_CAP_AlphaFin = orig_vector[8]
        self.SCEN1_CAP_AlphaFin.append(SCEN1_CAP_AlphaFin)
        SCEN1_CAP_AlphaIncome = orig_vector[9]
        self.SCEN1_CAP_AlphaIncome.append(SCEN1_CAP_AlphaIncome)
        SCEN1_CAP_DEM_GOOD = orig_vector[10]
        self.SCEN1_CAP_DEM_GOOD.append(SCEN1_CAP_DEM_GOOD)
        SCEN1_CAP_F = orig_vector[11]
        self.SCEN1_CAP_F.append(SCEN1_CAP_F)
        SCEN1_CAP_T = orig_vector[12]
        self.SCEN1_CAP_T.append(SCEN1_CAP_T)
        SCEN1_CAP_TaxRate = orig_vector[13]
        self.SCEN1_CAP_TaxRate.append(SCEN1_CAP_TaxRate)
        SCEN1_BUS_DEM_LAB = orig_vector[14]
        self.SCEN1_BUS_DEM_LAB.append(SCEN1_BUS_DEM_LAB)
        SCEN1_BUS_F = orig_vector[15]
        self.SCEN1_BUS_F.append(SCEN1_BUS_F)
        SCEN1_BUS_PROF = orig_vector[16]
        self.SCEN1_BUS_PROF.append(SCEN1_BUS_PROF)
        SCEN1_BUS_SUP_GOOD = orig_vector[17]
        self.SCEN1_BUS_SUP_GOOD.append(SCEN1_BUS_SUP_GOOD)
        SCEN1_TF_T = orig_vector[18]
        self.SCEN1_TF_T.append(SCEN1_TF_T)
        SCEN1_GOOD_DEM_GOOD = orig_vector[19]
        self.SCEN1_GOOD_DEM_GOOD.append(SCEN1_GOOD_DEM_GOOD)
        SCEN2_GOV_F = orig_vector[20]
        self.SCEN2_GOV_F.append(SCEN2_GOV_F)
        SCEN2_HH_AfterTax = orig_vector[21]
        self.SCEN2_HH_AfterTax.append(SCEN2_HH_AfterTax)
        SCEN2_HH_AlphaFin = orig_vector[22]
        self.SCEN2_HH_AlphaFin.append(SCEN2_HH_AlphaFin)
        SCEN2_HH_AlphaIncome = orig_vector[23]
        self.SCEN2_HH_AlphaIncome.append(SCEN2_HH_AlphaIncome)
        SCEN2_HH_DEM_GOOD = orig_vector[24]
        self.SCEN2_HH_DEM_GOOD.append(SCEN2_HH_DEM_GOOD)
        SCEN2_HH_F = orig_vector[25]
        self.SCEN2_HH_F.append(SCEN2_HH_F)
        SCEN2_HH_T = orig_vector[26]
        self.SCEN2_HH_T.append(SCEN2_HH_T)
        SCEN2_HH_TaxRate = orig_vector[27]
        self.SCEN2_HH_TaxRate.append(SCEN2_HH_TaxRate)
        SCEN2_CAP_AfterTax = orig_vector[28]
        self.SCEN2_CAP_AfterTax.append(SCEN2_CAP_AfterTax)
        SCEN2_CAP_AlphaFin = orig_vector[29]
        self.SCEN2_CAP_AlphaFin.append(SCEN2_CAP_AlphaFin)
        SCEN2_CAP_AlphaIncome = orig_vector[30]
        self.SCEN2_CAP_AlphaIncome.append(SCEN2_CAP_AlphaIncome)
        SCEN2_CAP_DEM_GOOD = orig_vector[31]
        self.SCEN2_CAP_DEM_GOOD.append(SCEN2_CAP_DEM_GOOD)
        SCEN2_CAP_F = orig_vector[32]
        self.SCEN2_CAP_F.append(SCEN2_CAP_F)
        SCEN2_CAP_T = orig_vector[33]
        self.SCEN2_CAP_T.append(SCEN2_CAP_T)
        SCEN2_BUS_DEM_LAB = orig_vector[34]
        self.SCEN2_BUS_DEM_LAB.append(SCEN2_BUS_DEM_LAB)
        SCEN2_BUS_F = orig_vector[35]
        self.SCEN2_BUS_F.append(SCEN2_BUS_F)
        SCEN2_BUS_PROF = orig_vector[36]
        self.SCEN2_BUS_PROF.append(SCEN2_BUS_PROF)
        SCEN2_BUS_SUP_GOOD = orig_vector[37]
        self.SCEN2_BUS_SUP_GOOD.append(SCEN2_BUS_SUP_GOOD)
        SCEN2_TF_T = orig_vector[38]
        self.SCEN2_TF_T.append(SCEN2_TF_T)
        SCEN2_GOOD_DEM_GOOD = orig_vector[39]
        self.SCEN2_GOOD_DEM_GOOD.append(SCEN2_GOOD_DEM_GOOD)
        SCEN1_GOV_FISC_BAL = orig_vector[40]
        self.SCEN1_GOV_FISC_BAL.append(SCEN1_GOV_FISC_BAL)
        SCEN1_GOV_T = orig_vector[41]
        self.SCEN1_GOV_T.append(SCEN1_GOV_T)
        SCEN1_HH_PreTax = orig_vector[42]
        self.SCEN1_HH_PreTax.append(SCEN1_HH_PreTax)
        SCEN1_HH_SUP_LAB = orig_vector[43]
        self.SCEN1_HH_SUP_LAB.append(SCEN1_HH_SUP_LAB)
        SCEN1_CAP_PreTax = orig_vector[44]
        self.SCEN1_CAP_PreTax.append(SCEN1_CAP_PreTax)
        SCEN1_BUS_DIV = orig_vector[45]
        self.SCEN1_BUS_DIV.append(SCEN1_BUS_DIV)
        SCEN1_TF_TaxRate = orig_vector[46]
        self.SCEN1_TF_TaxRate.append(SCEN1_TF_TaxRate)
        SCEN1_LAB_DEM_LAB = orig_vector[47]
        self.SCEN1_LAB_DEM_LAB.append(SCEN1_LAB_DEM_LAB)
        SCEN1_LAB_SUP_LAB = orig_vector[48]
        self.SCEN1_LAB_SUP_LAB.append(SCEN1_LAB_SUP_LAB)
        SCEN1_GOOD_SUP_GOOD = orig_vector[49]
        self.SCEN1_GOOD_SUP_GOOD.append(SCEN1_GOOD_SUP_GOOD)
        SCEN2_GOV_FISC_BAL = orig_vector[50]
        self.SCEN2_GOV_FISC_BAL.append(SCEN2_GOV_FISC_BAL)
        SCEN2_GOV_T = orig_vector[51]
        self.SCEN2_GOV_T.append(SCEN2_GOV_T)
        SCEN2_HH_PreTax = orig_vector[52]
        self.SCEN2_HH_PreTax.append(SCEN2_HH_PreTax)
        SCEN2_HH_SUP_LAB = orig_vector[53]
        self.SCEN2_HH_SUP_LAB.append(SCEN2_HH_SUP_LAB)
        SCEN2_CAP_PreTax = orig_vector[54]
        self.SCEN2_CAP_PreTax.append(SCEN2_CAP_PreTax)
        SCEN2_BUS_DIV = orig_vector[55]
        self.SCEN2_BUS_DIV.append(SCEN2_BUS_DIV)
        SCEN2_TF_TaxRate = orig_vector[56]
        self.SCEN2_TF_TaxRate.append(SCEN2_TF_TaxRate)
        SCEN2_LAB_DEM_LAB = orig_vector[57]
        self.SCEN2_LAB_DEM_LAB.append(SCEN2_LAB_DEM_LAB)
        SCEN2_LAB_SUP_LAB = orig_vector[58]
        self.SCEN2_LAB_SUP_LAB.append(SCEN2_LAB_SUP_LAB)
        SCEN2_GOOD_SUP_GOOD = orig_vector[59]
        self.SCEN2_GOOD_SUP_GOOD.append(SCEN2_GOOD_SUP_GOOD)
        t = orig_vector[60]
        self.t.append(t)
        SCEN1_CAP_DIV = orig_vector[61]
        self.SCEN1_CAP_DIV.append(SCEN1_CAP_DIV)
        SCEN2_CAP_DIV = orig_vector[62]
        self.SCEN2_CAP_DIV.append(SCEN2_CAP_DIV)


    @staticmethod
    def CalcError(vec1, vec2):
        err = 0.
        for val1, val2 in zip(vec1, vec2):
            err += abs(val1 - val2)
        return err

if __name__ == '__main__':
    obj = SFCModel()
    obj.main()
