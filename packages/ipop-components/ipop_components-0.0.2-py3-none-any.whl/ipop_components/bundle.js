this.ipop_components=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Button=t.ReactResumableJs=t.ExampleComponent=void 0;var i=r(3),s=n(i),a=r(4),o=n(a),l=r(2),u=n(l);t.ExampleComponent=s.default,t.ReactResumableJs=o.default,t.Button=u.default},function(e,t){!function(){e.exports=this.React}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r(1),a=n(s),o=function(e){return e.fireEvent||e.setProps?a.default.createElement("button",i({onClick:function(){e.setProps&&e.setProps({n_clicks:e.n_clicks+1}),e.fireEvent&&e.fireEvent({event:"click"}),e.setProps&&e.setProps({n_clicks_previous:e.n_clicks+1})}},e),e.children):a.default.createElement("button",e,e.children)};o.defaultProps={n_clicks:0,n_clicks_previous:0},o.propTypes={id:s.PropTypes.string,children:s.PropTypes.node,n_clicks:s.PropTypes.integer,n_clicks_previous:s.PropTypes.integer,key:s.PropTypes.string,autoFocus:s.PropTypes.string,disabled:s.PropTypes.string,form:s.PropTypes.string,formAction:s.PropTypes.string,name:s.PropTypes.string,type:s.PropTypes.string,value:s.PropTypes.string,accessKey:s.PropTypes.string,className:s.PropTypes.string,contentEditable:s.PropTypes.string,contextMenu:s.PropTypes.string,dir:s.PropTypes.string,draggable:s.PropTypes.string,hidden:s.PropTypes.string,lang:s.PropTypes.string,spellCheck:s.PropTypes.string,style:s.PropTypes.object,tabIndex:s.PropTypes.string,title:s.PropTypes.string,fireEvent:s.PropTypes.func,dashEvents:s.PropTypes.oneOf(["click"])},t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),u=n(l),p=r(8),f=n(p),c=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.id,r=e.label,n=e.setProps,i=e.value;return u.default.createElement("div",{id:t},"ExampleComponent: ",r,u.default.createElement("input",{value:i,onChange:function(e){n&&n({value:e.target.value})}}))}}]),t}(l.Component);t.default=c,c.propTypes={id:f.default.string,label:f.default.string.isRequired,value:f.default.string,setProps:f.default.func}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=r(1),u=n(l),p=r(10),f=n(p),c=function(e){function t(e){i(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={progressBar:0,messageStatus:"",fileList:{files:[]},isPaused:!1,isUploading:!1,isHovered:!1,isComplete:!1},r.resumable=null,r}return a(t,e),o(t,[{key:"toggleHovered",value:function(){this.setState({isHovered:!this.state.isHovered})}},{key:"componentDidMount",value:function(){var e=this,t=new f.default({target:this.props.service,query:this.props.query||{},fileType:this.props.filetypes,maxFiles:this.props.maxFiles,maxFileSize:this.props.maxFileSize,fileTypeErrorCallback:function(t,r){"function"==typeof e.props.onFileAddedError&&e.props.onFileAddedError(t,r)},maxFileSizeErrorCallback:function(t,r){"function"==typeof e.props.onMaxFileSizeErrorCallback&&e.props.onMaxFileSizeErrorCallback(t,r)},testMethod:this.props.testMethod||"post",testChunks:this.props.testChunks||!1,headers:this.props.headerObject||{},chunkSize:this.props.chunkSize,simultaneousUploads:this.props.simultaneousUploads,fileParameterName:this.props.fileParameterName,generateUniqueIdentifier:this.props.generateUniqueIdentifier,forceChunkSize:this.props.forceChunkSize});"function"==typeof this.props.maxFilesErrorCallback&&(t.opts.maxFilesErrorCallback=this.props.maxFilesErrorCallback),t.assignBrowse(this.uploader),this.props.disableDragAndDrop===!1&&t.assignDrop(this.dropZone),t.on("fileAdded",function(r){e.setState({messageStatus:e.props.fileAddedMessage||" Starting upload! ",isComplete:!1}),"function"==typeof e.props.onFileAdded?e.props.onFileAdded(r,e.resumable):t.upload()}),t.on("fileSuccess",function(t,r){if(e.props.fileNameServer){var n=JSON.parse(r);t.fileName=n[e.props.fileNameServer]}else t.fileName=r;var i=e.state.fileList.files;i.push(t);var s=e.props.fileNames;s.push(t.fileName),e.props.setProps&&e.props.setProps({fileNames:s}),e.setState({fileList:{files:i},isComplete:!0,messageStatus:e.props.completedMessage+t.fileName||r},function(){"function"==typeof e.props.onFileSuccess&&e.props.onFileSuccess(t,r)})}),t.on("progress",function(){e.setState({isUploading:t.isUploading()}),100*t.progress()<100?e.setState({messageStatus:parseInt(100*t.progress(),10)+"%",progressBar:100*t.progress()}):setTimeout(function(){e.setState({progressBar:0})},1e3)}),t.on("fileError",function(t,r){e.props.onUploadErrorCallback(t,r)}),this.resumable=t}},{key:"removeFile",value:function(e,t,r){e.preventDefault();var n=this.state.fileList.files;delete n[r],this.setState({fileList:{files:n}}),this.props.onFileRemoved(t),this.resumable.removeFile(t)}},{key:"cancelUpload",value:function(){this.resumable.cancel(),this.setState({fileList:{files:[]}}),this.props.onCancelUpload()}},{key:"pauseUpload",value:function(){this.state.isPaused?(this.resumable.upload(),this.setState({isPaused:!1}),this.props.onResumeUpload()):(this.resumable.pause(),this.setState({isPaused:!0}),this.props.onPauseUpload())}},{key:"startUpload",value:function(){this.resumable.upload(),this.setState({isPaused:!1}),this.props.onStartUpload()}},{key:"render",value:function(){var e=this,t=null,r=null;this.props.previousText&&(r="string"==typeof this.props.previousText?u.default.createElement("p",null,this.props.previousText):this.props.previousText);var n=null;this.props.textLabel&&(n=this.props.textLabel);var i=null;this.props.startButton&&(i="string"==typeof this.props.startButton||"boolean"==typeof this.props.startButton?u.default.createElement("label",null,u.default.createElement("button",{disabled:this.state.isUploading,className:"btn start",onClick:this.startUpload},this.props.startButton&&"upload")):this.props.startButton);var s=null;this.props.cancelButton&&(s="string"==typeof this.props.cancelButton||"boolean"==typeof this.props.cancelButton?u.default.createElement("label",null,u.default.createElement("button",{disabled:!this.state.isUploading,className:"btn cancel",onClick:this.cancelUpload},this.props.cancelButton&&"cancel")):this.props.cancelButton);var a=null;this.props.pauseButton&&(a="string"==typeof this.props.pauseButton||"boolean"==typeof this.props.pauseButton?u.default.createElement("label",null,u.default.createElement("button",{disabled:!this.state.isUploading,className:"btn pause",onClick:this.pauseUpload},this.props.pauseButton&&"pause")):this.props.pauseButton);var o=function(){return e.state.isComplete?e.props.style_complete:e.state.isHovered||e.state.isUploading?e.props.style_active:e.props.style};return u.default.createElement("div",{id:this.props.dropTargetID,ref:function(t){return e.dropZone=t}},r,u.default.createElement("label",{style:o(),className:this.props.disableInput?"btn file-upload disabled":"btn file-upload",onMouseEnter:this.toggleHovered.bind(this),onMouseLeave:this.toggleHovered.bind(this)},""==this.state.messageStatus?n:this.state.messageStatus,u.default.createElement("input",{ref:function(t){return e.uploader=t},type:"file",id:this.props.id,className:"btn",name:this.props.id+"-upload",accept:this.props.fileAccept||"*",disabled:this.props.disableInput||!1,style:{opacity:"0",width:"0.1px%",height:"0.1px%",position:"absolute",overflow:"hidden","z-index":"-1"}})),u.default.createElement("div",{className:"progress",style:{display:0===this.state.progressBar?"none":"block"}},u.default.createElement("div",{className:"progress-bar",style:{width:this.state.progressBar+"%",height:"100%"}})),t,i,a,s)}}]),t}(l.Component);t.default=c,c.propTypes={maxFiles:l.PropTypes.number,maxFileSize:l.PropTypes.number,service:l.PropTypes.string,style:l.PropTypes.object,style_active:l.PropTypes.object,style_complete:l.PropTypes.object,textLabel:l.PropTypes.string,completedMessage:l.PropTypes.string,fileNames:l.PropTypes.arrayOf(l.PropTypes.string),setProps:l.PropTypes.func,id:l.PropTypes.string},c.defaultProps={maxFiles:void 0,maxFileSize:1048576,service:"localhost:8050",style:{height:"100%",width:"100%",borderStyle:"solid",borderColor:"black",padding:"5px"},style_active:{height:"100%",width:"100%",borderStyle:"solid",borderColor:"grey",backgroundColor:"#ec6",padding:"5px"},style_complete:{height:"100%",width:"100%",borderStyle:"solid",borderColor:"black",padding:"5px",backgroundColor:"#008000"},textLabel:"Click Here to Select a File",completedMessage:"Complete! ",fileNames:[],id:"default-uploader-id"}},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n,s,a,o,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[r,n,s,a,o,l],f=0;u=new Error(t.replace(/%s/g,function(){return p[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=n},function(e,t,r){"use strict";var n=r(5),i=r(6),s=r(9);e.exports=function(){function e(e,t,r,n,a,o){o!==s&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){e.exports=r(7)()},function(e,t){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t,r){!function(){"use strict";var t=function(e){function r(e,t,r,n){var s;return e.isFile?e.file(function(e){e.relativePath=t+e.name,r.push(e),n()}):(e.isDirectory?s=e:e instanceof File&&r.push(e),"function"==typeof e.webkitGetAsEntry&&(s=e.webkitGetAsEntry()),s&&s.isDirectory?i(s,t+s.name+"/",r,n):("function"==typeof e.getAsFile&&(e=e.getAsFile(),e instanceof File&&(e.relativePath=t+e.name,r.push(e))),void n()))}function n(e,t){return e&&0!==e.length?void e[0](function(){n(e.slice(1),t)}):t()}function i(e,t,i,s){var a=e.createReader();a.readEntries(function(e){return e.length?void n(e.map(function(e){return r.bind(null,e,t,i)}),s):s()})}function s(e,t){if(e.length){l.fire("beforeAdd");var i=[];n(Array.prototype.map.call(e,function(e){return r.bind(null,e,"",i)}),function(){i.length&&c(i,t)})}}function a(e,t,r){var n=this;n.opts={},n.getOpt=e.getOpt,n._prevProgress=0,n.resumableObj=e,n.file=t,n.fileName=t.fileName||t.name,n.size=t.size,n.relativePath=t.relativePath||t.webkitRelativePath||n.fileName,n.uniqueIdentifier=r,n._pause=!1,n.container="";var i=void 0!==r,s=function(e,t){switch(e){case"progress":n.resumableObj.fire("fileProgress",n,t);break;case"error":n.abort(),i=!0,n.chunks=[],n.resumableObj.fire("fileError",n,t);break;case"success":if(i)return;n.resumableObj.fire("fileProgress",n),n.isComplete()&&n.resumableObj.fire("fileSuccess",n,t);break;case"retry":n.resumableObj.fire("fileRetry",n)}};return n.chunks=[],n.abort=function(){var e=0;u.each(n.chunks,function(t){"uploading"==t.status()&&(t.abort(),e++)}),e>0&&n.resumableObj.fire("fileProgress",n)},n.cancel=function(){var e=n.chunks;n.chunks=[],u.each(e,function(e){"uploading"==e.status()&&(e.abort(),n.resumableObj.uploadNextChunk())}),n.resumableObj.removeFile(n),n.resumableObj.fire("fileProgress",n)},n.retry=function(){n.bootstrap();var e=!1;n.resumableObj.on("chunkingComplete",function(){e||n.resumableObj.upload(),e=!0})},n.bootstrap=function(){n.abort(),i=!1,n.chunks=[],n._prevProgress=0;for(var e=n.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(n.file.size/n.getOpt("chunkSize")),1),r=0;r<t;r++)!function(e){window.setTimeout(function(){n.chunks.push(new o(n.resumableObj,n,e,s)),n.resumableObj.fire("chunkingProgress",n,e/t)},0)}(r);window.setTimeout(function(){n.resumableObj.fire("chunkingComplete",n)},0)},n.progress=function(){if(i)return 1;var e=0,t=!1;return u.each(n.chunks,function(r){"error"==r.status()&&(t=!0),e+=r.progress(!0)}),e=t?1:e>.99999?1:e,e=Math.max(n._prevProgress,e),n._prevProgress=e,e},n.isUploading=function(){var e=!1;return u.each(n.chunks,function(t){if("uploading"==t.status())return e=!0,!1}),e},n.isComplete=function(){var e=!1;return u.each(n.chunks,function(t){var r=t.status();if("pending"==r||"uploading"==r||1===t.preprocessState)return e=!0,!1}),!e},n.pause=function(e){"undefined"==typeof e?n._pause=!n._pause:n._pause=e},n.isPaused=function(){return n._pause},n.resumableObj.fire("chunkingStart",n),n.bootstrap(),this}function o(e,t,r,n){var i=this;i.opts={},i.getOpt=e.getOpt,i.resumableObj=e,i.fileObj=t,i.fileObjSize=t.size,i.fileObjType=t.file.type,i.offset=r,i.callback=n,i.lastProgressCallback=new Date,i.tested=!1,i.retries=0,i.pendingRetry=!1,i.preprocessState=0;var s=i.getOpt("chunkSize");return i.loaded=0,i.startByte=i.offset*s,i.endByte=Math.min(i.fileObjSize,(i.offset+1)*s),i.fileObjSize-i.endByte<s&&!i.getOpt("forceChunkSize")&&(i.endByte=i.fileObjSize),i.xhr=null,i.test=function(){i.xhr=new XMLHttpRequest;var e=function(e){i.tested=!0;var t=i.status();"success"==t?(i.callback(t,i.message()),i.resumableObj.uploadNextChunk()):i.send()};i.xhr.addEventListener("load",e,!1),i.xhr.addEventListener("error",e,!1),i.xhr.addEventListener("timeout",e,!1);var t=[],r=i.getOpt("parameterNamespace"),n=i.getOpt("query");"function"==typeof n&&(n=n(i.fileObj,i)),u.each(n,function(e,n){t.push([encodeURIComponent(r+e),encodeURIComponent(n)].join("="))}),t=t.concat([["chunkNumberParameterName",i.offset+1],["chunkSizeParameterName",i.getOpt("chunkSize")],["currentChunkSizeParameterName",i.endByte-i.startByte],["totalSizeParameterName",i.fileObjSize],["typeParameterName",i.fileObjType],["identifierParameterName",i.fileObj.uniqueIdentifier],["fileNameParameterName",i.fileObj.fileName],["relativePathParameterName",i.fileObj.relativePath],["totalChunksParameterName",i.fileObj.chunks.length]].filter(function(e){return i.getOpt(e[0])}).map(function(e){return[r+i.getOpt(e[0]),encodeURIComponent(e[1])].join("=")})),i.xhr.open(i.getOpt("testMethod"),u.getTarget("test",t)),i.xhr.timeout=i.getOpt("xhrTimeout"),i.xhr.withCredentials=i.getOpt("withCredentials");var s=i.getOpt("headers");"function"==typeof s&&(s=s(i.fileObj,i)),u.each(s,function(e,t){i.xhr.setRequestHeader(e,t)}),i.xhr.send(null)},i.preprocessFinished=function(){i.preprocessState=2,i.send()},i.send=function(){var e=i.getOpt("preprocess");if("function"==typeof e)switch(i.preprocessState){case 0:return i.preprocessState=1,void e(i);case 1:return;case 2:}if(i.getOpt("testChunks")&&!i.tested)return void i.test();i.xhr=new XMLHttpRequest,i.xhr.upload.addEventListener("progress",function(e){new Date-i.lastProgressCallback>1e3*i.getOpt("throttleProgressCallbacks")&&(i.callback("progress"),i.lastProgressCallback=new Date),i.loaded=e.loaded||0},!1),i.loaded=0,i.pendingRetry=!1,i.callback("progress");var t=function(e){var t=i.status();if("success"==t||"error"==t)i.callback(t,i.message()),i.resumableObj.uploadNextChunk();else{i.callback("retry",i.message()),i.abort(),i.retries++;var r=i.getOpt("chunkRetryInterval");void 0!==r?(i.pendingRetry=!0,setTimeout(i.send,r)):i.send()}};i.xhr.addEventListener("load",t,!1),i.xhr.addEventListener("error",t,!1),i.xhr.addEventListener("timeout",t,!1);var r=[["chunkNumberParameterName",i.offset+1],["chunkSizeParameterName",i.getOpt("chunkSize")],["currentChunkSizeParameterName",i.endByte-i.startByte],["totalSizeParameterName",i.fileObjSize],["typeParameterName",i.fileObjType],["identifierParameterName",i.fileObj.uniqueIdentifier],["fileNameParameterName",i.fileObj.fileName],["relativePathParameterName",i.fileObj.relativePath],["totalChunksParameterName",i.fileObj.chunks.length]].filter(function(e){return i.getOpt(e[0])}).reduce(function(e,t){return e[i.getOpt(t[0])]=t[1],e},{}),n=i.getOpt("query");"function"==typeof n&&(n=n(i.fileObj,i)),u.each(n,function(e,t){r[e]=t});var s=i.fileObj.file.slice?"slice":i.fileObj.file.mozSlice?"mozSlice":i.fileObj.file.webkitSlice?"webkitSlice":"slice",a=i.fileObj.file[s](i.startByte,i.endByte,i.getOpt("setChunkTypeFromFile")?i.fileObj.file.type:""),o=null,l=[],p=i.getOpt("parameterNamespace");if("octet"===i.getOpt("method"))o=a,u.each(r,function(e,t){l.push([encodeURIComponent(p+e),encodeURIComponent(t)].join("="))});else if(o=new FormData,u.each(r,function(e,t){o.append(p+e,t),l.push([encodeURIComponent(p+e),encodeURIComponent(t)].join("="))}),"blob"==i.getOpt("chunkFormat"))o.append(p+i.getOpt("fileParameterName"),a,i.fileObj.fileName);else if("base64"==i.getOpt("chunkFormat")){var f=new FileReader;f.onload=function(e){o.append(p+i.getOpt("fileParameterName"),f.result),i.xhr.send(o)},f.readAsDataURL(a)}var c=u.getTarget("upload",l),d=i.getOpt("uploadMethod");i.xhr.open(d,c),"octet"===i.getOpt("method")&&i.xhr.setRequestHeader("Content-Type","application/octet-stream"),i.xhr.timeout=i.getOpt("xhrTimeout"),i.xhr.withCredentials=i.getOpt("withCredentials");var h=i.getOpt("headers");"function"==typeof h&&(h=h(i.fileObj,i)),u.each(h,function(e,t){i.xhr.setRequestHeader(e,t)}),"blob"==i.getOpt("chunkFormat")&&i.xhr.send(o)},i.abort=function(){i.xhr&&i.xhr.abort(),i.xhr=null},i.status=function(){return i.pendingRetry?"uploading":i.xhr?i.xhr.readyState<4?"uploading":200==i.xhr.status||201==i.xhr.status?"success":u.contains(i.getOpt("permanentErrors"),i.xhr.status)||i.retries>=i.getOpt("maxChunkRetries")?"error":(i.abort(),"pending"):"pending"},i.message=function(){return i.xhr?i.xhr.responseText:""},i.progress=function(e){"undefined"==typeof e&&(e=!1);var t=e?(i.endByte-i.startByte)/i.fileObjSize:1;if(i.pendingRetry)return 0;i.xhr&&i.xhr.status||(t*=.95);var r=i.status();switch(r){case"success":case"error":return 1*t;case"pending":return 0*t;default:return i.loaded/(i.endByte-i.startByte)*t}},this}if(!(this instanceof t))return new t(e);if(this.version=1,this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var l=this;l.files=[],l.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var r=l.getOpt("maxFiles");alert("Please upload no more than "+r+" file"+(1===r?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+u.formatSize(l.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+u.formatSize(l.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+l.getOpt("fileType")+".")}},l.opts=e||{},l.getOpt=function(e){var r=this;if(e instanceof Array){var n={};return u.each(e,function(e){n[e]=r.getOpt(e)}),n}if(r instanceof o){if("undefined"!=typeof r.opts[e])return r.opts[e];r=r.fileObj}if(r instanceof a){if("undefined"!=typeof r.opts[e])return r.opts[e];r=r.resumableObj}if(r instanceof t)return"undefined"!=typeof r.opts[e]?r.opts[e]:r.defaults[e]},l.events=[],l.on=function(e,t){l.events.push(e.toLowerCase(),t)},l.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);for(var r=e[0].toLowerCase(),t=0;t<=l.events.length;t+=2)l.events[t]==r&&l.events[t+1].apply(l,e.slice(1)),"catchall"==l.events[t]&&l.events[t+1].apply(null,e);"fileerror"==r&&l.fire("error",e[2],e[1]),"fileprogress"==r&&l.fire("progress")};var u={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if("undefined"!=typeof e.length){for(var r=0;r<e.length;r++)if(t(e[r])===!1)return}else for(r in e)if(t(r,e[r])===!1)return},generateUniqueIdentifier:function(e,t){var r=l.getOpt("generateUniqueIdentifier");if("function"==typeof r)return r(e,t);var n=e.webkitRelativePath||e.fileName||e.name,i=e.size;return i+"-"+n.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var r=!1;return u.each(e,function(e){return e!=t||(r=!0,!1)}),r},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,t){var r=l.getOpt("target");if("test"===e&&l.getOpt("testTarget")&&(r="/"===l.getOpt("testTarget")?l.getOpt("target"):l.getOpt("testTarget")),"function"==typeof r)return r(t);var n=r.indexOf("?")<0?"?":"&",i=t.join("&");return r+n+i}},p=function(e){u.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?s(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&s(e.dataTransfer.files,e)},f=function(e){e.preventDefault()},c=function(e,t){var r=0,n=l.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if("undefined"!=typeof n.maxFiles&&n.maxFiles<e.length+l.files.length){if(1!==n.maxFiles||1!==l.files.length||1!==e.length)return n.maxFilesErrorCallback(e,r++),!1;l.removeFile(l.files[0])}var i=[],s=[],o=e.length,p=function(){if(!--o){if(!i.length&&!s.length)return;window.setTimeout(function(){l.fire("filesAdded",i,s)},0)}};u.each(e,function(e){function o(r){l.getFromUniqueIdentifier(r)?s.push(e):!function(){e.uniqueIdentifier=r;var n=new a(l,e,r);l.files.push(n),i.push(n),n.container="undefined"!=typeof t?t.srcElement:null,window.setTimeout(function(){l.fire("fileAdded",n,t)},0)}(),p()}var f=e.name;if(n.fileType.length>0){var c=!1;for(var d in n.fileType){var h="."+n.fileType[d];if(f.toLowerCase().indexOf(h.toLowerCase(),f.length-h.length)!==-1){c=!0;break}}if(!c)return n.fileTypeErrorCallback(e,r++),!1}if("undefined"!=typeof n.minFileSize&&e.size<n.minFileSize)return n.minFileSizeErrorCallback(e,r++),!1;if("undefined"!=typeof n.maxFileSize&&e.size>n.maxFileSize)return n.maxFileSizeErrorCallback(e,r++),!1;var m=u.generateUniqueIdentifier(e,t);m&&"function"==typeof m.then?m.then(function(e){o(e)},function(){p()}):o(m)})};return l.uploadNextChunk=function(){var e=!1;if(l.getOpt("prioritizeFirstAndLastChunk")&&(u.each(l.files,function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0}),e))return!0;if(u.each(l.files,function(t){if(t.isPaused()===!1&&u.each(t.chunks,function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1}),e)return!1}),e)return!0;var t=!1;return u.each(l.files,function(e){if(!e.isComplete())return t=!0,!1}),t||l.fire("complete"),!1},l.assignBrowse=function(e,t){"undefined"==typeof e.length&&(e=[e]),u.each(e,function(e){var r;"INPUT"===e.tagName&&"file"===e.type?r=e:(r=document.createElement("input"),r.setAttribute("type","file"),r.style.display="none",e.addEventListener("click",function(){r.style.opacity=0,r.style.display="block",r.focus(),r.click(),r.style.display="none"},!1),e.appendChild(r));var n=l.getOpt("maxFiles");"undefined"==typeof n||1!=n?r.setAttribute("multiple","multiple"):r.removeAttribute("multiple"),t?r.setAttribute("webkitdirectory","webkitdirectory"):r.removeAttribute("webkitdirectory");var i=l.getOpt("fileType");"undefined"!=typeof i&&i.length>=1?r.setAttribute("accept",i.map(function(e){return"."+e}).join(",")):r.removeAttribute("accept"),r.addEventListener("change",function(e){c(e.target.files,e);var t=l.getOpt("clearInput");t&&(e.target.value="")},!1)})},l.assignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),u.each(e,function(e){e.addEventListener("dragover",f,!1),e.addEventListener("dragenter",f,!1),e.addEventListener("drop",p,!1)})},l.unAssignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),u.each(e,function(e){e.removeEventListener("dragover",f),e.removeEventListener("dragenter",f),e.removeEventListener("drop",p)})},l.isUploading=function(){var e=!1;return u.each(l.files,function(t){if(t.isUploading())return e=!0,!1}),e},l.upload=function(){if(!l.isUploading()){l.fire("uploadStart");for(var e=1;e<=l.getOpt("simultaneousUploads");e++)l.uploadNextChunk()}},l.pause=function(){u.each(l.files,function(e){e.abort()}),l.fire("pause")},l.cancel=function(){l.fire("beforeCancel");for(var e=l.files.length-1;e>=0;e--)l.files[e].cancel();l.fire("cancel")},l.progress=function(){var e=0,t=0;return u.each(l.files,function(r){e+=r.progress()*r.size,t+=r.size}),t>0?e/t:0},l.addFile=function(e,t){c([e],t)},l.addFiles=function(e,t){c(e,t)},l.removeFile=function(e){for(var t=l.files.length-1;t>=0;t--)l.files[t]===e&&l.files.splice(t,1)},l.getFromUniqueIdentifier=function(e){var t=!1;return u.each(l.files,function(r){r.uniqueIdentifier==e&&(t=r)}),t},l.getSize=function(){var e=0;return u.each(l.files,function(t){e+=t.size}),e},l.handleDropEvent=function(e){p(e)},l.handleChangeEvent=function(e){c(e.target.files,e),e.target.value=""},l.updateQuery=function(e){l.opts.query=e},this};e.exports=t}()}]);